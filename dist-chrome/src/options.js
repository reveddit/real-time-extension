!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}({0:function(e,t,n){"use strict";n.r(t),n.d(t,"INTERVAL_DEFAULT",function(){return u}),n.d(t,"MAX_SYNC_STORAGE_ITEMS_PER_OBJECT",function(){return s}),n.d(t,"MAX_SYNC_STORAGE_CHANGES",function(){return a}),n.d(t,"MAX_OTHER_SUBSCRIPTIONS",function(){return f}),n.d(t,"REMOVED",function(){return d}),n.d(t,"APPROVED",function(){return l}),n.d(t,"LOCKED",function(){return h}),n.d(t,"UNLOCKED",function(){return g}),n.d(t,"EDITED",function(){return b}),n.d(t,"DELETED",function(){return v}),n.d(t,"getObjectNamesForThing",function(){return k}),n.d(t,"markEverythingAsSeen",function(){return O}),n.d(t,"markThingAsSeen",function(){return E}),n.d(t,"setStorageUpdateBadge",function(){return w}),n.d(t,"markIDsAsSeenIfSubscribed",function(){return S}),n.d(t,"subscribeId",function(){return D}),n.d(t,"unsubscribeId",function(){return I}),n.d(t,"getSubscribedIds",function(){return T}),n.d(t,"subscribeUser",function(){return $}),n.d(t,"unsubscribeUser",function(){return U}),n.d(t,"initStorage",function(){return A}),n.d(t,"getSubscribedUsers_withSeenAndUnseenIDs",function(){return M}),n.d(t,"getSubscribedUsers_withUnseenIDs",function(){return P}),n.d(t,"getUnseenIDs_thing",function(){return C}),n.d(t,"getIDs_thing",function(){return L}),n.d(t,"getLocalStorageItems",function(){return R}),n.d(t,"saveLocalStorageItems",function(){return N}),n.d(t,"addLocalStorageItems",function(){return x}),n.d(t,"getItemFromLocalStorage",function(){return F}),n.d(t,"getAllChanges",function(){return V}),n.d(t,"getOptions",function(){return B}),n.d(t,"saveOptions",function(){return K});var r=n(1);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=1,s=130,a=100,f=100,d=1,l=2,h=3,g=4,b=5,v=6,m={changes:[],removed:{},approved:{},locked:{},unlocked:{}},p=function(e,t,n){return n?e+"_u_"+t:e+"_"+t},y=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object.keys(m).forEach(function(r){e[p(r,t,n)]=m[r]})},k=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={};return Object.keys(m).forEach(function(r){n[r]=p(r,e,t)}),n},_=function(e){var t={};return y(t,e,!0),t},O=function(){return browser.storage.sync.get(null).then(function(e){return Object.keys(e.user_subscriptions).forEach(function(t){E(e,t,!0)}),E(e,"other",!1),w(e)})},E=function(e,t,n){var r=k(t,n);delete r.changes;var o=[];Object.values(r).forEach(function(e){o.push(e)}),o.forEach(function(t){Object.values(e[t]).forEach(function(e){e.u=!1})})},w=function(e){return browser.storage.sync.set(e).then(function(e){return browser.runtime.sendMessage({action:"update-badge"})})},j=function(e,t,n,o,c){var i=e[t[n]];Object.keys(o).forEach(function(e){e in i?i[e].u=!1:c&&(i[e]=new r.ItemForStorage(o[e],!1))})},S=function(e,t,n,r,o,c,i){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(){},s=k(t,n);delete s.changes;var a=e.user_subscriptions[t];!a&&n||(j(e,s,"removed",r,n),j(e,s,"approved",o,n),j(e,s,"locked",c,n),j(e,s,"unlocked",i,n),chrome.storage.sync.set(e,u))},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n="other_subscriptions";chrome.storage.sync.get(n,function(o){o[n][e]={t:Math.floor((new Date).getTime()/1e3)};var c=Object(r.trimDict_by_numberValuedAttribute)(o[n],f,"t");chrome.storage.sync.set(i({},n,c),t)})},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n="other_subscriptions",r=k("other",!1);delete r.changes,chrome.storage.sync.get(Object.values(r).concat(n),function(o){delete o[n][e],Object.values(r).forEach(function(t){e in o[t]&&delete o[t][e]}),chrome.storage.sync.set(o,function(){chrome.runtime.sendMessage({action:"update-badge"},t)})})},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t="other_subscriptions";chrome.storage.sync.get(t,function(n){e(Object.keys(n[t]))})},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=_(e);chrome.storage.sync.get("user_subscriptions",function(o){var i=o.user_subscriptions;e in i?n("already subscribed to this user"):Object.keys(i).length<5?(i[e]=!0,chrome.storage.sync.set(c({user_subscriptions:i},r),t)):n("maximum number of subscriptions reached")})},U=function(e,t){var n=Object.keys(_(e));chrome.storage.sync.get("user_subscriptions",function(r){var o=r.user_subscriptions;delete o[e],chrome.storage.sync.set({user_subscriptions:o},function(){chrome.storage.sync.remove(n,function(){var n=p("items",e,!0);chrome.runtime.sendMessage({action:"update-badge"}),chrome.storage.local.remove(n,t)})})})},A=function(e){chrome.storage.sync.get(null,function(t){var n;0===Object.keys(t).length?chrome.storage.sync.set((y(n={user_subscriptions:{},other_subscriptions:{},options:{interval:u,custom_clientid:"",removal_status:{track:!0,notify:!0},lock_status:{track:!0,notify:!0}}},"other",!1),n),e):e()})},M=function(e){chrome.storage.sync.get(null,function(t){var n=Object.keys(t.user_subscriptions),r={};n.forEach(function(e){r[e]=L(e,!0,t)}),r.other=L("other",!1,t),e(r,t)})},P=function(e){chrome.storage.sync.get(null,function(t){var n=Object.keys(t.user_subscriptions),r={};n.forEach(function(e){r[e]=C(e,!0,t)}),r.other=C("other",!1,t),e(r)})},C=function(e,t,n){return L(e,t,n).unseen},L=function(e,t,n){var r=n.options.removal_status.track,o=n.options.lock_status.track,c={},i={},u=[],s=k(e,t);return r&&u.push(s.removed,s.approved),o&&u.push(s.locked,s.unlocked),u.forEach(function(e){Object.keys(n[e]).forEach(function(t){n[e][t].u?c[t]=!0:i[t]=!0})}),{unseen:Object.keys(c),seen:Object.keys(i)}},R=function(e,t){var n=p("items",e,t);return browser.storage.local.get(i({},n,{})).then(function(e){return e[n]})},N=function(e,t,n){var r=p("items",e,t);return browser.storage.local.set(i({},r,n))},x=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=p("items",t,n);chrome.storage.local.get(i({},o,{}),function(t){var n=t[o];Object.keys(e).forEach(function(t){n[t]=e[t]});var c=n;Object.keys(n).length>500&&(c=trimDictOfItems_by_utcAttribute(n,500,"o")),chrome.storage.local.set(i({},o,c),r)})},F=function(e,t,n,o){var c=p("items",e,t);return c in o&&n in o[c]?new r.LocalStorageItem({object:o[c][n]}):""},V=function(e){chrome.storage.sync.get("user_subscriptions",function(t){var n=[p("changes","other",!1)],r={changes_other:"other"};Object.keys(t.user_subscriptions).forEach(function(e){var t=p("changes",e,!0);n.push(t),r[t]=e}),chrome.storage.sync.get(n,function(t){var o={};n.forEach(function(e){e in t&&t[e].length&&(o[r[e]]=t[e])}),e(o)})})},B=function(e){return browser.storage.sync.get(["user_subscriptions","other_subscriptions","options"]).then(function(t){var n=Object.keys(t.user_subscriptions),r=Object.keys(t.other_subscriptions),o=t.options;return e(n,r,o)}).catch(console.log)},K=function(e,t,n,r,o,c,i){chrome.storage.sync.set({options:{interval:e,custom_clientid:t,removal_status:{track:n,notify:r},lock_status:{track:o,notify:c}}},i)}},1:function(e,t,n){"use strict";n.r(t),n.d(t,"ALARM_NAME",function(){return u}),n.d(t,"createTab",function(){return s}),n.d(t,"getFullIDsFromURL",function(){return a}),n.d(t,"getFullIDsFromPath",function(){return l}),n.d(t,"reformatRedditText",function(){return h}),n.d(t,"isRemovedItem",function(){return g}),n.d(t,"isComment",function(){return b}),n.d(t,"isRemovedComment",function(){return v}),n.d(t,"isUserDeletedComment",function(){return m}),n.d(t,"isUserDeletedPost",function(){return p}),n.d(t,"isUserDeletedItem",function(){return y}),n.d(t,"isRemovedPost",function(){return k}),n.d(t,"trimDict_by_numberValuedAttribute",function(){return _}),n.d(t,"sortDict_by_numberValuedAttribute",function(){return O}),n.d(t,"ItemForStorage",function(){return E}),n.d(t,"ChangeForStorage",function(){return w}),n.d(t,"LocalStorageItem",function(){return j}),n.d(t,"setAlarm",function(){return S}),n.d(t,"alphaLowerSort",function(){return D}),n.d(t,"goToOptions",function(){return I}),n.d(t,"showError",function(){return T}),n.d(t,"pprint",function(){return U}),n.d(t,"getPrettyTimeLength",function(){return A}),n.d(t,"getPrettyDate",function(){return M}),n.d(t,"createNotification",function(){return P}),n.d(t,"updateBadgeUnseenCount",function(){return C});var r=n(0);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}var u="notifyme",s=function(e){chrome.tabs.create({url:e},function(t){t?chrome.windows.update(t.windowId,{focused:!0}):chrome.windows.create({url:e},function(e){chrome.windows.update(e.id,{focused:!0})})})},a=function(e){var t=e.replace(/https:\/\/[^/]*re(ve)?ddit.com/,"");return l(t)},f=/^\/(r|user)\/([^/]+)\/comments\/([^/]+)\/[^/]*(?:\/([^/?&#]+))?/,d=/^\/user\/([^/?&#]+)\/?/,l=function(e){var t=void 0,n=void 0,r=void 0,o=void 0,c=e.match(f),i=e.match(d);c?("user"===c[1]?r=c[2]:o=c[2],c[3]&&(t="t3_"+c[3]),c[4]&&(n="t1_"+c[4])):i&&(r=i[1]);return[t,n,r,o]},h=function(e){return e.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/\s+/g," ").substr(0,300)},g=function(e){return b(e.name)?v(e):k(e)},b=function(e){return"t1"===e.substr(0,2)},v=function(e){return("[removed]"===e.body.replace(/\\/g,"")||"[deleted]"===e.body.replace(/\\/g,""))&&"[deleted]"===e.author.replace(/\\/g,"")},m=function(e){return"[deleted]"===e.body.replace(/\\/g,"")&&"[deleted]"===e.author.replace(/\\/g,"")},p=function(e){return!e.is_robot_indexable&&"[deleted]"===e.author.replace(/\\/g,"")},y=function(e){return b(e.name)?m(e):p(e)},k=function(e){return!e.is_robot_indexable},_=function(e,t,n){var r=O(e,n).slice(0,t),o={};return r.forEach(function(e){o[e[0]]=e[1]}),o},O=function(e,t){var n=Object.keys(e).map(function(t){return[t,e[t]]});return n.sort(function(e,n){return n[1][t]-e[1][t]}),n},E=function(){function e(t,n){o(this,e),this.c=t,this.u=n}return i(e,[{key:"getCreatedUTC",value:function(){return this.c}},{key:"getUnseen",value:function(){return this.u}}]),e}(),w=function(){function e(t){var n=t.id,r=void 0===n?null:n,c=t.observed_utc,i=void 0===c?null:c,u=t.change_type,s=void 0===u?null:u,a=t.object,f=void 0===a?null:a;o(this,e),f?(this.i=f.i,this.o=f.o,this.g=f.g):(this.i=r,this.o=i,this.g=s)}return i(e,[{key:"getID",value:function(){return this.i}},{key:"getObservedUTC",value:function(){return this.o}},{key:"getChangeType",value:function(){switch(this.g){case r.REMOVED:return"mod removed";case r.DELETED:return"user deleted";case r.APPROVED:return"approved";case r.LOCKED:return"locked";case r.UNLOCKED:return"unlocked";case r.EDITED:return"edited"}}}]),e}(),j=function(){function e(t){var n=t.item,r=void 0===n?null:n,c=t.observed_utc,i=void 0===c?null:c,u=t.object,s=void 0===u?null:u;if(o(this,e),s)this.t=s.t,this.o=s.o,this.c=s.c;else{var a="";a=b(r.name)?h(r.body):r.title,this.t=a,this.o=i,this.c=r.created_utc}}return i(e,[{key:"setText",value:function(e){this.t=h(e)}},{key:"getText",value:function(){return this.t}},{key:"getObservedUTC",value:function(){return this.o}},{key:"getCreatedUTC",value:function(){return this.c}}]),e}();function S(e){chrome.alarms.clear(u),chrome.alarms.create(u,{delayInMinutes:1,periodInMinutes:e})}function D(e,t){var n=e.toLowerCase(),r=t.toLowerCase();return n<r?-1:n>r?1:0}function I(){chrome.runtime.openOptionsPage?(chrome.runtime.openOptionsPage(),window.close()):window.open(chrome.runtime.getURL("/src/options.html"))}function T(e,t){$('<div class="rr-error">'+e+"</div>").appendTo(t).delay(2400).fadeTo(400,0,function(){$(this).remove()})}function U(e){console.log(JSON.stringify(e,null,"\t"))}var A=function(e){var t=[[60,"second","seconds"],[60,"minute","minutes"],[24,"hour","hours"],[7,"day","days"],[365/12/7,"week","weeks"],[12,"month","months"],[10,"year","years"],[10,"decade","decades"],[10,"century","centuries"],[10,"millenium","millenia"]];if(e<60)return e+" seconds";for(var n=e,r=0;r<t.length;r++){var o=t[r][0],c=t[r][1],i=t[r][2];if(n<o){var u=n-Math.floor(n),s=Math.round(u*t[r-1][0]);if(t[r-1][0]===s&&(n+=1,s=0),(Math.floor(n)>1||0==Math.floor(n))&&(c=i),r>1&&s>0){var a=t[r-1][1];s>1&&(a=t[r-1][2]),c+=", "+String(s)+" "+a}return String(Math.floor(n))+" "+c}n/=o}},M=function(e){var t=Math.floor((new Date).getTime()/1e3)-e;return A(t)+" ago"},P=function(e){var t=e.notificationId,n=e.title,r=e.message;location.protocol.match(/^http/)?chrome.runtime.sendMessage({action:"create-notification",options:{notificationId:t,title:n,message:r}}):chrome.notifications.create(t,{type:"basic",iconUrl:"/icons/128.png",title:n,message:r})},C=function(){location.protocol.match(/^http/)?chrome.runtime.sendMessage({action:"update-badge"}):Object(r.getSubscribedUsers_withUnseenIDs)(function(e){var t=0;Object.values(e).forEach(function(e){t+=e.length});var n=t.toString();0==t&&(n=""),chrome.browserAction.setBadgeBackgroundColor({color:"red"}),chrome.browserAction.setBadgeText({text:n})})}},10:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(0);Object(o.getOptions)(function(e,t,n){var o=e.sort(r.alphaLowerSort);$('<div data-user="other"><a class="blue-link" target="_blank" href="/src/other.html">other</a></div><hr>').appendTo("#rr-subscriptions"),$.each(o,function(e,t){u(t)}),$("#interval").val(n.interval),$("#clientid").val(n.custom_clientid),$("#removed_track").prop("checked",n.removal_status.track),$("#removed_notify").prop("checked",n.removal_status.notify),$("#locked_track").prop("checked",n.lock_status.track),$("#locked_notify").prop("checked",n.lock_status.notify)});var c=$("#new");function i(){var e=c.val().trim();e&&Object(o.subscribeUser)(e,function(){u(e),c.val("")},function(e){Object(r.showError)(e,"#rr-opt-error")})}function u(e){$('<div data-user="'.concat(e,'"><a class="blue-link" target="_blank" href="https://www.reveddit.com/user/').concat(e,'">').concat(e,'</a> <a class="remove-subscription blue-link" href="#">remove</a></div>')).appendTo("#rr-subscriptions").find(".remove-subscription").click(s)}function s(e){var t=$(e.target).parent().attr("data-user");$(".remove-subscription").off("click"),Object(o.unsubscribeUser)(t,function(){$(e.target).parent().remove(),chrome.runtime.sendMessage({action:"update-badge"}),$(".remove-subscription").click(s)})}c.bind("enterKey",i),$("#rr-opt-add").click(i),$("#rr-opt-save").click(function(){var e=Number($("#interval").val()),t=$("#clientid").val().trim(),n=$("#removed_track").prop("checked"),c=$("#removed_notify").prop("checked"),i=$("#locked_track").prop("checked"),u=$("#locked_notify").prop("checked");Number.isInteger(e)&&e>0?Object(o.saveOptions)(e,t,n,c,i,u,function(){Object(r.setAlarm)(e),chrome.runtime.sendMessage({action:"update-badge"}),window.close()}):Object(r.showError)("minutes between updates must be an integer","#rr-opt-error")}),$("#reset").click(function(){$("#interval").val(o.INTERVAL_DEFAULT),$("#clientid").val("")}),$("#advanced-btn").click(function(e){return $("#advanced").show(),$(e.target).hide(),!1}),c.keyup(function(e){13==e.keyCode&&$(this).trigger("enterKey")}),["removed","locked"].forEach(function(e){$("#".concat(e,"_notify")).change(function(){this.checked&&$("#".concat(e,"_track")).prop("checked",!0)}),$("#".concat(e,"_track")).change(function(){this.checked||$("#".concat(e,"_notify")).prop("checked",!1)})})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NyYy9zdG9yYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy9zcmMvY29tbW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9zcmMvb3B0aW9ucy5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIklOVEVSVkFMX0RFRkFVTFQiLCJNQVhfU1lOQ19TVE9SQUdFX0lURU1TX1BFUl9PQkpFQ1QiLCJNQVhfU1lOQ19TVE9SQUdFX0NIQU5HRVMiLCJNQVhfT1RIRVJfU1VCU0NSSVBUSU9OUyIsIlJFTU9WRUQiLCJBUFBST1ZFRCIsIkxPQ0tFRCIsIlVOTE9DS0VEIiwiRURJVEVEIiwiREVMRVRFRCIsInRyYWNrVHlwZXMiLCJjaGFuZ2VzIiwicmVtb3ZlZCIsImFwcHJvdmVkIiwibG9ja2VkIiwidW5sb2NrZWQiLCJnZXRPYmplY3ROYW1lIiwidHlwZSIsInRoaW5nIiwiaXNVc2VyIiwiYWRkVHJhY2tUeXBlcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImtleXMiLCJmb3JFYWNoIiwiZ2V0T2JqZWN0TmFtZXNGb3JUaGluZyIsIm5hbWVzIiwiZ2V0VXNlckluaXQiLCJ1c2VyIiwicmVzdWx0IiwibWFya0V2ZXJ5dGhpbmdBc1NlZW4iLCJicm93c2VyIiwic3RvcmFnZSIsInN5bmMiLCJ0aGVuIiwidXNlcl9zdWJzY3JpcHRpb25zIiwibWFya1RoaW5nQXNTZWVuIiwic2V0U3RvcmFnZVVwZGF0ZUJhZGdlIiwiZnVsbEtleW5hbWVzIiwidmFsdWVzIiwiZnVsbEtleW5hbWUiLCJwdXNoIiwiaXRlbSIsInUiLCJzZXQiLCJyZXMiLCJydW50aW1lIiwic2VuZE1lc3NhZ2UiLCJhY3Rpb24iLCJtYXJrU2VlbkZvclN0b3JhZ2VLZXkiLCJzdG9yYWdlX2tleXMiLCJpZHMiLCJpc191c2VyIiwic3RvcmFnZV9pdGVtIiwiaWQiLCJJdGVtRm9yU3RvcmFnZSIsIm1hcmtJRHNBc1NlZW5JZlN1YnNjcmliZWQiLCJyZW1vdmVkX2lkcyIsImFwcHJvdmVkX2lkcyIsImxvY2tlZF9pZHMiLCJ1bmxvY2tlZF9pZHMiLCJjYWxsYmFjayIsInVzZXJfc3Vic2NyaWJlZCIsImNocm9tZSIsInN1YnNjcmliZUlkIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsImdldFRpbWUiLCJpdGVtc1RvU2F2ZSIsInRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZSIsIl9kZWZpbmVQcm9wZXJ0eSIsInVuc3Vic2NyaWJlSWQiLCJtYWluS2V5Iiwib3RoZXJLZXlzIiwiY29uY2F0IiwiZ2V0U3Vic2NyaWJlZElkcyIsInN1YnNjcmliZVVzZXIiLCJjYWxsYmFja1N1Y2Nlc3MiLCJjYWxsYmFja0Vycm9yIiwidXNlckluaXQiLCJfb2JqZWN0U3ByZWFkIiwidW5zdWJzY3JpYmVVc2VyIiwidXNlcktleXMiLCJyZW1vdmUiLCJ1c2VyS2V5X2xvY2FsU3RvcmFnZSIsImxvY2FsIiwiaW5pdFN0b3JhZ2UiLCJvdGhlcl9zdWJzY3JpcHRpb25zIiwib3B0aW9ucyIsImludGVydmFsIiwiY3VzdG9tX2NsaWVudGlkIiwicmVtb3ZhbF9zdGF0dXMiLCJ0cmFjayIsIm5vdGlmeSIsImxvY2tfc3RhdHVzIiwiZ2V0U3Vic2NyaWJlZFVzZXJzX3dpdGhTZWVuQW5kVW5zZWVuSURzIiwidXNlcnMiLCJ1c2Vyc193aXRoSURzIiwiZ2V0SURzX3RoaW5nIiwiZ2V0U3Vic2NyaWJlZFVzZXJzX3dpdGhVbnNlZW5JRHMiLCJnZXRVbnNlZW5JRHNfdGhpbmciLCJ0cmFja19yZW1vdmFsIiwidHJhY2tfbG9jayIsInVuc2VlbklEcyIsInNlZW5JRHMiLCJ0eXBlcyIsInVuc2VlbiIsInNlZW4iLCJnZXRMb2NhbFN0b3JhZ2VJdGVtcyIsImtleV9sb2NhbFN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2VJdGVtcyIsInNhdmVMb2NhbFN0b3JhZ2VJdGVtcyIsImFkZExvY2FsU3RvcmFnZUl0ZW1zIiwiaXRlbXMiLCJzdG9yZWRJdGVtcyIsInRyaW1EaWN0T2ZJdGVtc19ieV91dGNBdHRyaWJ1dGUiLCJnZXRJdGVtRnJvbUxvY2FsU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsIkxvY2FsU3RvcmFnZUl0ZW0iLCJnZXRBbGxDaGFuZ2VzIiwia2V5VG9Vc2VyX2xvb2t1cCIsImNoYW5nZXNfb3RoZXIiLCJyZXMyIiwiY2hhbmdlc0J5VXNlciIsImdldE9wdGlvbnMiLCJvdGhlcnMiLCJjb25zb2xlIiwibG9nIiwic2F2ZU9wdGlvbnMiLCJyZW1vdmVkX3RyYWNrIiwicmVtb3ZlZF9ub3RpZnkiLCJsb2NrZWRfdHJhY2siLCJsb2NrZWRfbm90aWZ5IiwiQUxBUk1fTkFNRSIsImNyZWF0ZVRhYiIsInVybCIsInRhYnMiLCJ0YWIiLCJ3aW5kb3dzIiwidXBkYXRlIiwid2luZG93SWQiLCJmb2N1c2VkIiwid2luIiwiZ2V0RnVsbElEc0Zyb21VUkwiLCJwYXRoIiwicmVwbGFjZSIsImdldEZ1bGxJRHNGcm9tUGF0aCIsInJlZ2V4X3BjIiwicmVnZXhfdXNlciIsInBvc3RJRCIsImNvbW1lbnRJRCIsInN1YnJlZGRpdCIsIm1hdGNoZXNfcGMiLCJtYXRjaCIsIm1hdGNoZXNfdXNlciIsInJlZm9ybWF0UmVkZGl0VGV4dCIsImJvZHkiLCJzdWJzdHIiLCJpc1JlbW92ZWRJdGVtIiwiaXNDb21tZW50IiwiaXNSZW1vdmVkQ29tbWVudCIsImlzUmVtb3ZlZFBvc3QiLCJhdXRob3IiLCJpc1VzZXJEZWxldGVkQ29tbWVudCIsImlzVXNlckRlbGV0ZWRQb3N0IiwiaXNfcm9ib3RfaW5kZXhhYmxlIiwiaXNVc2VyRGVsZXRlZEl0ZW0iLCJkaWN0IiwibWF4TnVtSXRlbXMiLCJudW1iZXJWYWx1ZWRBdHRyaWJ1dGUiLCJzaG9ydGVuZWRBcnJheSIsInNvcnREaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZSIsInNsaWNlIiwibmV3RGljdCIsImFycmF5IiwibWFwIiwic29ydCIsImEiLCJiIiwiY3JlYXRlZF91dGMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX2NyZWF0ZUNsYXNzIiwiQ2hhbmdlRm9yU3RvcmFnZSIsIl9yZWYiLCJfcmVmJGlkIiwiX3JlZiRvYnNlcnZlZF91dGMiLCJvYnNlcnZlZF91dGMiLCJfcmVmJGNoYW5nZV90eXBlIiwiY2hhbmdlX3R5cGUiLCJfcmVmJG9iamVjdCIsImciLCJfcmVmMiIsIl9yZWYyJGl0ZW0iLCJfcmVmMiRvYnNlcnZlZF91dGMiLCJfcmVmMiRvYmplY3QiLCJ0ZXh0IiwidGl0bGUiLCJzZXRBbGFybSIsInBlcmlvZEluTWludXRlcyIsImFsYXJtcyIsImNsZWFyIiwiZGVsYXlJbk1pbnV0ZXMiLCJhbHBoYUxvd2VyU29ydCIsInRleHRBIiwidG9Mb3dlckNhc2UiLCJ0ZXh0QiIsImdvVG9PcHRpb25zIiwib3Blbk9wdGlvbnNQYWdlIiwid2luZG93IiwiY2xvc2UiLCJvcGVuIiwiZ2V0VVJMIiwic2hvd0Vycm9yIiwibWVzc2FnZSIsInNlbGVjdG9yIiwiJCIsImFwcGVuZFRvIiwiZGVsYXkiLCJmYWRlVG8iLCJwcHJpbnQiLCJvYmoiLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0UHJldHR5VGltZUxlbmd0aCIsInNlY29uZHMiLCJ0aHJlc2hvbGRzIiwidGltZSIsImRpdmlzb3IiLCJ0ZXh0UGx1cmFsIiwiZXh0cmEiLCJwcmV2VW5pdFRpbWUiLCJyb3VuZCIsInJlbWFpblRleHQiLCJTdHJpbmciLCJnZXRQcmV0dHlEYXRlIiwiY3JlYXRlZFVUQyIsImNyZWF0ZU5vdGlmaWNhdGlvbiIsIl9yZWYzIiwibm90aWZpY2F0aW9uSWQiLCJsb2NhdGlvbiIsInByb3RvY29sIiwibm90aWZpY2F0aW9ucyIsImljb25VcmwiLCJ1cGRhdGVCYWRnZVVuc2VlbkNvdW50IiwidXNlcnNVbnNlZW5JRHMiLCJ0b3RhbCIsInRvU3RyaW5nIiwiYnJvd3NlckFjdGlvbiIsInNldEJhZGdlQmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJzZXRCYWRnZVRleHQiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX2NvbW1vbl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX3N0b3JhZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsInNvcnRlZCIsImVhY2giLCJ2IiwiZGlzcGxheVVzZXIiLCJ2YWwiLCJwcm9wIiwiJG5ldyIsImFkZFN1YnNjcmlwdGlvblZpYU9wdGlvbnMiLCJuZXdfdmFsIiwidHJpbSIsImVycm9yTWVzc2FnZSIsImZpbmQiLCJjbGljayIsInJlbW92ZVN1YnNjcmlwdGlvbiIsImUiLCJ0YXJnZXQiLCJwYXJlbnQiLCJhdHRyIiwib2ZmIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiZXYiLCJzaG93IiwiaGlkZSIsImtleXVwIiwia2V5Q29kZSIsInRyaWdnZXIiLCJjaGFuZ2UiLCJjaGVja2VkIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9yQixFQUFvQlUsRUFBRWUsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnpCLEVBQW9CNkIsRUFBSSxTQUFTMUIsR0FDaEMsSUFBSVMsRUFBU1QsR0FBVUEsRUFBT3FCLFdBQzdCLFdBQXdCLE9BQU9yQixFQUFnQixTQUMvQyxXQUE4QixPQUFPQSxHQUV0QyxPQURBSCxFQUFvQlUsRUFBRUUsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUlosRUFBb0JhLEVBQUksU0FBU2lCLEVBQVFDLEdBQVksT0FBT2pCLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3VCLEVBQVFDLElBR3pHL0IsRUFBb0JrQyxFQUFJLEdBSWpCbEMsRUFBb0JBLEVBQW9CbUMsRUFBSSxJLCtzRUNoRjlDLElBQU1DLEVBQW1CLEVBTW5CQyxFQUFvQyxJQUNwQ0MsRUFBMkIsSUFDM0JDLEVBQTBCLElBRTFCQyxFQUFVLEVBQ1ZDLEVBQVcsRUFDWEMsRUFBUyxFQUNUQyxFQUFXLEVBQ1hDLEVBQVMsRUFDVEMsRUFBVSxFQUVqQkMsRUFBYSxDQUFDQyxRQUFXLEdBQUlDLFFBQVcsR0FBSUMsU0FBWSxHQUFJQyxPQUFVLEdBQUlDLFNBQVksSUFFdEZDLEVBQWdCLFNBQUNDLEVBQU1DLEVBQU9DLEdBQ2hDLE9BQUlBLEVBQ09GLEVBQUssTUFBTUMsRUFFWEQsRUFBSyxJQUFJQyxHQUlsQkUsRUFBZ0IsU0FBQzFCLEVBQVF3QixHQUF1QixJQUFoQkMsSUFBZ0JFLFVBQUFDLE9BQUEsUUFBQUMsSUFBQUYsVUFBQSxLQUFBQSxVQUFBLEdBQ2xEM0MsT0FBTzhDLEtBQUtkLEdBQVllLFFBQVEsU0FBQVIsR0FDNUJ2QixFQUFPc0IsRUFBY0MsRUFBTUMsRUFBT0MsSUFBV1QsRUFBV08sTUFJbkRTLEVBQXlCLFNBQUNSLEdBQXVCLElBQWhCQyxJQUFnQkUsVUFBQUMsT0FBQSxRQUFBQyxJQUFBRixVQUFBLEtBQUFBLFVBQUEsR0FDcERNLEVBQVEsR0FJZCxPQUhBakQsT0FBTzhDLEtBQUtkLEdBQVllLFFBQVEsU0FBQVIsR0FDNUJVLEVBQU1WLEdBQVFELEVBQWNDLEVBQU1DLEVBQU9DLEtBRXRDUSxHQUdMQyxFQUFjLFNBQUNDLEdBQ2pCLElBQU1DLEVBQVMsR0FFZixPQURBVixFQUFjVSxFQUFRRCxHQUFNLEdBQ3JCQyxHQWFFQyxFQUF1QixXQUNoQyxPQUFPQyxRQUFRQyxRQUFRQyxLQUFLckQsSUFBSSxNQUMvQnNELEtBQUssU0FBQUYsR0FPRixPQU5jdkQsT0FBTzhDLEtBQUtTLEVBQVFHLG9CQUU1QlgsUUFBUSxTQUFBSSxHQUNWUSxFQUFnQkosRUFBU0osR0FBTSxLQUVuQ1EsRUFBZ0JKLEVBQVMsU0FBUyxHQUMzQkssRUFBc0JMLE1BSXhCSSxFQUFrQixTQUFDSixFQUFTZixFQUFPQyxHQUM1QyxJQUFNSyxFQUFPRSxFQUF1QlIsRUFBT0MsVUFDcENLLEVBQUksUUFDWCxJQUFNZSxFQUFlLEdBQ3JCN0QsT0FBTzhELE9BQU9oQixHQUFNQyxRQUFRLFNBQUFnQixHQUN4QkYsRUFBYUcsS0FBS0QsS0FFdEJGLEVBQWFkLFFBQVEsU0FBQWdCLEdBQ2pCL0QsT0FBTzhELE9BQU9QLEVBQVFRLElBQWNoQixRQUFRLFNBQUFrQixHQUN4Q0EsRUFBS0MsR0FBSSxPQUtSTixFQUF3QixTQUFDTCxHQUNsQyxPQUFPRCxRQUFRQyxRQUFRQyxLQUFLVyxJQUFJWixHQUMvQkUsS0FBSyxTQUFBVyxHQUNGLE9BQU9kLFFBQVFlLFFBQVFDLFlBQVksQ0FBQ0MsT0FBUSxvQkFJOUNDLEVBQXdCLFNBQUNqQixFQUFTa0IsRUFBYzVELEVBQUs2RCxFQUFLQyxHQUM1RCxJQUFNQyxFQUFlckIsRUFBUWtCLEVBQWE1RCxJQUMxQ2IsT0FBTzhDLEtBQUs0QixHQUFLM0IsUUFBUSxTQUFBOEIsR0FDakJBLEtBQU1ELEVBQ05BLEVBQWFDLEdBQUlYLEdBQUksRUFDZFMsSUFDUEMsRUFBYUMsR0FBTSxJQUFJQyxpQkFBZUosRUFBSUcsSUFBSyxPQUs5Q0UsRUFBNEIsU0FBQ3hCLEVBQVNKLEVBQU13QixFQUFTSyxFQUFhQyxFQUFjQyxFQUFZQyxHQUFzQyxJQUF4QkMsRUFBd0J6QyxVQUFBQyxPQUFBLFFBQUFDLElBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFiLGFBQ3hIOEIsRUFBZXpCLEVBQXVCRyxFQUFNd0IsVUFDM0NGLEVBQVksUUFDbkIsSUFBTVksRUFBa0I5QixFQUFRRyxtQkFBbUJQLElBQy9Da0MsR0FBcUJWLElBQ3JCSCxFQUFzQmpCLEVBQVNrQixFQUFjLFVBQVdPLEVBQWFMLEdBQ3JFSCxFQUFzQmpCLEVBQVNrQixFQUFjLFdBQVlRLEVBQWNOLEdBQ3ZFSCxFQUFzQmpCLEVBQVNrQixFQUFjLFNBQVVTLEVBQVlQLEdBQ25FSCxFQUFzQmpCLEVBQVNrQixFQUFjLFdBQVlVLEVBQWNSLEdBQ3ZFVyxPQUFPL0IsUUFBUUMsS0FBS1csSUFBSVosRUFBUzZCLEtBSzVCRyxFQUFjLFNBQUNWLEdBQTRCLElBQXhCTyxFQUF3QnpDLFVBQUFDLE9BQUEsUUFBQUMsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQWIsYUFDakM5QixFQUFNLHNCQUNaeUUsT0FBTy9CLFFBQVFDLEtBQUtyRCxJQUFJVSxFQUFLLFNBQUN1QyxHQUMxQkEsRUFBT3ZDLEdBQUtnRSxHQUFNLENBQUNyRSxFQUFHZ0YsS0FBS0MsT0FBTSxJQUFJQyxNQUFPQyxVQUFVLE1BQ3RELElBQU1DLEVBQWNDLDRDQUFrQ3pDLEVBQU92QyxHQUNQWSxFQUNBLEtBQ3RENkQsT0FBTy9CLFFBQVFDLEtBQUtXLElBQXBCMkIsRUFBQSxHQUEwQmpGLEVBQU0rRSxHQUFjUixNQUd6Q1csRUFBZ0IsU0FBQ2xCLEdBQTRCLElBQXhCTyxFQUF3QnpDLFVBQUFDLE9BQUEsUUFBQUMsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQWIsYUFDbkNxRCxFQUFVLHNCQUNWQyxFQUFZakQsRUFBdUIsU0FBUyxVQUMzQ2lELEVBQVMsUUFDaEJYLE9BQU8vQixRQUFRQyxLQUFLckQsSUFBSUgsT0FBTzhELE9BQU9tQyxHQUFXQyxPQUFPRixHQUFVLFNBQUM1QyxVQUN4REEsRUFBTzRDLEdBQVNuQixHQUN2QjdFLE9BQU84RCxPQUFPbUMsR0FBV2xELFFBQVEsU0FBQWdCLEdBQ3pCYyxLQUFNekIsRUFBT1csV0FDTlgsRUFBT1csR0FBYWMsS0FHbkNTLE9BQU8vQixRQUFRQyxLQUFLVyxJQUFJZixFQUFRLFdBQzVCa0MsT0FBT2pCLFFBQVFDLFlBQVksQ0FBQ0MsT0FBUSxnQkFBaUJhLFFBSXBEZSxFQUFtQixXQUF5QixJQUF4QmYsRUFBd0J6QyxVQUFBQyxPQUFBLFFBQUFDLElBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFiLGFBQ2xDOUIsRUFBTSxzQkFDWnlFLE9BQU8vQixRQUFRQyxLQUFLckQsSUFBSVUsRUFBSyxTQUFDdUMsR0FDMUJnQyxFQUFTcEYsT0FBTzhDLEtBQUtNLEVBQU92QyxRQUl2QnVGLEVBQWdCLFNBQUNqRCxHQUErRCxJQUF6RGtELEVBQXlEMUQsVUFBQUMsT0FBQSxRQUFBQyxJQUFBRixVQUFBLEdBQUFBLFVBQUEsR0FBdkMsYUFBVTJELEVBQTZCM0QsVUFBQUMsT0FBQSxRQUFBQyxJQUFBRixVQUFBLEdBQUFBLFVBQUEsR0FBYixhQUN0RTRELEVBQVdyRCxFQUFZQyxHQUM3Qm1DLE9BQU8vQixRQUFRQyxLQUFLckQsSUFBSSxxQkFBc0IsU0FBQ2lELEdBQzNDLElBQU1NLEVBQXFCTixFQUFPTSxtQkFDM0JQLEtBQVFPLEVBUVg0QyxFQUFjLG1DQVBWdEcsT0FBTzhDLEtBQUtZLEdBQW9CZCxPQXRKdEIsR0F1SlZjLEVBQW1CUCxJQUFRLEVBQzNCbUMsT0FBTy9CLFFBQVFDLEtBQUtXLElBQXBCcUMsRUFBQSxDQUF5QjlDLHNCQUF1QjZDLEdBQVdGLElBRTNEQyxFQUFjLDhDQVFqQkcsRUFBa0IsU0FBQ3RELEVBQU1pQyxHQUNsQyxJQUFNc0IsRUFBVzFHLE9BQU84QyxLQUFLSSxFQUFZQyxJQUN6Q21DLE9BQU8vQixRQUFRQyxLQUFLckQsSUFBSSxxQkFBc0IsU0FBQ2lELEdBQzNDLElBQU1NLEVBQXFCTixFQUFPTSwwQkFDM0JBLEVBQW1CUCxHQUMxQm1DLE9BQU8vQixRQUFRQyxLQUFLVyxJQUFJLENBQUNULHNCQUFxQixXQUMxQzRCLE9BQU8vQixRQUFRQyxLQUFLbUQsT0FBT0QsRUFBVSxXQUNqQyxJQUFNRSxFQUF1QnRFLEVBQWMsUUFBU2EsR0FBTSxHQUMxRG1DLE9BQU9qQixRQUFRQyxZQUFZLENBQUNDLE9BQVEsaUJBQ3BDZSxPQUFPL0IsUUFBUXNELE1BQU1GLE9BQU9DLEVBQXNCeEIsVUFNckQwQixFQUFjLFNBQUMxQixHQUN4QkUsT0FBTy9CLFFBQVFDLEtBQUtyRCxJQUFJLEtBQU0sU0FBQ29ELEdBdklaLElBQ2JILEVBdUlrQyxJQUFoQ3BELE9BQU84QyxLQUFLUyxHQUFTWCxPQUNyQjBDLE9BQU8vQixRQUFRQyxLQUFLVyxLQW5JNUJ6QixFQUxNVSxFQUFTLENBQ1hNLG1CQUFvQixHQUNwQnFELG9CQUFxQixHQUNyQkMsUUFBUyxDQUFDQyxTQUFVM0YsRUFBa0I0RixnQkFBaUIsR0FBSUMsZUFBZ0IsQ0FBQ0MsT0FBTyxFQUFNQyxRQUFRLEdBQU9DLFlBQWEsQ0FBQ0YsT0FBTyxFQUFNQyxRQUFRLEtBRXpILFNBQVMsR0FDeEJqRSxHQWtJMkNnQyxHQUUxQ0EsT0FLQ21DLEVBQTBDLFNBQUNuQyxHQUNwREUsT0FBTy9CLFFBQVFDLEtBQUtyRCxJQUFJLEtBQU0sU0FBQ29ELEdBQzNCLElBQU1pRSxFQUFReEgsT0FBTzhDLEtBQUtTLEVBQVFHLG9CQUM1QitELEVBQWdCLEdBQ3RCRCxFQUFNekUsUUFBUSxTQUFBSSxHQUNWc0UsRUFBY3RFLEdBQVF1RSxFQUFhdkUsR0FBTSxFQUFNSSxLQUVuRGtFLEVBQWEsTUFBWUMsRUFBYSxTQUFTLEVBQU9uRSxHQUN0RDZCLEVBQVNxQyxFQUFlbEUsTUFJbkJvRSxFQUFtQyxTQUFDdkMsR0FDN0NFLE9BQU8vQixRQUFRQyxLQUFLckQsSUFBSSxLQUFNLFNBQUNvRCxHQUMzQixJQUFNaUUsRUFBUXhILE9BQU84QyxLQUFLUyxFQUFRRyxvQkFDNUIrRCxFQUFnQixHQUN0QkQsRUFBTXpFLFFBQVEsU0FBQUksR0FDVnNFLEVBQWN0RSxHQUFReUUsRUFBbUJ6RSxHQUFNLEVBQU1JLEtBRXpEa0UsRUFBYSxNQUFZRyxFQUFtQixTQUFTLEVBQU9yRSxHQUM1RDZCLEVBQVNxQyxNQUlKRyxFQUFxQixTQUFDcEYsRUFBT0MsRUFBUWMsR0FDOUMsT0FBT21FLEVBQWFsRixFQUFPQyxFQUFRYyxHQUE1QixRQUlFbUUsRUFBZSxTQUFDbEYsRUFBT0MsRUFBUWMsR0FDeEMsSUFBTXNFLEVBQWdCdEUsRUFBUXlELFFBQVFHLGVBQWVDLE1BQy9DVSxFQUFhdkUsRUFBUXlELFFBQVFNLFlBQVlGLE1BQ3pDVyxFQUFZLEdBQ1pDLEVBQVUsR0FDWkMsRUFBUSxHQUNObkYsRUFBT0UsRUFBdUJSLEVBQU9DLEdBVzNDLE9BVklvRixHQUFlSSxFQUFNakUsS0FBS2xCLEVBQUksUUFBYUEsRUFBSSxVQUMvQ2dGLEdBQVlHLEVBQU1qRSxLQUFLbEIsRUFBSSxPQUFZQSxFQUFJLFVBRS9DbUYsRUFBTWxGLFFBQVEsU0FBQVIsR0FDVnZDLE9BQU84QyxLQUFLUyxFQUFRaEIsSUFBT1EsUUFBUSxTQUFBOEIsR0FDbEJ0QixFQUFRaEIsR0FBTXNDLEdBQ2xCWCxFQUFHNkQsRUFBVWxELElBQU0sRUFDdkJtRCxFQUFRbkQsSUFBTSxNQUdwQixDQUFDcUQsT0FBUWxJLE9BQU84QyxLQUFLaUYsR0FBWUksS0FBTW5JLE9BQU84QyxLQUFLa0YsS0FHakRJLEVBQXVCLFNBQUM1RixFQUFPQyxHQUN4QyxJQUFNNEYsRUFBbUIvRixFQUFjLFFBQVNFLEVBQU9DLEdBQ3ZELE9BQU9hLFFBQVFDLFFBQVFzRCxNQUFNMUcsSUFBdEIyRixFQUFBLEdBQTRCdUMsRUFBbUIsS0FDckQ1RSxLQUFLLFNBQUE2RSxHQUNGLE9BQU9BLEVBQWtCRCxNQUlwQkUsRUFBd0IsU0FBQy9GLEVBQU9DLEVBQVFtRCxHQUNqRCxJQUFNeUMsRUFBbUIvRixFQUFjLFFBQVNFLEVBQU9DLEdBQ3ZELE9BQU9hLFFBQVFDLFFBQVFzRCxNQUFNMUMsSUFBdEIyQixFQUFBLEdBQTRCdUMsRUFBbUJ6QyxLQUc3QzRDLEVBQXVCLFNBQUNDLEVBQU9qRyxFQUFPQyxHQUFnQyxJQUF4QjJDLEVBQXdCekMsVUFBQUMsT0FBQSxRQUFBQyxJQUFBRixVQUFBLEdBQUFBLFVBQUEsR0FBYixhQUM1RDBGLEVBQW1CL0YsRUFBYyxRQUFTRSxFQUFPQyxHQUN2RDZDLE9BQU8vQixRQUFRc0QsTUFBTTFHLElBQXJCMkYsRUFBQSxHQUEyQnVDLEVBQW1CLElBQUssU0FBQ0MsR0FDaEQsSUFBTUksRUFBY0osRUFBa0JELEdBQ3RDckksT0FBTzhDLEtBQUsyRixHQUFPMUYsUUFBUSxTQUFBOEIsR0FDdkI2RCxFQUFZN0QsR0FBTTRELEVBQU01RCxLQUU1QixJQUFJZSxFQUFjOEMsRUFDZDFJLE9BQU84QyxLQUFLNEYsR0FBYTlGLE9BaFFNLE1BaVEvQmdELEVBQWMrQyxnQ0FBZ0NELEVBalFmLElBaVFnRSxNQUVuR3BELE9BQU8vQixRQUFRc0QsTUFBTTFDLElBQXJCMkIsRUFBQSxHQUEyQnVDLEVBQW1CekMsR0FBY1IsTUFJdkR3RCxFQUEwQixTQUFDcEcsRUFBT0MsRUFBUW9DLEVBQUlnRSxHQUN2RCxJQUFNaEksRUFBTXlCLEVBQWMsUUFBU0UsRUFBT0MsR0FDMUMsT0FBSTVCLEtBQU9nSSxHQUNIaEUsS0FBTWdFLEVBQWFoSSxHQUNaLElBQUlpSSxtQkFBaUIsQ0FBQzlILE9BQVE2SCxFQUFhaEksR0FBS2dFLEtBR3hELElBR0VrRSxFQUFnQixTQUFDM0QsR0FDMUJFLE9BQU8vQixRQUFRQyxLQUFLckQsSUFBSSxxQkFBc0IsU0FBQ2lELEdBQzNDLElBQU1OLEVBQU8sQ0FBQ1IsRUFBYyxVQUFXLFNBQVMsSUFDMUMwRyxFQUFtQixDQUFDQyxjQUFlLFNBRXpDakosT0FBTzhDLEtBQUtNLEVBQU9NLG9CQUFvQlgsUUFBUSxTQUFBSSxHQUMzQyxJQUFNdEMsRUFBTXlCLEVBQWMsVUFBV2EsR0FBTSxHQUMzQ0wsRUFBS2tCLEtBQUtuRCxHQUNWbUksRUFBaUJuSSxHQUFPc0MsSUFFNUJtQyxPQUFPL0IsUUFBUUMsS0FBS3JELElBQUkyQyxFQUFNLFNBQUNvRyxHQUMzQixJQUFNQyxFQUFnQixHQUN0QnJHLEVBQUtDLFFBQVEsU0FBQWxDLEdBQ0pBLEtBQU9xSSxHQUFTQSxFQUFLckksR0FBSytCLFNBQzNCdUcsRUFBY0gsRUFBaUJuSSxJQUFRcUksRUFBS3JJLE1BR3BEdUUsRUFBUytELFFBS1JDLEVBQWEsU0FBQ2hFLEdBQ3ZCLE9BQU85QixRQUFRQyxRQUFRQyxLQUFLckQsSUFBSSxDQUFDLHFCQUFzQixzQkFBdUIsWUFDN0VzRCxLQUFLLFNBQUFMLEdBQ0YsSUFBTW9FLEVBQVF4SCxPQUFPOEMsS0FBS00sRUFBT00sb0JBQzNCMkYsRUFBU3JKLE9BQU84QyxLQUFLTSxFQUFPMkQscUJBQzVCQyxFQUFVNUQsRUFBTzRELFFBQ3ZCLE9BQU81QixFQUFTb0MsRUFBTzZCLEVBQVFyQyxLQUw1QixNQU9Bc0MsUUFBUUMsTUFFTkMsRUFBYyxTQUFDdkMsRUFBVUMsRUFBaUJ1QyxFQUFlQyxFQUFnQkMsRUFBY0MsRUFBZXhFLEdBQy9HRSxPQUFPL0IsUUFBUUMsS0FBS1csSUFBSSxDQUFDNkMsUUFBUyxDQUNOQyxXQUNBQyxrQkFDQUMsZUFBZ0IsQ0FBQ0MsTUFBT3FDLEVBQWVwQyxPQUFRcUMsR0FDL0NwQyxZQUFnQixDQUFDRixNQUFPdUMsRUFBZXRDLE9BQVF1QyxLQUNuRHhFLEssNmlEQzNUckIsSUFBTXlFLEVBQWEsV0FNYkMsRUFBWSxTQUFDQyxHQUN0QnpFLE9BQU8wRSxLQUFLcEosT0FBTyxDQUFDbUosSUFBSUEsR0FBTSxTQUFDRSxHQUN0QkEsRUFRRDNFLE9BQU80RSxRQUFRQyxPQUFPRixFQUFJRyxTQUFVLENBQUNDLFNBQVMsSUFOOUMvRSxPQUFPNEUsUUFBUXRKLE9BQU8sQ0FBQ21KLElBQUlBLEdBQU0sU0FBQ08sR0FFOUJoRixPQUFPNEUsUUFBUUMsT0FBT0csRUFBSXpGLEdBQUksQ0FBQ3dGLFNBQVMsU0FTM0NFLEVBQW9CLFNBQUNSLEdBQzlCLElBQU1TLEVBQU9ULEVBQUlVLFFBQVEsaUNBQWtDLElBQzNELE9BQU9DLEVBQW1CRixJQUd4QkcsRUFBVyxrRUFDWEMsRUFBYSx5QkFFTkYsRUFBcUIsU0FBQ0YsR0FDL0IsSUFBSUssT0FBU2hJLEVBQVdpSSxPQUFZakksRUFBV00sT0FBT04sRUFBV2tJLE9BQVlsSSxFQUN2RW1JLEVBQWFSLEVBQUtTLE1BQU1OLEdBQ3hCTyxFQUFlVixFQUFLUyxNQUFNTCxHQUM1QkksR0FFYSxTQURBQSxFQUFXLEdBRXBCN0gsRUFBTzZILEVBQVcsR0FFbEJELEVBQVlDLEVBQVcsR0FFdkJBLEVBQVcsS0FBSUgsRUFBUyxNQUFNRyxFQUFXLElBQ3pDQSxFQUFXLEtBQUlGLEVBQVksTUFBTUUsRUFBVyxLQUN6Q0UsSUFDUC9ILEVBQU8rSCxFQUFhLElBRXhCLE1BQU8sQ0FBQ0wsRUFBUUMsRUFBVzNILEVBQU00SCxJQUd4QkksRUFBcUIsU0FBQ0MsR0FDL0IsT0FBT0EsRUFBS1gsUUFBUSxTQUFVLEtBQUtBLFFBQVEsUUFBUyxLQUFLQSxRQUFRLFFBQVMsS0FDckVBLFFBQVEsT0FBUSxLQUFLWSxPQUFPLEVBL0NOLE1Ba0RsQkMsRUFBZ0IsU0FBQ3JILEdBQzFCLE9BQUlzSCxFQUFVdEgsRUFBS3BFLE1BQ1IyTCxFQUFpQnZILEdBRWpCd0gsRUFBY3hILElBSWhCc0gsRUFBWSxTQUFDMUwsR0FDdEIsTUFBNEIsT0FBckJBLEVBQUt3TCxPQUFPLEVBQUUsSUFFWkcsRUFBbUIsU0FBQ3ZILEdBQzdCLE9BQTBDLGNBQWpDQSxFQUFLbUgsS0FBS1gsUUFBUSxNQUFPLEtBQ1EsY0FBakN4RyxFQUFLbUgsS0FBS1gsUUFBUSxNQUFPLE1BQ1MsY0FBbkN4RyxFQUFLeUgsT0FBT2pCLFFBQVEsTUFBTyxLQUUxQmtCLEVBQXVCLFNBQUMxSCxHQUNqQyxNQUF5QyxjQUFqQ0EsRUFBS21ILEtBQUtYLFFBQVEsTUFBTyxLQUNVLGNBQW5DeEcsRUFBS3lILE9BQU9qQixRQUFRLE1BQU8sS0FFMUJtQixFQUFvQixTQUFDM0gsR0FDOUIsT0FBVUEsRUFBSzRILG9CQUEwRCxjQUFuQzVILEVBQUt5SCxPQUFPakIsUUFBUSxNQUFPLEtBRXhEcUIsRUFBb0IsU0FBQzdILEdBQzlCLE9BQUlzSCxFQUFVdEgsRUFBS3BFLE1BQ1I4TCxFQUFxQjFILEdBRXJCMkgsRUFBa0IzSCxJQUdwQndILEVBQWdCLFNBQUN4SCxHQUMxQixPQUFTQSxFQUFLNEgsb0JBR0xoRyxFQUFvQyxTQUFDa0csRUFBTUMsRUFBYUMsR0FDakUsSUFFTUMsRUFGUUMsRUFBa0NKLEVBQU1FLEdBRXpCRyxNQUFNLEVBQUdKLEdBQ2hDSyxFQUFVLEdBSWhCLE9BSEFILEVBQWVuSixRQUFRLFNBQUFrQixHQUNuQm9JLEVBQVFwSSxFQUFLLElBQU1BLEVBQUssS0FFckJvSSxHQUdFRixFQUFvQyxTQUFDSixFQUFNRSxHQUNwRCxJQUFJSyxFQUFRdE0sT0FBTzhDLEtBQUtpSixHQUFNUSxJQUFJLFNBQUExTCxHQUM5QixNQUFPLENBQUNBLEVBQUtrTCxFQUFLbEwsTUFLdEIsT0FIQXlMLEVBQU1FLEtBQUssU0FBQ0MsRUFBR0MsR0FDWCxPQUFPQSxFQUFFLEdBQUdULEdBQXlCUSxFQUFFLEdBQUdSLEtBRXZDSyxHQUdFeEgsRUFBYixXQUNJLFNBQUFBLEVBQVk2SCxFQUFhekUsR0FBUTBFLEVBQUFDLEtBQUEvSCxHQUM3QitILEtBQUtsTixFQUFJZ04sRUFDVEUsS0FBSzNJLEVBQUlnRSxFQUhqQixPQUFBNEUsRUFBQWhJLEVBQUEsRUFBQWpFLElBQUEsZ0JBQUFOLE1BQUEsV0FLc0IsT0FBT3NNLEtBQUtsTixJQUxsQyxDQUFBa0IsSUFBQSxZQUFBTixNQUFBLFdBTWtCLE9BQU9zTSxLQUFLM0ksTUFOOUJZLEVBQUEsR0FTYWlJLEVBQWIsV0FDSSxTQUFBQSxFQUFBQyxHQUFtRixJQUFBQyxFQUFBRCxFQUFyRW5JLFVBQXFFLElBQUFvSSxFQUFoRSxLQUFnRUEsRUFBQUMsRUFBQUYsRUFBMURHLG9CQUEwRCxJQUFBRCxFQUEzQyxLQUEyQ0EsRUFBQUUsRUFBQUosRUFBckNLLG1CQUFxQyxJQUFBRCxFQUF2QixLQUF1QkEsRUFBQUUsRUFBQU4sRUFBakJoTSxjQUFpQixJQUFBc00sRUFBUixLQUFRQSxFQUFBVixFQUFBQyxLQUFBRSxHQUMzRS9MLEdBQ0E2TCxLQUFLdk4sRUFBSTBCLEVBQU8xQixFQUNoQnVOLEtBQUs5TSxFQUFJaUIsRUFBT2pCLEVBQ2hCOE0sS0FBS1UsRUFBSXZNLEVBQU91TSxJQUVoQlYsS0FBS3ZOLEVBQUl1RixFQUNUZ0ksS0FBSzlNLEVBQUlvTixFQUNUTixLQUFLVSxFQUFJRixHQVRyQixPQUFBUCxFQUFBQyxFQUFBLEVBQUFsTSxJQUFBLFFBQUFOLE1BQUEsV0FZYyxPQUFPc00sS0FBS3ZOLElBWjFCLENBQUF1QixJQUFBLGlCQUFBTixNQUFBLFdBYXVCLE9BQU9zTSxLQUFLOU0sSUFibkMsQ0FBQWMsSUFBQSxnQkFBQU4sTUFBQSxXQWVRLE9BQU9zTSxLQUFLVSxHQUNSLEtBQUs3TCxVQUFTLE1BQU8sY0FDckIsS0FBS0ssVUFBUyxNQUFPLGVBQ3JCLEtBQUtKLFdBQVUsTUFBTyxXQUN0QixLQUFLQyxTQUFRLE1BQU8sU0FDcEIsS0FBS0MsV0FBVSxNQUFPLFdBQ3RCLEtBQUtDLFNBQVEsTUFBTyxjQXJCaENpTCxFQUFBLEdBMEJhakUsRUFBYixXQUNJLFNBQUFBLEVBQUEwRSxHQUFpRSxJQUFBQyxFQUFBRCxFQUFuRHZKLFlBQW1ELElBQUF3SixFQUE1QyxLQUE0Q0EsRUFBQUMsRUFBQUYsRUFBdENMLG9CQUFzQyxJQUFBTyxFQUF2QixLQUF1QkEsRUFBQUMsRUFBQUgsRUFBakJ4TSxjQUFpQixJQUFBMk0sRUFBUixLQUFRQSxFQUM3RCxHQUQ2RGYsRUFBQUMsS0FBQS9ELEdBQ3pEOUgsRUFDQTZMLEtBQUtyTSxFQUFJUSxFQUFPUixFQUNoQnFNLEtBQUs5TSxFQUFJaUIsRUFBT2pCLEVBQ2hCOE0sS0FBS2xOLEVBQUlxQixFQUFPckIsTUFDYixDQUNILElBQUlpTyxFQUFPLEdBRVBBLEVBREFyQyxFQUFVdEgsRUFBS3BFLE1BQ1JzTCxFQUFtQmxILEVBQUttSCxNQUV4Qm5ILEVBQUs0SixNQUVoQmhCLEtBQUtyTSxFQUFJb04sRUFDVGYsS0FBSzlNLEVBQUlvTixFQUNUTixLQUFLbE4sRUFBSXNFLEVBQUswSSxhQWYxQixPQUFBRyxFQUFBaEUsRUFBQSxFQUFBakksSUFBQSxVQUFBTixNQUFBLFNBa0JZcU4sR0FBT2YsS0FBS3JNLEVBQUkySyxFQUFtQnlDLEtBbEIvQyxDQUFBL00sSUFBQSxVQUFBTixNQUFBLFdBbUJnQixPQUFPc00sS0FBS3JNLElBbkI1QixDQUFBSyxJQUFBLGlCQUFBTixNQUFBLFdBb0J1QixPQUFPc00sS0FBSzlNLElBcEJuQyxDQUFBYyxJQUFBLGdCQUFBTixNQUFBLFdBcUJzQixPQUFPc00sS0FBS2xOLE1BckJsQ21KLEVBQUEsR0F3Qk8sU0FBU2dGLEVBQVNDLEdBQ3JCekksT0FBTzBJLE9BQU9DLE1BQU1wRSxHQUNwQnZFLE9BQU8wSSxPQUFPcE4sT0FBT2lKLEVBQVksQ0FBQ3FFLGVBQWdCLEVBQUdILGdCQUFpQkEsSUFHbkUsU0FBU0ksRUFBZ0IxQixFQUFHQyxHQUMvQixJQUFJMEIsRUFBUTNCLEVBQUU0QixjQUNWQyxFQUFRNUIsRUFBRTJCLGNBRWQsT0FBSUQsRUFBUUUsR0FBZSxFQUN2QkYsRUFBUUUsRUFBYyxFQUNuQixFQUdKLFNBQVNDLElBQ1JqSixPQUFPakIsUUFBUW1LLGlCQUNmbEosT0FBT2pCLFFBQVFtSyxrQkFDZkMsT0FBT0MsU0FFUEQsT0FBT0UsS0FBS3JKLE9BQU9qQixRQUFRdUssT0FBTyxzQkFLbkMsU0FBU0MsRUFBVUMsRUFBU0MsR0FDL0JDLEVBQUUseUJBQXlCRixFQUFRLFVBQVVHLFNBQVNGLEdBQVVHLE1BQU0sTUFBTUMsT0FBTyxJQUFLLEVBQUcsV0FBWUgsRUFBRW5DLE1BQU1sRyxXQUk1RyxTQUFTeUksRUFBT0MsR0FDbkIvRixRQUFRQyxJQUFJK0YsS0FBS0MsVUFBVUYsRUFBSyxLQUFNLE9BSW5DLElBQU1HLEVBQXNCLFNBQUNDLEdBQ2hDLElBQU1DLEVBQWEsQ0FBQyxDQUFDLEdBQUksU0FBVSxXQUFZLENBQUMsR0FBSSxTQUFVLFdBQVksQ0FBQyxHQUFJLE9BQVEsU0FBVSxDQUFDLEVBQUcsTUFBTyxRQUM1RyxDQUFDLElBQUksR0FBRyxFQUFHLE9BQVEsU0FBVSxDQUFDLEdBQUksUUFBUyxVQUFXLENBQUMsR0FBSSxPQUFRLFNBQ25FLENBQUMsR0FBSSxTQUFVLFdBQVksQ0FBQyxHQUFJLFVBQVcsYUFBYyxDQUFDLEdBQUksWUFBYSxhQUMzRSxHQUFJRCxFQUFVLEdBQUksT0FBT0EsRUFBVSxXQUVuQyxJQURBLElBQUlFLEVBQU9GLEVBQ0ZuUSxFQUFFLEVBQUdBLEVBQUVvUSxFQUFXOU0sT0FBUXRELElBQUssQ0FDcEMsSUFBSXNRLEVBQVVGLEVBQVdwUSxHQUFHLEdBQ3hCc08sRUFBTzhCLEVBQVdwUSxHQUFHLEdBQ3JCdVEsRUFBYUgsRUFBV3BRLEdBQUcsR0FDL0IsR0FBSXFRLEVBQU9DLEVBQVMsQ0FDaEIsSUFBSUUsRUFBU0gsRUFBT25LLEtBQUtDLE1BQU1rSyxHQUMzQkksRUFBZXZLLEtBQUt3SyxNQUFNRixFQUFNSixFQUFXcFEsRUFBRSxHQUFHLElBUXBELEdBUElvUSxFQUFXcFEsRUFBRSxHQUFHLEtBQU95USxJQUN2QkosR0FBUSxFQUNSSSxFQUFlLElBRWZ2SyxLQUFLQyxNQUFNa0ssR0FBUSxHQUF5QixHQUFwQm5LLEtBQUtDLE1BQU1rSyxNQUNuQy9CLEVBQU9pQyxHQUVQdlEsRUFBSSxHQUFLeVEsRUFBZSxFQUFHLENBQzNCLElBQUlFLEVBQWFQLEVBQVdwUSxFQUFFLEdBQUcsR0FDN0J5USxFQUFlLElBQ2ZFLEVBQWFQLEVBQVdwUSxFQUFFLEdBQUcsSUFFakNzTyxHQUFRLEtBQU9zQyxPQUFPSCxHQUFnQixJQUFNRSxFQUVoRCxPQUFPQyxPQUFPMUssS0FBS0MsTUFBTWtLLElBQVMsSUFBTS9CLEVBRTVDK0IsR0FBY0MsSUFJVE8sRUFBZ0IsU0FBQ0MsR0FDMUIsSUFBTVgsRUFBVWpLLEtBQUtDLE9BQU8sSUFBSUMsTUFBTUMsVUFBVSxLQUFNeUssRUFDdEQsT0FBT1osRUFBb0JDLEdBQVcsUUFHN0JZLEVBQXFCLFNBQUNDLEdBQXFDLElBQXBDQyxFQUFvQ0QsRUFBcENDLGVBQWdCMUMsRUFBb0J5QyxFQUFwQnpDLE1BQU9pQixFQUFhd0IsRUFBYnhCLFFBQ25EMEIsU0FBU0MsU0FBU3hGLE1BQU0sU0FDeEIzRixPQUFPakIsUUFBUUMsWUFBWSxDQUN2QkMsT0FBUSxzQkFDUnlDLFFBQVMsQ0FBQ3VKLGlCQUFnQjFDLFFBQU9pQixhQUdyQ3hKLE9BQU9vTCxjQUFjOVAsT0FBTzJQLEVBQ3hCLENBQUNoTyxLQUFNLFFBQVNvTyxRQUFTLGlCQUN4QjlDLFFBQU9pQixhQUlQOEIsRUFBeUIsV0FDOUJKLFNBQVNDLFNBQVN4RixNQUFNLFNBQ3hCM0YsT0FBT2pCLFFBQVFDLFlBQVksQ0FDdkJDLE9BQVEsaUJBR1pvRCwyQ0FBaUMsU0FBQWtKLEdBQzdCLElBQUlDLEVBQVEsRUFDWjlRLE9BQU84RCxPQUFPK00sR0FBZ0I5TixRQUFRLFNBQUEyQixHQUNsQ29NLEdBQVNwTSxFQUFJOUIsU0FFakIsSUFBSWdMLEVBQU9rRCxFQUFNQyxXQUNKLEdBQVRELElBQVlsRCxFQUFPLElBQ3ZCdEksT0FBTzBMLGNBQWNDLHdCQUF3QixDQUFDQyxNQUFPLFFBQ3JENUwsT0FBTzBMLGNBQWNHLGFBQWEsQ0FBQ3ZELEtBQU1BLFEsZ0NDN1FyRDFPLEVBQUFrQixFQUFBZ1IsR0FBQSxJQUFBQyxFQUFBblMsRUFBQSxHQUFBb1MsRUFBQXBTLEVBQUEsR0FPQWtLLHFCQUFXLFNBQUM1QixFQUFPNkIsRUFBUXJDLEdBQ3ZCLElBQUl1SyxFQUFTL0osRUFBTWdGLEtBQUsyQixrQkE0RlRhLEVBQUUsMEdBQTBHQyxTQUFTLHFCQTFGcElELEVBQUV3QyxLQUFLRCxFQUFRLFNBQVVqUyxFQUFFbVMsR0FDdkJDLEVBQVlELEtBRWhCekMsRUFBRSxhQUFhMkMsSUFBSTNLLEVBQVFDLFVBQzNCK0gsRUFBRSxhQUFhMkMsSUFBSTNLLEVBQVFFLGlCQUUzQjhILEVBQUUsa0JBQWtCNEMsS0FBSyxVQUFXNUssRUFBUUcsZUFBZUMsT0FDM0Q0SCxFQUFFLG1CQUFtQjRDLEtBQUssVUFBVzVLLEVBQVFHLGVBQWVFLFFBRTVEMkgsRUFBRSxpQkFBaUI0QyxLQUFLLFVBQVc1SyxFQUFRTSxZQUFZRixPQUN2RDRILEVBQUUsa0JBQWtCNEMsS0FBSyxVQUFXNUssRUFBUU0sWUFBWUQsVUFHNUQsSUFBSXdLLEVBQU83QyxFQUFFLFFBMERiLFNBQVM4QyxJQUNMLElBQUlDLEVBQVVGLEVBQUtGLE1BQU1LLE9BQ3JCRCxHQUNBM0wsd0JBQWMyTCxFQUFTLFdBQ25CTCxFQUFZSyxHQUNaRixFQUFLRixJQUFJLEtBQ1YsU0FBQ00sR0FDQXBELG9CQUFVb0QsRUFBYyxtQkFNcEMsU0FBU1AsRUFBWXZPLEdBQ0Y2TCxFQUFFLG1CQUFEOUksT0FBb0IvQyxFQUFwQiwrRUFBQStDLE9BQXNHL0MsRUFBdEcsTUFBQStDLE9BQStHL0MsRUFBL0csNEVBQThMOEwsU0FBUyxxQkFDOU1pRCxLQUFLLHdCQUF3QkMsTUFBTUMsR0FPaEQsU0FBU0EsRUFBbUJDLEdBQ3hCLElBQUlsUCxFQUFPNkwsRUFBRXFELEVBQUVDLFFBQVFDLFNBQVNDLEtBQUssYUFDckN4RCxFQUFFLHdCQUF3QnlELElBQUksU0FDOUJoTSwwQkFBZ0J0RCxFQUFNLFdBQ2xCNkwsRUFBRXFELEVBQUVDLFFBQVFDLFNBQVM1TCxTQUNyQnJCLE9BQU9qQixRQUFRQyxZQUFZLENBQUNDLE9BQVEsaUJBQ3BDeUssRUFBRSx3QkFBd0JtRCxNQUFNQyxLQXBGeENQLEVBQUsvUSxLQUFLLFdBQVdnUixHQUVyQjlDLEVBQUUsZUFBZW1ELE1BQU1MLEdBRXZCOUMsRUFBRSxnQkFBZ0JtRCxNQStCbEIsV0FDSSxJQUFNbEwsRUFBV3lMLE9BQU8xRCxFQUFFLGFBQWEyQyxPQUNqQ3pLLEVBQWtCOEgsRUFBRSxhQUFhMkMsTUFBTUssT0FDdkN2SSxFQUFnQnVGLEVBQUUsa0JBQWtCNEMsS0FBSyxXQUN6Q2xJLEVBQWlCc0YsRUFBRSxtQkFBbUI0QyxLQUFLLFdBRTNDakksRUFBZXFGLEVBQUUsaUJBQWlCNEMsS0FBSyxXQUN2Q2hJLEVBQWdCb0YsRUFBRSxrQkFBa0I0QyxLQUFLLFdBRTNDYyxPQUFPQyxVQUFVMUwsSUFBYUEsRUFBVyxFQUN6Q3VDLHNCQUFZdkMsRUFBVUMsRUFBaUJ1QyxFQUFlQyxFQUFnQkMsRUFBY0MsRUFBZSxXQUMvRmtFLG1CQUFTN0csR0FDVDNCLE9BQU9qQixRQUFRQyxZQUFZLENBQUNDLE9BQVEsaUJBQ3BDa0ssT0FBT0MsVUFHWEcsb0JBQVUsNkNBQThDLG1CQTlDaEVHLEVBQUUsVUFBVW1ELE1BeUJaLFdBQ0luRCxFQUFFLGFBQWEyQyxJQUFJclEsb0JBQ25CME4sRUFBRSxhQUFhMkMsSUFBSSxNQXpCdkIzQyxFQUFFLGlCQUFpQm1ELE1BQU0sU0FBQ1MsR0FHdEIsT0FGQTVELEVBQUUsYUFBYTZELE9BQ2Y3RCxFQUFFNEQsRUFBR04sUUFBUVEsUUFDTixJQUdYakIsRUFBS2tCLE1BQU0sU0FBU1YsR0FDQSxJQUFiQSxFQUFFVyxTQUFlaEUsRUFBRW5DLE1BQU1vRyxRQUFRLGNBR3hDLENBQUMsVUFBVyxVQUFVbFEsUUFBUSxTQUFBUixHQUMxQnlNLEVBQUUsSUFBRDlJLE9BQUszRCxFQUFMLFlBQW9CMlEsT0FBTyxXQUNyQnJHLEtBQUtzRyxTQUNKbkUsRUFBRSxJQUFEOUksT0FBSzNELEVBQUwsV0FBbUJxUCxLQUFLLFdBQVcsS0FHNUM1QyxFQUFFLElBQUQ5SSxPQUFLM0QsRUFBTCxXQUFtQjJRLE9BQU8sV0FDbEJyRyxLQUFLc0csU0FDTm5FLEVBQUUsSUFBRDlJLE9BQUszRCxFQUFMLFlBQW9CcVAsS0FBSyxXQUFXIiwiZmlsZSI6Im9wdGlvbnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTApO1xuIiwiaW1wb3J0IHthbHBoYUxvd2VyU29ydCwgSXRlbUZvclN0b3JhZ2UsIExvY2FsU3RvcmFnZUl0ZW0sIHRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZX0gZnJvbSAnLi9jb21tb24uanMnXG5cbmV4cG9ydCBjb25zdCBJTlRFUlZBTF9ERUZBVUxUID0gMTtcblxuLy8gVGhlc2UgbGltaXRzIGFyZSBzZXQgd2l0aCBjb25zaWRlcmF0aW9uIGZvciBDaHJvbWUncyBzeW5jICYgbG9jYWwgc3RvcmFnZSBsaW1pdHMsXG4vLyBhbmQgZm9yIHRoZSBvYmplY3RzIHN0b3JlZCBieSB0aGUgZXh0ZW5zaW9uXG5jb25zdCBNQVhfU1VCU0NSSVBUSU9OUyA9IDU7XG5jb25zdCBNQVhfTE9DQUxfU1RPUkFHRV9JVEVNU19QRVJfT0JKRUNUID0gNTAwXG5leHBvcnQgY29uc3QgTUFYX1NZTkNfU1RPUkFHRV9JVEVNU19QRVJfT0JKRUNUID0gMTMwXG5leHBvcnQgY29uc3QgTUFYX1NZTkNfU1RPUkFHRV9DSEFOR0VTID0gMTAwXG5leHBvcnQgY29uc3QgTUFYX09USEVSX1NVQlNDUklQVElPTlMgPSAxMDBcblxuZXhwb3J0IGNvbnN0IFJFTU9WRUQgPSAxXG5leHBvcnQgY29uc3QgQVBQUk9WRUQgPSAyXG5leHBvcnQgY29uc3QgTE9DS0VEID0gM1xuZXhwb3J0IGNvbnN0IFVOTE9DS0VEID0gNFxuZXhwb3J0IGNvbnN0IEVESVRFRCA9IDVcbmV4cG9ydCBjb25zdCBERUxFVEVEID0gNlxuXG5jb25zdCB0cmFja1R5cGVzID0geydjaGFuZ2VzJzogW10sICdyZW1vdmVkJzoge30sICdhcHByb3ZlZCc6IHt9LCAnbG9ja2VkJzoge30sICd1bmxvY2tlZCc6IHt9fTtcblxuY29uc3QgZ2V0T2JqZWN0TmFtZSA9ICh0eXBlLCB0aGluZywgaXNVc2VyKSA9PiB7XG4gICAgaWYgKGlzVXNlcikge1xuICAgICAgICByZXR1cm4gdHlwZSsnX3VfJyt0aGluZ1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0eXBlKydfJyt0aGluZ1xuICAgIH1cbn1cblxuY29uc3QgYWRkVHJhY2tUeXBlcyA9IChvYmplY3QsIHRoaW5nLCBpc1VzZXI9dHJ1ZSkgPT4ge1xuICAgIE9iamVjdC5rZXlzKHRyYWNrVHlwZXMpLmZvckVhY2godHlwZSA9PiB7XG4gICAgICAgIG9iamVjdFtnZXRPYmplY3ROYW1lKHR5cGUsIHRoaW5nLCBpc1VzZXIpXSA9IHRyYWNrVHlwZXNbdHlwZV1cbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgZ2V0T2JqZWN0TmFtZXNGb3JUaGluZyA9ICh0aGluZywgaXNVc2VyPXRydWUpID0+IHtcbiAgICBjb25zdCBuYW1lcyA9IHt9XG4gICAgT2JqZWN0LmtleXModHJhY2tUeXBlcykuZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgICAgbmFtZXNbdHlwZV0gPSBnZXRPYmplY3ROYW1lKHR5cGUsIHRoaW5nLCBpc1VzZXIpXG4gICAgfSlcbiAgICByZXR1cm4gbmFtZXNcbn1cblxuY29uc3QgZ2V0VXNlckluaXQgPSAodXNlcikgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9XG4gICAgYWRkVHJhY2tUeXBlcyhyZXN1bHQsIHVzZXIsIHRydWUpXG4gICAgcmV0dXJuIHJlc3VsdFxufVxuXG5jb25zdCBnZXRTdG9yYWdlSW5pdCA9ICgpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIHVzZXJfc3Vic2NyaXB0aW9uczoge30sXG4gICAgICAgIG90aGVyX3N1YnNjcmlwdGlvbnM6IHt9LFxuICAgICAgICBvcHRpb25zOiB7aW50ZXJ2YWw6IElOVEVSVkFMX0RFRkFVTFQsIGN1c3RvbV9jbGllbnRpZDogJycsIHJlbW92YWxfc3RhdHVzOiB7dHJhY2s6IHRydWUsIG5vdGlmeTogdHJ1ZX0sIGxvY2tfc3RhdHVzOiB7dHJhY2s6IHRydWUsIG5vdGlmeTogdHJ1ZX19XG4gICAgfVxuICAgIGFkZFRyYWNrVHlwZXMocmVzdWx0LCAnb3RoZXInLCBmYWxzZSlcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgY29uc3QgbWFya0V2ZXJ5dGhpbmdBc1NlZW4gPSAoKSA9PiB7XG4gICAgcmV0dXJuIGJyb3dzZXIuc3RvcmFnZS5zeW5jLmdldChudWxsKVxuICAgIC50aGVuKHN0b3JhZ2UgPT4ge1xuICAgICAgICBjb25zdCB1c2VycyA9IE9iamVjdC5rZXlzKHN0b3JhZ2UudXNlcl9zdWJzY3JpcHRpb25zKTtcbiAgICAgICAgY29uc3QgYWxsS2V5cyA9IFtdXG4gICAgICAgIHVzZXJzLmZvckVhY2godXNlciA9PiB7XG4gICAgICAgICAgICBtYXJrVGhpbmdBc1NlZW4oc3RvcmFnZSwgdXNlciwgdHJ1ZSlcbiAgICAgICAgfSlcbiAgICAgICAgbWFya1RoaW5nQXNTZWVuKHN0b3JhZ2UsICdvdGhlcicsIGZhbHNlKVxuICAgICAgICByZXR1cm4gc2V0U3RvcmFnZVVwZGF0ZUJhZGdlKHN0b3JhZ2UpXG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IG1hcmtUaGluZ0FzU2VlbiA9IChzdG9yYWdlLCB0aGluZywgaXNVc2VyKSA9PiB7XG4gICAgY29uc3Qga2V5cyA9IGdldE9iamVjdE5hbWVzRm9yVGhpbmcodGhpbmcsIGlzVXNlcilcbiAgICBkZWxldGUga2V5c1snY2hhbmdlcyddXG4gICAgY29uc3QgZnVsbEtleW5hbWVzID0gW11cbiAgICBPYmplY3QudmFsdWVzKGtleXMpLmZvckVhY2goZnVsbEtleW5hbWUgPT4ge1xuICAgICAgICBmdWxsS2V5bmFtZXMucHVzaChmdWxsS2V5bmFtZSlcbiAgICB9KVxuICAgIGZ1bGxLZXluYW1lcy5mb3JFYWNoKGZ1bGxLZXluYW1lID0+IHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhzdG9yYWdlW2Z1bGxLZXluYW1lXSkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIGl0ZW0udSA9IGZhbHNlXG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IHNldFN0b3JhZ2VVcGRhdGVCYWRnZSA9IChzdG9yYWdlKSA9PiB7XG4gICAgcmV0dXJuIGJyb3dzZXIuc3RvcmFnZS5zeW5jLnNldChzdG9yYWdlKVxuICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIHJldHVybiBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe2FjdGlvbjogJ3VwZGF0ZS1iYWRnZSd9KVxuICAgIH0pXG59XG5cbmNvbnN0IG1hcmtTZWVuRm9yU3RvcmFnZUtleSA9IChzdG9yYWdlLCBzdG9yYWdlX2tleXMsIGtleSwgaWRzLCBpc191c2VyKSA9PiB7XG4gICAgY29uc3Qgc3RvcmFnZV9pdGVtID0gc3RvcmFnZVtzdG9yYWdlX2tleXNba2V5XV1cbiAgICBPYmplY3Qua2V5cyhpZHMpLmZvckVhY2goaWQgPT4ge1xuICAgICAgICBpZiAoaWQgaW4gc3RvcmFnZV9pdGVtKSB7XG4gICAgICAgICAgICBzdG9yYWdlX2l0ZW1baWRdLnUgPSBmYWxzZVxuICAgICAgICB9IGVsc2UgaWYgKGlzX3VzZXIpIHtcbiAgICAgICAgICAgIHN0b3JhZ2VfaXRlbVtpZF0gPSBuZXcgSXRlbUZvclN0b3JhZ2UoaWRzW2lkXSwgZmFsc2UpXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgbWFya0lEc0FzU2VlbklmU3Vic2NyaWJlZCA9IChzdG9yYWdlLCB1c2VyLCBpc191c2VyLCByZW1vdmVkX2lkcywgYXBwcm92ZWRfaWRzLCBsb2NrZWRfaWRzLCB1bmxvY2tlZF9pZHMsIGNhbGxiYWNrID0gKCkgPT4ge30pID0+IHtcbiAgICBjb25zdCBzdG9yYWdlX2tleXMgPSBnZXRPYmplY3ROYW1lc0ZvclRoaW5nKHVzZXIsIGlzX3VzZXIpXG4gICAgZGVsZXRlIHN0b3JhZ2Vfa2V5c1snY2hhbmdlcyddXG4gICAgY29uc3QgdXNlcl9zdWJzY3JpYmVkID0gc3RvcmFnZS51c2VyX3N1YnNjcmlwdGlvbnNbdXNlcl1cbiAgICBpZiAodXNlcl9zdWJzY3JpYmVkIHx8ICEgaXNfdXNlcikge1xuICAgICAgICBtYXJrU2VlbkZvclN0b3JhZ2VLZXkoc3RvcmFnZSwgc3RvcmFnZV9rZXlzLCAncmVtb3ZlZCcsIHJlbW92ZWRfaWRzLCBpc191c2VyKVxuICAgICAgICBtYXJrU2VlbkZvclN0b3JhZ2VLZXkoc3RvcmFnZSwgc3RvcmFnZV9rZXlzLCAnYXBwcm92ZWQnLCBhcHByb3ZlZF9pZHMsIGlzX3VzZXIpXG4gICAgICAgIG1hcmtTZWVuRm9yU3RvcmFnZUtleShzdG9yYWdlLCBzdG9yYWdlX2tleXMsICdsb2NrZWQnLCBsb2NrZWRfaWRzLCBpc191c2VyKVxuICAgICAgICBtYXJrU2VlbkZvclN0b3JhZ2VLZXkoc3RvcmFnZSwgc3RvcmFnZV9rZXlzLCAndW5sb2NrZWQnLCB1bmxvY2tlZF9pZHMsIGlzX3VzZXIpXG4gICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHN0b3JhZ2UsIGNhbGxiYWNrKVxuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlSWQgPSAoaWQsIGNhbGxiYWNrID0gKCkgPT4ge30pID0+IHtcbiAgICBjb25zdCBrZXkgPSAnb3RoZXJfc3Vic2NyaXB0aW9ucydcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChrZXksIChyZXN1bHQpID0+IHtcbiAgICAgICAgcmVzdWx0W2tleV1baWRdID0ge3Q6IE1hdGguZmxvb3IobmV3IERhdGUoKS5nZXRUaW1lKCkvMTAwMCl9XG4gICAgICAgIGNvbnN0IGl0ZW1zVG9TYXZlID0gdHJpbURpY3RfYnlfbnVtYmVyVmFsdWVkQXR0cmlidXRlKHJlc3VsdFtrZXldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNQVhfT1RIRVJfU1VCU0NSSVBUSU9OUyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3QnKVxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7W2tleV06IGl0ZW1zVG9TYXZlfSwgY2FsbGJhY2spXG4gICAgfSlcbn1cbmV4cG9ydCBjb25zdCB1bnN1YnNjcmliZUlkID0gKGlkLCBjYWxsYmFjayA9ICgpID0+IHt9KSA9PiB7XG4gICAgY29uc3QgbWFpbktleSA9ICdvdGhlcl9zdWJzY3JpcHRpb25zJ1xuICAgIGNvbnN0IG90aGVyS2V5cyA9IGdldE9iamVjdE5hbWVzRm9yVGhpbmcoJ290aGVyJywgZmFsc2UpXG4gICAgZGVsZXRlIG90aGVyS2V5c1snY2hhbmdlcyddXG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoT2JqZWN0LnZhbHVlcyhvdGhlcktleXMpLmNvbmNhdChtYWluS2V5KSwgKHJlc3VsdCkgPT4ge1xuICAgICAgICBkZWxldGUgcmVzdWx0W21haW5LZXldW2lkXVxuICAgICAgICBPYmplY3QudmFsdWVzKG90aGVyS2V5cykuZm9yRWFjaChmdWxsS2V5bmFtZSA9PiB7XG4gICAgICAgICAgICBpZiAoaWQgaW4gcmVzdWx0W2Z1bGxLZXluYW1lXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSByZXN1bHRbZnVsbEtleW5hbWVdW2lkXVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldChyZXN1bHQsICgpID0+IHtcbiAgICAgICAgICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHthY3Rpb246ICd1cGRhdGUtYmFkZ2UnfSwgY2FsbGJhY2spXG4gICAgICAgIH0pXG4gICAgfSlcbn1cbmV4cG9ydCBjb25zdCBnZXRTdWJzY3JpYmVkSWRzID0gKGNhbGxiYWNrID0gKCkgPT4ge30pID0+IHtcbiAgICBjb25zdCBrZXkgPSAnb3RoZXJfc3Vic2NyaXB0aW9ucydcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChrZXksIChyZXN1bHQpID0+IHtcbiAgICAgICAgY2FsbGJhY2soT2JqZWN0LmtleXMocmVzdWx0W2tleV0pKVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBzdWJzY3JpYmVVc2VyID0gKHVzZXIsIGNhbGxiYWNrU3VjY2VzcyA9ICgpID0+IHt9LCBjYWxsYmFja0Vycm9yID0gKCkgPT4ge30pID0+IHtcbiAgICBjb25zdCB1c2VySW5pdCA9IGdldFVzZXJJbml0KHVzZXIpXG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoJ3VzZXJfc3Vic2NyaXB0aW9ucycsIChyZXN1bHQpID0+IHtcbiAgICAgICAgY29uc3QgdXNlcl9zdWJzY3JpcHRpb25zID0gcmVzdWx0LnVzZXJfc3Vic2NyaXB0aW9uc1xuICAgICAgICBpZiAoISAodXNlciBpbiB1c2VyX3N1YnNjcmlwdGlvbnMpKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModXNlcl9zdWJzY3JpcHRpb25zKS5sZW5ndGggPCBNQVhfU1VCU0NSSVBUSU9OUykge1xuICAgICAgICAgICAgICAgIHVzZXJfc3Vic2NyaXB0aW9uc1t1c2VyXSA9IHRydWVcbiAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7dXNlcl9zdWJzY3JpcHRpb25zLCAuLi51c2VySW5pdH0sIGNhbGxiYWNrU3VjY2VzcylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tFcnJvcignbWF4aW11bSBudW1iZXIgb2Ygc3Vic2NyaXB0aW9ucyByZWFjaGVkJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrRXJyb3IoJ2FscmVhZHkgc3Vic2NyaWJlZCB0byB0aGlzIHVzZXInKVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IHVuc3Vic2NyaWJlVXNlciA9ICh1c2VyLCBjYWxsYmFjaykgPT4ge1xuICAgIGNvbnN0IHVzZXJLZXlzID0gT2JqZWN0LmtleXMoZ2V0VXNlckluaXQodXNlcikpXG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoJ3VzZXJfc3Vic2NyaXB0aW9ucycsIChyZXN1bHQpID0+IHtcbiAgICAgICAgY29uc3QgdXNlcl9zdWJzY3JpcHRpb25zID0gcmVzdWx0LnVzZXJfc3Vic2NyaXB0aW9uc1xuICAgICAgICBkZWxldGUgdXNlcl9zdWJzY3JpcHRpb25zW3VzZXJdXG4gICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHt1c2VyX3N1YnNjcmlwdGlvbnN9LCAoKSA9PiB7XG4gICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnJlbW92ZSh1c2VyS2V5cywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJLZXlfbG9jYWxTdG9yYWdlID0gZ2V0T2JqZWN0TmFtZSgnaXRlbXMnLCB1c2VyLCB0cnVlKVxuICAgICAgICAgICAgICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHthY3Rpb246ICd1cGRhdGUtYmFkZ2UnfSlcbiAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5yZW1vdmUodXNlcktleV9sb2NhbFN0b3JhZ2UsIGNhbGxiYWNrKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgaW5pdFN0b3JhZ2UgPSAoY2FsbGJhY2spID0+IHtcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChudWxsLCAoc3RvcmFnZSkgPT4ge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMoc3RvcmFnZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldChnZXRTdG9yYWdlSW5pdCgpLCBjYWxsYmFjaylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKClcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRTdWJzY3JpYmVkVXNlcnNfd2l0aFNlZW5BbmRVbnNlZW5JRHMgPSAoY2FsbGJhY2spID0+IHtcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChudWxsLCAoc3RvcmFnZSkgPT4ge1xuICAgICAgICBjb25zdCB1c2VycyA9IE9iamVjdC5rZXlzKHN0b3JhZ2UudXNlcl9zdWJzY3JpcHRpb25zKTtcbiAgICAgICAgY29uc3QgdXNlcnNfd2l0aElEcyA9IHt9XG4gICAgICAgIHVzZXJzLmZvckVhY2godXNlciA9PiB7XG4gICAgICAgICAgICB1c2Vyc193aXRoSURzW3VzZXJdID0gZ2V0SURzX3RoaW5nKHVzZXIsIHRydWUsIHN0b3JhZ2UpXG4gICAgICAgIH0pXG4gICAgICAgIHVzZXJzX3dpdGhJRHNbJ290aGVyJ10gPSBnZXRJRHNfdGhpbmcoJ290aGVyJywgZmFsc2UsIHN0b3JhZ2UpXG4gICAgICAgIGNhbGxiYWNrKHVzZXJzX3dpdGhJRHMsIHN0b3JhZ2UpXG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGdldFN1YnNjcmliZWRVc2Vyc193aXRoVW5zZWVuSURzID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQobnVsbCwgKHN0b3JhZ2UpID0+IHtcbiAgICAgICAgY29uc3QgdXNlcnMgPSBPYmplY3Qua2V5cyhzdG9yYWdlLnVzZXJfc3Vic2NyaXB0aW9ucyk7XG4gICAgICAgIGNvbnN0IHVzZXJzX3dpdGhJRHMgPSB7fVxuICAgICAgICB1c2Vycy5mb3JFYWNoKHVzZXIgPT4ge1xuICAgICAgICAgICAgdXNlcnNfd2l0aElEc1t1c2VyXSA9IGdldFVuc2VlbklEc190aGluZyh1c2VyLCB0cnVlLCBzdG9yYWdlKVxuICAgICAgICB9KVxuICAgICAgICB1c2Vyc193aXRoSURzWydvdGhlciddID0gZ2V0VW5zZWVuSURzX3RoaW5nKCdvdGhlcicsIGZhbHNlLCBzdG9yYWdlKVxuICAgICAgICBjYWxsYmFjayh1c2Vyc193aXRoSURzKVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRVbnNlZW5JRHNfdGhpbmcgPSAodGhpbmcsIGlzVXNlciwgc3RvcmFnZSkgPT4ge1xuICAgIHJldHVybiBnZXRJRHNfdGhpbmcodGhpbmcsIGlzVXNlciwgc3RvcmFnZSlbJ3Vuc2VlbiddXG59XG5cbi8vIEdldCBJRHMgb2YgaXRlbXMgd2hvc2Ugc3RhdHVzIGhhcyBjaGFuZ2VkXG5leHBvcnQgY29uc3QgZ2V0SURzX3RoaW5nID0gKHRoaW5nLCBpc1VzZXIsIHN0b3JhZ2UpID0+IHtcbiAgICBjb25zdCB0cmFja19yZW1vdmFsID0gc3RvcmFnZS5vcHRpb25zLnJlbW92YWxfc3RhdHVzLnRyYWNrXG4gICAgY29uc3QgdHJhY2tfbG9jayA9IHN0b3JhZ2Uub3B0aW9ucy5sb2NrX3N0YXR1cy50cmFja1xuICAgIGNvbnN0IHVuc2VlbklEcyA9IHt9XG4gICAgY29uc3Qgc2VlbklEcyA9IHt9XG4gICAgbGV0IHR5cGVzID0gW11cbiAgICBjb25zdCBrZXlzID0gZ2V0T2JqZWN0TmFtZXNGb3JUaGluZyh0aGluZywgaXNVc2VyKVxuICAgIGlmICh0cmFja19yZW1vdmFsKSB0eXBlcy5wdXNoKGtleXNbJ3JlbW92ZWQnXSwga2V5c1snYXBwcm92ZWQnXSlcbiAgICBpZiAodHJhY2tfbG9jaykgdHlwZXMucHVzaChrZXlzWydsb2NrZWQnXSwga2V5c1sndW5sb2NrZWQnXSlcblxuICAgIHR5cGVzLmZvckVhY2godHlwZSA9PiB7XG4gICAgICAgIE9iamVjdC5rZXlzKHN0b3JhZ2VbdHlwZV0pLmZvckVhY2goaWQgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHN0b3JhZ2VbdHlwZV1baWRdXG4gICAgICAgICAgICBpZiAoaXRlbS51KSB1bnNlZW5JRHNbaWRdID0gdHJ1ZVxuICAgICAgICAgICAgZWxzZSBzZWVuSURzW2lkXSA9IHRydWVcbiAgICAgICAgfSlcbiAgICB9KVxuICAgIHJldHVybiB7dW5zZWVuOiBPYmplY3Qua2V5cyh1bnNlZW5JRHMpLCBzZWVuOiBPYmplY3Qua2V5cyhzZWVuSURzKX1cbn1cblxuZXhwb3J0IGNvbnN0IGdldExvY2FsU3RvcmFnZUl0ZW1zID0gKHRoaW5nLCBpc1VzZXIpID0+IHtcbiAgICBjb25zdCBrZXlfbG9jYWxTdG9yYWdlID0gZ2V0T2JqZWN0TmFtZSgnaXRlbXMnLCB0aGluZywgaXNVc2VyKVxuICAgIHJldHVybiBicm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KHtba2V5X2xvY2FsU3RvcmFnZV06IHt9fSlcbiAgICAudGhlbihsb2NhbFN0b3JhZ2VJdGVtcyA9PiB7XG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2VJdGVtc1trZXlfbG9jYWxTdG9yYWdlXVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBzYXZlTG9jYWxTdG9yYWdlSXRlbXMgPSAodGhpbmcsIGlzVXNlciwgaXRlbXNUb1NhdmUpID0+IHtcbiAgICBjb25zdCBrZXlfbG9jYWxTdG9yYWdlID0gZ2V0T2JqZWN0TmFtZSgnaXRlbXMnLCB0aGluZywgaXNVc2VyKVxuICAgIHJldHVybiBicm93c2VyLnN0b3JhZ2UubG9jYWwuc2V0KHtba2V5X2xvY2FsU3RvcmFnZV06IGl0ZW1zVG9TYXZlfSlcbn1cblxuZXhwb3J0IGNvbnN0IGFkZExvY2FsU3RvcmFnZUl0ZW1zID0gKGl0ZW1zLCB0aGluZywgaXNVc2VyLCBjYWxsYmFjayA9ICgpID0+IHt9KSA9PiB7XG4gICAgY29uc3Qga2V5X2xvY2FsU3RvcmFnZSA9IGdldE9iamVjdE5hbWUoJ2l0ZW1zJywgdGhpbmcsIGlzVXNlcilcbiAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoe1trZXlfbG9jYWxTdG9yYWdlXToge319LCAobG9jYWxTdG9yYWdlSXRlbXMpID0+IHtcbiAgICAgICAgY29uc3Qgc3RvcmVkSXRlbXMgPSBsb2NhbFN0b3JhZ2VJdGVtc1trZXlfbG9jYWxTdG9yYWdlXVxuICAgICAgICBPYmplY3Qua2V5cyhpdGVtcykuZm9yRWFjaChpZCA9PiB7XG4gICAgICAgICAgICBzdG9yZWRJdGVtc1tpZF0gPSBpdGVtc1tpZF1cbiAgICAgICAgfSlcbiAgICAgICAgbGV0IGl0ZW1zVG9TYXZlID0gc3RvcmVkSXRlbXNcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHN0b3JlZEl0ZW1zKS5sZW5ndGggPiBNQVhfTE9DQUxfU1RPUkFHRV9JVEVNU19QRVJfT0JKRUNUKSB7XG4gICAgICAgICAgICBpdGVtc1RvU2F2ZSA9IHRyaW1EaWN0T2ZJdGVtc19ieV91dGNBdHRyaWJ1dGUoc3RvcmVkSXRlbXMsIE1BWF9MT0NBTF9TVE9SQUdFX0lURU1TX1BFUl9PQkpFQ1QsICdvJylcbiAgICAgICAgfVxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoe1trZXlfbG9jYWxTdG9yYWdlXTogaXRlbXNUb1NhdmV9LCBjYWxsYmFjaylcbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgZ2V0SXRlbUZyb21Mb2NhbFN0b3JhZ2UgPSAodGhpbmcsIGlzVXNlciwgaWQsIGxvY2FsU3RvcmFnZSkgPT4ge1xuICAgIGNvbnN0IGtleSA9IGdldE9iamVjdE5hbWUoJ2l0ZW1zJywgdGhpbmcsIGlzVXNlcilcbiAgICBpZiAoa2V5IGluIGxvY2FsU3RvcmFnZSkge1xuICAgICAgICBpZiAoaWQgaW4gbG9jYWxTdG9yYWdlW2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTG9jYWxTdG9yYWdlSXRlbSh7b2JqZWN0OiBsb2NhbFN0b3JhZ2Vba2V5XVtpZF19KVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnJ1xufVxuXG5leHBvcnQgY29uc3QgZ2V0QWxsQ2hhbmdlcyA9IChjYWxsYmFjaykgPT4ge1xuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KCd1c2VyX3N1YnNjcmlwdGlvbnMnLCAocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBbZ2V0T2JqZWN0TmFtZSgnY2hhbmdlcycsICdvdGhlcicsIGZhbHNlKV1cbiAgICAgICAgY29uc3Qga2V5VG9Vc2VyX2xvb2t1cCA9IHtjaGFuZ2VzX290aGVyOiAnb3RoZXInfVxuXG4gICAgICAgIE9iamVjdC5rZXlzKHJlc3VsdC51c2VyX3N1YnNjcmlwdGlvbnMpLmZvckVhY2godXNlciA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBnZXRPYmplY3ROYW1lKCdjaGFuZ2VzJywgdXNlciwgdHJ1ZSlcbiAgICAgICAgICAgIGtleXMucHVzaChrZXkpXG4gICAgICAgICAgICBrZXlUb1VzZXJfbG9va3VwW2tleV0gPSB1c2VyXG4gICAgICAgIH0pXG4gICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KGtleXMsIChyZXMyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGFuZ2VzQnlVc2VyID0ge31cbiAgICAgICAgICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICgoa2V5IGluIHJlczIpICYmIHJlczJba2V5XS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlc0J5VXNlcltrZXlUb1VzZXJfbG9va3VwW2tleV1dID0gcmVzMltrZXldXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGNhbGxiYWNrKGNoYW5nZXNCeVVzZXIpXG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGdldE9wdGlvbnMgPSAoY2FsbGJhY2spID0+IHtcbiAgICByZXR1cm4gYnJvd3Nlci5zdG9yYWdlLnN5bmMuZ2V0KFsndXNlcl9zdWJzY3JpcHRpb25zJywgJ290aGVyX3N1YnNjcmlwdGlvbnMnLCAnb3B0aW9ucyddKVxuICAgIC50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJzID0gT2JqZWN0LmtleXMocmVzdWx0LnVzZXJfc3Vic2NyaXB0aW9ucylcbiAgICAgICAgY29uc3Qgb3RoZXJzID0gT2JqZWN0LmtleXMocmVzdWx0Lm90aGVyX3N1YnNjcmlwdGlvbnMpXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSByZXN1bHQub3B0aW9uc1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodXNlcnMsIG90aGVycywgb3B0aW9ucylcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmxvZylcbn1cbmV4cG9ydCBjb25zdCBzYXZlT3B0aW9ucyA9IChpbnRlcnZhbCwgY3VzdG9tX2NsaWVudGlkLCByZW1vdmVkX3RyYWNrLCByZW1vdmVkX25vdGlmeSwgbG9ja2VkX3RyYWNrLCBsb2NrZWRfbm90aWZ5LCBjYWxsYmFjaykgPT4ge1xuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHtvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21fY2xpZW50aWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92YWxfc3RhdHVzOiB7dHJhY2s6IHJlbW92ZWRfdHJhY2ssIG5vdGlmeTogcmVtb3ZlZF9ub3RpZnl9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NrX3N0YXR1czogICAge3RyYWNrOiBsb2NrZWRfdHJhY2ssICBub3RpZnk6IGxvY2tlZF9ub3RpZnl9fX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2spXG59XG4iLCJpbXBvcnQge1JFTU9WRUQsIERFTEVURUQsIEFQUFJPVkVELCBMT0NLRUQsIFVOTE9DS0VELCBFRElURUQsXG4gICAgICAgIGdldFN1YnNjcmliZWRVc2Vyc193aXRoVW5zZWVuSURzIH0gZnJvbSAnLi9zdG9yYWdlLmpzJ1xuXG5leHBvcnQgY29uc3QgQUxBUk1fTkFNRSA9ICdub3RpZnltZSdcblxuXG5jb25zdCBtYXhSZWRkaXRDb250ZW50TGVuZ3RoID0gMzAwXG5cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI1OTMzNTU2L2Nocm9tZS1leHRlbnNpb24tb3Blbi1uZXctdGFiLXdoZW4tYnJvd3Nlci1vcGVuZWQtaW4tYmFja2dyb3VuZC1tYWMvMjU5MzM5NjQjMjU5MzM5NjRcbmV4cG9ydCBjb25zdCBjcmVhdGVUYWIgPSAodXJsKSA9PiB7XG4gICAgY2hyb21lLnRhYnMuY3JlYXRlKHt1cmw6dXJsfSwgKHRhYikgPT4ge1xuICAgICAgICBpZighIHRhYikge1xuICAgICAgICAgICAgLy8gcHJvYmFibHkgbm8gd2luZG93IGF2YWlsYWJsZVxuICAgICAgICAgICAgY2hyb21lLndpbmRvd3MuY3JlYXRlKHt1cmw6dXJsfSwgKHdpbikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGJldHRlciB0byBmb2N1cyBhZnRlciB3aW5kb3cgY3JlYXRpb24gY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBjaHJvbWUud2luZG93cy51cGRhdGUod2luLmlkLCB7Zm9jdXNlZDogdHJ1ZX0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gYmV0dGVyIHRvIGZvY3VzIGFmdGVyIHRhYiBjcmVhdGlvbiBjYWxsYmFja1xuICAgICAgICAgICAgY2hyb21lLndpbmRvd3MudXBkYXRlKHRhYi53aW5kb3dJZCwge2ZvY3VzZWQ6IHRydWV9KVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGdldEZ1bGxJRHNGcm9tVVJMID0gKHVybCkgPT4ge1xuICAgIGNvbnN0IHBhdGggPSB1cmwucmVwbGFjZSgvaHR0cHM6XFwvXFwvW14vXSpyZSh2ZSk/ZGRpdC5jb20vLCAnJylcbiAgICByZXR1cm4gZ2V0RnVsbElEc0Zyb21QYXRoKHBhdGgpXG59XG5cbmNvbnN0IHJlZ2V4X3BjID0gL15cXC8ocnx1c2VyKVxcLyhbXi9dKylcXC9jb21tZW50c1xcLyhbXi9dKylcXC9bXi9dKig/OlxcLyhbXi8/JiNdKykpPy9cbmNvbnN0IHJlZ2V4X3VzZXIgPSAvXlxcL3VzZXJcXC8oW14vPyYjXSspXFwvPy9cblxuZXhwb3J0IGNvbnN0IGdldEZ1bGxJRHNGcm9tUGF0aCA9IChwYXRoKSA9PiB7XG4gICAgbGV0IHBvc3RJRCA9IHVuZGVmaW5lZCwgY29tbWVudElEID0gdW5kZWZpbmVkLCB1c2VyID0gdW5kZWZpbmVkLCBzdWJyZWRkaXQgPSB1bmRlZmluZWRcbiAgICBjb25zdCBtYXRjaGVzX3BjID0gcGF0aC5tYXRjaChyZWdleF9wYylcbiAgICBjb25zdCBtYXRjaGVzX3VzZXIgPSBwYXRoLm1hdGNoKHJlZ2V4X3VzZXIpXG4gICAgaWYgKG1hdGNoZXNfcGMpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IG1hdGNoZXNfcGNbMV1cbiAgICAgICAgaWYgKHR5cGUgPT09ICd1c2VyJykge1xuICAgICAgICAgICAgdXNlciA9IG1hdGNoZXNfcGNbMl1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1YnJlZGRpdCA9IG1hdGNoZXNfcGNbMl1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2hlc19wY1szXSkgcG9zdElEID0gJ3QzXycrbWF0Y2hlc19wY1szXVxuICAgICAgICBpZiAobWF0Y2hlc19wY1s0XSkgY29tbWVudElEID0gJ3QxXycrbWF0Y2hlc19wY1s0XVxuICAgIH0gZWxzZSBpZiAobWF0Y2hlc191c2VyKSB7XG4gICAgICAgIHVzZXIgPSBtYXRjaGVzX3VzZXJbMV1cbiAgICB9XG4gICAgcmV0dXJuIFtwb3N0SUQsIGNvbW1lbnRJRCwgdXNlciwgc3VicmVkZGl0XVxufVxuXG5leHBvcnQgY29uc3QgcmVmb3JtYXRSZWRkaXRUZXh0ID0gKGJvZHkpID0+IHtcbiAgICByZXR1cm4gYm9keS5yZXBsYWNlKC8mYW1wOy9nLCAnJicpLnJlcGxhY2UoLyZndDsvZywgJz4nKS5yZXBsYWNlKC8mbHQ7L2csICc8JylcbiAgICAgICAgLnJlcGxhY2UoL1xccysvZywgJyAnKS5zdWJzdHIoMCwgbWF4UmVkZGl0Q29udGVudExlbmd0aClcbn1cblxuZXhwb3J0IGNvbnN0IGlzUmVtb3ZlZEl0ZW0gPSAoaXRlbSkgPT4ge1xuICAgIGlmIChpc0NvbW1lbnQoaXRlbS5uYW1lKSkge1xuICAgICAgICByZXR1cm4gaXNSZW1vdmVkQ29tbWVudChpdGVtKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpc1JlbW92ZWRQb3N0KGl0ZW0pXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgaXNDb21tZW50ID0gKG5hbWUpID0+IHtcbiAgICByZXR1cm4gbmFtZS5zdWJzdHIoMCwyKSA9PT0gJ3QxJ1xufVxuZXhwb3J0IGNvbnN0IGlzUmVtb3ZlZENvbW1lbnQgPSAoaXRlbSkgPT4ge1xuICAgIHJldHVybiAoKGl0ZW0uYm9keS5yZXBsYWNlKC9cXFxcL2csICcnKSA9PT0gJ1tyZW1vdmVkXScgfHxcbiAgICAgICAgICAgICBpdGVtLmJvZHkucmVwbGFjZSgvXFxcXC9nLCAnJykgPT09ICdbZGVsZXRlZF0nKSAmJlxuICAgICAgICAgICAgaXRlbS5hdXRob3IucmVwbGFjZSgvXFxcXC9nLCAnJykgPT09ICdbZGVsZXRlZF0nKVxufVxuZXhwb3J0IGNvbnN0IGlzVXNlckRlbGV0ZWRDb21tZW50ID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gKGl0ZW0uYm9keS5yZXBsYWNlKC9cXFxcL2csICcnKSA9PT0gJ1tkZWxldGVkXScgJiZcbiAgICAgICAgICAgIGl0ZW0uYXV0aG9yLnJlcGxhY2UoL1xcXFwvZywgJycpID09PSAnW2RlbGV0ZWRdJylcbn1cbmV4cG9ydCBjb25zdCBpc1VzZXJEZWxldGVkUG9zdCA9IChpdGVtKSA9PiB7XG4gICAgcmV0dXJuICghIGl0ZW0uaXNfcm9ib3RfaW5kZXhhYmxlKSAmJiBpdGVtLmF1dGhvci5yZXBsYWNlKC9cXFxcL2csICcnKSA9PT0gJ1tkZWxldGVkXSdcbn1cbmV4cG9ydCBjb25zdCBpc1VzZXJEZWxldGVkSXRlbSA9IChpdGVtKSA9PiB7XG4gICAgaWYgKGlzQ29tbWVudChpdGVtLm5hbWUpKSB7XG4gICAgICAgIHJldHVybiBpc1VzZXJEZWxldGVkQ29tbWVudChpdGVtKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpc1VzZXJEZWxldGVkUG9zdChpdGVtKVxuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBpc1JlbW92ZWRQb3N0ID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gISBpdGVtLmlzX3JvYm90X2luZGV4YWJsZVxufVxuXG5leHBvcnQgY29uc3QgdHJpbURpY3RfYnlfbnVtYmVyVmFsdWVkQXR0cmlidXRlID0gKGRpY3QsIG1heE51bUl0ZW1zLCBudW1iZXJWYWx1ZWRBdHRyaWJ1dGUpID0+IHtcbiAgICBjb25zdCBhcnJheSA9IHNvcnREaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZShkaWN0LCBudW1iZXJWYWx1ZWRBdHRyaWJ1dGUpXG5cbiAgICBjb25zdCBzaG9ydGVuZWRBcnJheSA9IGFycmF5LnNsaWNlKDAsIG1heE51bUl0ZW1zKVxuICAgIGNvbnN0IG5ld0RpY3QgPSB7fVxuICAgIHNob3J0ZW5lZEFycmF5LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIG5ld0RpY3RbaXRlbVswXV0gPSBpdGVtWzFdXG4gICAgfSlcbiAgICByZXR1cm4gbmV3RGljdFxufVxuXG5leHBvcnQgY29uc3Qgc29ydERpY3RfYnlfbnVtYmVyVmFsdWVkQXR0cmlidXRlID0gKGRpY3QsIG51bWJlclZhbHVlZEF0dHJpYnV0ZSkgPT4ge1xuICAgIGxldCBhcnJheSA9IE9iamVjdC5rZXlzKGRpY3QpLm1hcChrZXkgPT4ge1xuICAgICAgICByZXR1cm4gW2tleSwgZGljdFtrZXldXVxuICAgIH0pXG4gICAgYXJyYXkuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICByZXR1cm4gYlsxXVtudW1iZXJWYWx1ZWRBdHRyaWJ1dGVdIC0gYVsxXVtudW1iZXJWYWx1ZWRBdHRyaWJ1dGVdXG4gICAgfSlcbiAgICByZXR1cm4gYXJyYXlcbn1cblxuZXhwb3J0IGNsYXNzIEl0ZW1Gb3JTdG9yYWdlIHtcbiAgICBjb25zdHJ1Y3RvcihjcmVhdGVkX3V0YywgdW5zZWVuKSB7XG4gICAgICAgIHRoaXMuYyA9IGNyZWF0ZWRfdXRjXG4gICAgICAgIHRoaXMudSA9IHVuc2VlblxuICAgIH1cbiAgICBnZXRDcmVhdGVkVVRDKCkgeyByZXR1cm4gdGhpcy5jIH1cbiAgICBnZXRVbnNlZW4oKSB7IHJldHVybiB0aGlzLnUgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hhbmdlRm9yU3RvcmFnZSB7XG4gICAgY29uc3RydWN0b3IoeyBpZCA9IG51bGwsIG9ic2VydmVkX3V0YyA9IG51bGwsIGNoYW5nZV90eXBlID0gbnVsbCwgb2JqZWN0ID0gbnVsbCB9KSB7XG4gICAgICAgIGlmIChvYmplY3QpIHtcbiAgICAgICAgICAgIHRoaXMuaSA9IG9iamVjdC5pXG4gICAgICAgICAgICB0aGlzLm8gPSBvYmplY3Qub1xuICAgICAgICAgICAgdGhpcy5nID0gb2JqZWN0LmdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaSA9IGlkXG4gICAgICAgICAgICB0aGlzLm8gPSBvYnNlcnZlZF91dGNcbiAgICAgICAgICAgIHRoaXMuZyA9IGNoYW5nZV90eXBlXG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0SUQoKSB7IHJldHVybiB0aGlzLmkgfVxuICAgIGdldE9ic2VydmVkVVRDKCkgeyByZXR1cm4gdGhpcy5vIH1cbiAgICBnZXRDaGFuZ2VUeXBlKCkge1xuICAgICAgICBzd2l0Y2godGhpcy5nKSB7XG4gICAgICAgICAgICBjYXNlIFJFTU9WRUQ6IHJldHVybiAnbW9kIHJlbW92ZWQnXG4gICAgICAgICAgICBjYXNlIERFTEVURUQ6IHJldHVybiAndXNlciBkZWxldGVkJ1xuICAgICAgICAgICAgY2FzZSBBUFBST1ZFRDogcmV0dXJuICdhcHByb3ZlZCdcbiAgICAgICAgICAgIGNhc2UgTE9DS0VEOiByZXR1cm4gJ2xvY2tlZCdcbiAgICAgICAgICAgIGNhc2UgVU5MT0NLRUQ6IHJldHVybiAndW5sb2NrZWQnXG4gICAgICAgICAgICBjYXNlIEVESVRFRDogcmV0dXJuICdlZGl0ZWQnXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMb2NhbFN0b3JhZ2VJdGVtIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGl0ZW0gPSBudWxsLCBvYnNlcnZlZF91dGMgPSBudWxsLCBvYmplY3QgPSBudWxsIH0pIHtcbiAgICAgICAgaWYgKG9iamVjdCkge1xuICAgICAgICAgICAgdGhpcy50ID0gb2JqZWN0LnRcbiAgICAgICAgICAgIHRoaXMubyA9IG9iamVjdC5vXG4gICAgICAgICAgICB0aGlzLmMgPSBvYmplY3QuY1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHRleHQgPSAnJ1xuICAgICAgICAgICAgaWYgKGlzQ29tbWVudChpdGVtLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHJlZm9ybWF0UmVkZGl0VGV4dChpdGVtLmJvZHkpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRleHQgPSBpdGVtLnRpdGxlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnQgPSB0ZXh0XG4gICAgICAgICAgICB0aGlzLm8gPSBvYnNlcnZlZF91dGNcbiAgICAgICAgICAgIHRoaXMuYyA9IGl0ZW0uY3JlYXRlZF91dGNcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRUZXh0KHRleHQpIHt0aGlzLnQgPSByZWZvcm1hdFJlZGRpdFRleHQodGV4dCl9XG4gICAgZ2V0VGV4dCgpIHsgcmV0dXJuIHRoaXMudCB9XG4gICAgZ2V0T2JzZXJ2ZWRVVEMoKSB7IHJldHVybiB0aGlzLm8gfVxuICAgIGdldENyZWF0ZWRVVEMoKSB7IHJldHVybiB0aGlzLmMgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QWxhcm0ocGVyaW9kSW5NaW51dGVzKSB7XG4gICAgY2hyb21lLmFsYXJtcy5jbGVhcihBTEFSTV9OQU1FKVxuICAgIGNocm9tZS5hbGFybXMuY3JlYXRlKEFMQVJNX05BTUUsIHtkZWxheUluTWludXRlczogMSwgcGVyaW9kSW5NaW51dGVzOiBwZXJpb2RJbk1pbnV0ZXN9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWxwaGFMb3dlclNvcnQgKGEsIGIpIHtcbiAgICB2YXIgdGV4dEEgPSBhLnRvTG93ZXJDYXNlKClcbiAgICB2YXIgdGV4dEIgPSBiLnRvTG93ZXJDYXNlKClcblxuICAgIGlmICh0ZXh0QSA8IHRleHRCKSByZXR1cm4gLTFcbiAgICBpZiAodGV4dEEgPiB0ZXh0QikgcmV0dXJuIDFcbiAgICByZXR1cm4gMFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ29Ub09wdGlvbnMgKCkge1xuICAgIGlmIChjaHJvbWUucnVudGltZS5vcGVuT3B0aW9uc1BhZ2UpIHtcbiAgICAgICAgY2hyb21lLnJ1bnRpbWUub3Blbk9wdGlvbnNQYWdlKClcbiAgICAgICAgd2luZG93LmNsb3NlKCkgLy9jbG9zZXMgdGhlIHBvcHVwIHdoaWNoIHBlcnNpc3RzIGluIEZGXG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93Lm9wZW4oY2hyb21lLnJ1bnRpbWUuZ2V0VVJMKCcvc3JjL29wdGlvbnMuaHRtbCcpKVxuICAgIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd0Vycm9yKG1lc3NhZ2UsIHNlbGVjdG9yKSB7XG4gICAgJCgnPGRpdiBjbGFzcz1cInJyLWVycm9yXCI+JyttZXNzYWdlKyc8L2Rpdj4nKS5hcHBlbmRUbyhzZWxlY3RvcikuZGVsYXkoMjQwMCkuZmFkZVRvKDQwMCwgMCwgZnVuY3Rpb24oKSB7JCh0aGlzKS5yZW1vdmUoKX0pXG59XG5cbi8vbm9pbnNwZWN0aW9uIEpTVW51c2VkTG9jYWxTeW1ib2xzXG5leHBvcnQgZnVuY3Rpb24gcHByaW50KG9iaikge1xuICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgJ1xcdCcpKVxufVxuXG5cbmV4cG9ydCBjb25zdCBnZXRQcmV0dHlUaW1lTGVuZ3RoID0gKHNlY29uZHMpID0+IHtcbiAgICBjb25zdCB0aHJlc2hvbGRzID0gW1s2MCwgJ3NlY29uZCcsICdzZWNvbmRzJ10sIFs2MCwgJ21pbnV0ZScsICdtaW51dGVzJ10sIFsyNCwgJ2hvdXInLCAnaG91cnMnXSwgWzcsICdkYXknLCAnZGF5cyddLFxuICAgIFszNjUvMTIvNywgJ3dlZWsnLCAnd2Vla3MnXSwgWzEyLCAnbW9udGgnLCAnbW9udGhzJ10sIFsxMCwgJ3llYXInLCAneWVhcnMnXSxcbiAgICBbMTAsICdkZWNhZGUnLCAnZGVjYWRlcyddLCBbMTAsICdjZW50dXJ5JywgJ2NlbnR1cmllcyddLCBbMTAsICdtaWxsZW5pdW0nLCAnbWlsbGVuaWEnXV1cbiAgICBpZiAoc2Vjb25kcyA8IDYwKSByZXR1cm4gc2Vjb25kcyArICcgc2Vjb25kcydcbiAgICBsZXQgdGltZSA9IHNlY29uZHNcbiAgICBmb3IgKHZhciBpPTA7IGk8dGhyZXNob2xkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgZGl2aXNvciA9IHRocmVzaG9sZHNbaV1bMF1cbiAgICAgICAgbGV0IHRleHQgPSB0aHJlc2hvbGRzW2ldWzFdXG4gICAgICAgIGxldCB0ZXh0UGx1cmFsID0gdGhyZXNob2xkc1tpXVsyXVxuICAgICAgICBpZiAodGltZSA8IGRpdmlzb3IpIHtcbiAgICAgICAgICAgIGxldCBleHRyYSA9ICh0aW1lIC0gTWF0aC5mbG9vcih0aW1lKSlcbiAgICAgICAgICAgIGxldCBwcmV2VW5pdFRpbWUgPSBNYXRoLnJvdW5kKGV4dHJhKnRocmVzaG9sZHNbaS0xXVswXSlcbiAgICAgICAgICAgIGlmICh0aHJlc2hvbGRzW2ktMV1bMF0gPT09IHByZXZVbml0VGltZSkge1xuICAgICAgICAgICAgICAgIHRpbWUgKz0gMVxuICAgICAgICAgICAgICAgIHByZXZVbml0VGltZSA9IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChNYXRoLmZsb29yKHRpbWUpID4gMSB8fCBNYXRoLmZsb29yKHRpbWUpID09IDApIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dFBsdXJhbFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGkgPiAxICYmIHByZXZVbml0VGltZSA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVtYWluVGV4dCA9IHRocmVzaG9sZHNbaS0xXVsxXVxuICAgICAgICAgICAgICAgIGlmIChwcmV2VW5pdFRpbWUgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbWFpblRleHQgPSB0aHJlc2hvbGRzW2ktMV1bMl1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGV4dCArPSAnLCAnICsgU3RyaW5nKHByZXZVbml0VGltZSkgKyAnICcgKyByZW1haW5UZXh0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKE1hdGguZmxvb3IodGltZSkpICsgJyAnICsgdGV4dFxuICAgICAgICB9XG4gICAgICAgIHRpbWUgPSB0aW1lIC8gZGl2aXNvclxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldFByZXR0eURhdGUgPSAoY3JlYXRlZFVUQykgPT4ge1xuICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKChuZXcgRGF0ZSkuZ2V0VGltZSgpLzEwMDApLWNyZWF0ZWRVVENcbiAgICByZXR1cm4gZ2V0UHJldHR5VGltZUxlbmd0aChzZWNvbmRzKSArICcgYWdvJ1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlTm90aWZpY2F0aW9uID0gKHtub3RpZmljYXRpb25JZCwgdGl0bGUsIG1lc3NhZ2V9KSA9PiB7XG4gICAgaWYgKGxvY2F0aW9uLnByb3RvY29sLm1hdGNoKC9eaHR0cC8pKSB7XG4gICAgICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2NyZWF0ZS1ub3RpZmljYXRpb24nLFxuICAgICAgICAgICAgb3B0aW9uczoge25vdGlmaWNhdGlvbklkLCB0aXRsZSwgbWVzc2FnZX1cbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgICBjaHJvbWUubm90aWZpY2F0aW9ucy5jcmVhdGUobm90aWZpY2F0aW9uSWQsXG4gICAgICAgICAgICB7dHlwZTogJ2Jhc2ljJywgaWNvblVybDogJy9pY29ucy8xMjgucG5nJyxcbiAgICAgICAgICAgICB0aXRsZSwgbWVzc2FnZX0pXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgdXBkYXRlQmFkZ2VVbnNlZW5Db3VudCA9ICgpID0+IHtcbiAgICBpZiAobG9jYXRpb24ucHJvdG9jb2wubWF0Y2goL15odHRwLykpIHtcbiAgICAgICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgYWN0aW9uOiAndXBkYXRlLWJhZGdlJ1xuICAgICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFN1YnNjcmliZWRVc2Vyc193aXRoVW5zZWVuSURzKHVzZXJzVW5zZWVuSURzID0+IHtcbiAgICAgICAgICAgIGxldCB0b3RhbCA9IDBcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXModXNlcnNVbnNlZW5JRHMpLmZvckVhY2goaWRzID0+IHtcbiAgICAgICAgICAgICAgICB0b3RhbCArPSBpZHMubGVuZ3RoXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgbGV0IHRleHQgPSB0b3RhbC50b1N0cmluZygpXG4gICAgICAgICAgICBpZiAodG90YWwgPT0gMCkgdGV4dCA9ICcnXG4gICAgICAgICAgICBjaHJvbWUuYnJvd3NlckFjdGlvbi5zZXRCYWRnZUJhY2tncm91bmRDb2xvcih7Y29sb3I6IFwicmVkXCJ9KVxuICAgICAgICAgICAgY2hyb21lLmJyb3dzZXJBY3Rpb24uc2V0QmFkZ2VUZXh0KHt0ZXh0OiB0ZXh0fSlcbiAgICAgICAgfSlcbiAgICB9XG59XG4iLCJpbXBvcnQge2FscGhhTG93ZXJTb3J0LHNob3dFcnJvcixjb3VudFVuc2Vlbl91cGRhdGVCYWRnZV9iYWNrZ3JvdW5kLHNhdmVTdWJzY3JpcHRpb25zfSBmcm9tICcuL2NvbW1vbi5qcydcbmltcG9ydCB7c3Vic2NyaWJlVXNlciwgdW5zdWJzY3JpYmVVc2VyLCBnZXRPcHRpb25zLCBJTlRFUlZBTF9ERUZBVUxULCBzYXZlT3B0aW9uc30gZnJvbSAnLi9zdG9yYWdlLmpzJ1xuXG5pbXBvcnQge3NldEFsYXJtLCBBTEFSTV9OQU1FfSBmcm9tICcuL2NvbW1vbi5qcydcblxuXG5cbmdldE9wdGlvbnMoKHVzZXJzLCBvdGhlcnMsIG9wdGlvbnMpID0+IHtcbiAgICB2YXIgc29ydGVkID0gdXNlcnMuc29ydChhbHBoYUxvd2VyU29ydCk7XG4gICAgZGlzcGxheU90aGVyKClcbiAgICAkLmVhY2goc29ydGVkLCBmdW5jdGlvbiAoaSx2KSB7XG4gICAgICAgIGRpc3BsYXlVc2VyKHYpO1xuICAgIH0pO1xuICAgICQoJyNpbnRlcnZhbCcpLnZhbChvcHRpb25zLmludGVydmFsKTtcbiAgICAkKCcjY2xpZW50aWQnKS52YWwob3B0aW9ucy5jdXN0b21fY2xpZW50aWQpO1xuXG4gICAgJCgnI3JlbW92ZWRfdHJhY2snKS5wcm9wKCdjaGVja2VkJywgb3B0aW9ucy5yZW1vdmFsX3N0YXR1cy50cmFjayk7XG4gICAgJCgnI3JlbW92ZWRfbm90aWZ5JykucHJvcCgnY2hlY2tlZCcsIG9wdGlvbnMucmVtb3ZhbF9zdGF0dXMubm90aWZ5KTtcblxuICAgICQoJyNsb2NrZWRfdHJhY2snKS5wcm9wKCdjaGVja2VkJywgb3B0aW9ucy5sb2NrX3N0YXR1cy50cmFjayk7XG4gICAgJCgnI2xvY2tlZF9ub3RpZnknKS5wcm9wKCdjaGVja2VkJywgb3B0aW9ucy5sb2NrX3N0YXR1cy5ub3RpZnkpO1xufSlcblxudmFyICRuZXcgPSAkKCcjbmV3Jyk7XG5cbiRuZXcuYmluZChcImVudGVyS2V5XCIsYWRkU3Vic2NyaXB0aW9uVmlhT3B0aW9ucyk7XG5cbiQoJyNyci1vcHQtYWRkJykuY2xpY2soYWRkU3Vic2NyaXB0aW9uVmlhT3B0aW9ucyk7XG5cbiQoJyNyci1vcHQtc2F2ZScpLmNsaWNrKHNhdmVBbmRDbG9zZU9wdGlvbnMpO1xuJCgnI3Jlc2V0JykuY2xpY2socmVzZXREZWZhdWx0cyk7XG5cbiQoJyNhZHZhbmNlZC1idG4nKS5jbGljaygoZXYpID0+IHtcbiAgICAkKCcjYWR2YW5jZWQnKS5zaG93KClcbiAgICAkKGV2LnRhcmdldCkuaGlkZSgpXG4gICAgcmV0dXJuIGZhbHNlXG59KVxuXG4kbmV3LmtleXVwKGZ1bmN0aW9uKGUpe1xuICAgIGlmKGUua2V5Q29kZSA9PSAxMykgJCh0aGlzKS50cmlnZ2VyKFwiZW50ZXJLZXlcIik7XG59KTtcblxuWydyZW1vdmVkJywgJ2xvY2tlZCddLmZvckVhY2godHlwZSA9PiB7XG4gICAgJChgIyR7dHlwZX1fbm90aWZ5YCkuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZih0aGlzLmNoZWNrZWQpIHtcbiAgICAgICAgICAgICQoYCMke3R5cGV9X3RyYWNrYCkucHJvcCgnY2hlY2tlZCcsIHRydWUpXG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAkKGAjJHt0eXBlfV90cmFja2ApLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgICAgaWYoISB0aGlzLmNoZWNrZWQpIHtcbiAgICAgICAgICAgICQoYCMke3R5cGV9X25vdGlmeWApLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSlcbiAgICAgICAgfVxuICAgIH0pO1xufSlcblxuZnVuY3Rpb24gcmVzZXREZWZhdWx0cygpIHtcbiAgICAkKCcjaW50ZXJ2YWwnKS52YWwoSU5URVJWQUxfREVGQVVMVCk7XG4gICAgJCgnI2NsaWVudGlkJykudmFsKCcnKVxufVxuXG5mdW5jdGlvbiBzYXZlQW5kQ2xvc2VPcHRpb25zKCkge1xuICAgIGNvbnN0IGludGVydmFsID0gTnVtYmVyKCQoJyNpbnRlcnZhbCcpLnZhbCgpKVxuICAgIGNvbnN0IGN1c3RvbV9jbGllbnRpZCA9ICQoJyNjbGllbnRpZCcpLnZhbCgpLnRyaW0oKVxuICAgIGNvbnN0IHJlbW92ZWRfdHJhY2sgPSAkKCcjcmVtb3ZlZF90cmFjaycpLnByb3AoJ2NoZWNrZWQnKVxuICAgIGNvbnN0IHJlbW92ZWRfbm90aWZ5ID0gJCgnI3JlbW92ZWRfbm90aWZ5JykucHJvcCgnY2hlY2tlZCcpXG5cbiAgICBjb25zdCBsb2NrZWRfdHJhY2sgPSAkKCcjbG9ja2VkX3RyYWNrJykucHJvcCgnY2hlY2tlZCcpXG4gICAgY29uc3QgbG9ja2VkX25vdGlmeSA9ICQoJyNsb2NrZWRfbm90aWZ5JykucHJvcCgnY2hlY2tlZCcpXG5cbiAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihpbnRlcnZhbCkgJiYgaW50ZXJ2YWwgPiAwKSB7XG4gICAgICAgIHNhdmVPcHRpb25zKGludGVydmFsLCBjdXN0b21fY2xpZW50aWQsIHJlbW92ZWRfdHJhY2ssIHJlbW92ZWRfbm90aWZ5LCBsb2NrZWRfdHJhY2ssIGxvY2tlZF9ub3RpZnksICgpID0+IHtcbiAgICAgICAgICAgIHNldEFsYXJtKGludGVydmFsKVxuICAgICAgICAgICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe2FjdGlvbjogJ3VwZGF0ZS1iYWRnZSd9KVxuICAgICAgICAgICAgd2luZG93LmNsb3NlKCk7XG4gICAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2hvd0Vycm9yKFwibWludXRlcyBiZXR3ZWVuIHVwZGF0ZXMgbXVzdCBiZSBhbiBpbnRlZ2VyXCIsICcjcnItb3B0LWVycm9yJyk7XG4gICAgfVxuXG59XG5cbmZ1bmN0aW9uIGFkZFN1YnNjcmlwdGlvblZpYU9wdGlvbnMoKSB7XG4gICAgdmFyIG5ld192YWwgPSAkbmV3LnZhbCgpLnRyaW0oKTtcbiAgICBpZiAobmV3X3ZhbCkge1xuICAgICAgICBzdWJzY3JpYmVVc2VyKG5ld192YWwsICgpID0+IHtcbiAgICAgICAgICAgIGRpc3BsYXlVc2VyKG5ld192YWwpO1xuICAgICAgICAgICAgJG5ldy52YWwoJycpO1xuICAgICAgICB9LCAoZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICBzaG93RXJyb3IoZXJyb3JNZXNzYWdlLCAnI3JyLW9wdC1lcnJvcicpXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIGRpc3BsYXlVc2VyKHVzZXIpIHtcbiAgICB2YXIgJHVzZXJEaXYgPSAkKGA8ZGl2IGRhdGEtdXNlcj1cIiR7dXNlcn1cIj48YSBjbGFzcz1cImJsdWUtbGlua1wiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwczovL3d3dy5yZXZlZGRpdC5jb20vdXNlci8ke3VzZXJ9XCI+JHt1c2VyfTwvYT4gPGEgY2xhc3M9XCJyZW1vdmUtc3Vic2NyaXB0aW9uIGJsdWUtbGlua1wiIGhyZWY9XCIjXCI+cmVtb3ZlPC9hPjwvZGl2PmApLmFwcGVuZFRvKCcjcnItc3Vic2NyaXB0aW9ucycpO1xuICAgICR1c2VyRGl2LmZpbmQoJy5yZW1vdmUtc3Vic2NyaXB0aW9uJykuY2xpY2socmVtb3ZlU3Vic2NyaXB0aW9uKTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheU90aGVyKCkge1xuICAgIHZhciAkdXNlckRpdiA9ICQoYDxkaXYgZGF0YS11c2VyPVwib3RoZXJcIj48YSBjbGFzcz1cImJsdWUtbGlua1wiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIvc3JjL290aGVyLmh0bWxcIj5vdGhlcjwvYT48L2Rpdj48aHI+YCkuYXBwZW5kVG8oJyNyci1zdWJzY3JpcHRpb25zJyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN1YnNjcmlwdGlvbihlKSB7XG4gICAgdmFyIHVzZXIgPSAkKGUudGFyZ2V0KS5wYXJlbnQoKS5hdHRyKCdkYXRhLXVzZXInKTtcbiAgICAkKCcucmVtb3ZlLXN1YnNjcmlwdGlvbicpLm9mZignY2xpY2snKVxuICAgIHVuc3Vic2NyaWJlVXNlcih1c2VyLCAoKSA9PiB7XG4gICAgICAgICQoZS50YXJnZXQpLnBhcmVudCgpLnJlbW92ZSgpO1xuICAgICAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7YWN0aW9uOiAndXBkYXRlLWJhZGdlJ30pXG4gICAgICAgICQoJy5yZW1vdmUtc3Vic2NyaXB0aW9uJykuY2xpY2socmVtb3ZlU3Vic2NyaXB0aW9uKVxuICAgIH0pXG5cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=