!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(t,e,n){"use strict";n.r(e),n.d(e,"INTERVAL_DEFAULT",function(){return u}),n.d(e,"MAX_SYNC_STORAGE_ITEMS_PER_OBJECT",function(){return s}),n.d(e,"MAX_SYNC_STORAGE_CHANGES",function(){return a}),n.d(e,"MAX_OTHER_SUBSCRIPTIONS",function(){return d}),n.d(e,"REMOVED",function(){return f}),n.d(e,"APPROVED",function(){return l}),n.d(e,"LOCKED",function(){return h}),n.d(e,"UNLOCKED",function(){return m}),n.d(e,"EDITED",function(){return b}),n.d(e,"DELETED",function(){return v}),n.d(e,"getObjectNamesForThing",function(){return w}),n.d(e,"markEverythingAsSeen",function(){return O}),n.d(e,"markThingAsSeen",function(){return j}),n.d(e,"setStorageUpdateBadge",function(){return k}),n.d(e,"markIDsAsSeenIfSubscribed",function(){return E}),n.d(e,"subscribeId",function(){return T}),n.d(e,"unsubscribeId",function(){return I}),n.d(e,"getSubscribedIds",function(){return A}),n.d(e,"subscribeUser",function(){return D}),n.d(e,"unsubscribeUser",function(){return C}),n.d(e,"initStorage",function(){return x}),n.d(e,"getSubscribedUsers_withSeenAndUnseenIDs",function(){return M}),n.d(e,"getSubscribedUsers_withUnseenIDs",function(){return $}),n.d(e,"getUnseenIDs_thing",function(){return P}),n.d(e,"getIDs_thing",function(){return L}),n.d(e,"getLocalStorageItems",function(){return R}),n.d(e,"saveLocalStorageItems",function(){return F}),n.d(e,"addLocalStorageItems",function(){return U}),n.d(e,"getItemFromLocalStorage",function(){return N}),n.d(e,"getAllChanges",function(){return B}),n.d(e,"getOptions",function(){return V}),n.d(e,"saveOptions",function(){return q});var r=n(1);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=1,s=130,a=100,d=100,f=1,l=2,h=3,m=4,b=5,v=6,g={changes:[],removed:{},approved:{},locked:{},unlocked:{}},p=function(t,e,n){return n?t+"_u_"+e:t+"_"+e},y=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object.keys(g).forEach(function(r){t[p(r,e,n)]=g[r]})},w=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={};return Object.keys(g).forEach(function(r){n[r]=p(r,t,e)}),n},_=function(t){var e={};return y(e,t,!0),e},O=function(){return browser.storage.sync.get(null).then(function(t){return Object.keys(t.user_subscriptions).forEach(function(e){j(t,e,!0)}),j(t,"other",!1),k(t)})},j=function(t,e,n){var r=w(e,n);delete r.changes;var o=[];Object.values(r).forEach(function(t){o.push(t)}),o.forEach(function(e){Object.values(t[e]).forEach(function(t){t.u=!1})})},k=function(t){return browser.storage.sync.set(t).then(function(t){return browser.runtime.sendMessage({action:"update-badge"})})},S=function(t,e,n,o,i){var c=t[e[n]];Object.keys(o).forEach(function(t){t in c?c[t].u=!1:i&&(c[t]=new r.ItemForStorage(o[t],!1))})},E=function(t,e,n,r,o,i,c){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(){},s=w(e,n);delete s.changes;var a=t.user_subscriptions[e];!a&&n||(S(t,s,"removed",r,n),S(t,s,"approved",o,n),S(t,s,"locked",i,n),S(t,s,"unlocked",c,n),chrome.storage.sync.set(t,u))},T=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n="other_subscriptions";chrome.storage.sync.get(n,function(o){o[n][t]={t:Math.floor((new Date).getTime()/1e3)};var i=Object(r.trimDict_by_numberValuedAttribute)(o[n],d,"t");chrome.storage.sync.set(c({},n,i),e)})},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n="other_subscriptions",r=w("other",!1);delete r.changes,chrome.storage.sync.get(Object.values(r).concat(n),function(o){delete o[n][t],Object.values(r).forEach(function(e){t in o[e]&&delete o[e][t]}),chrome.storage.sync.set(o,function(){chrome.runtime.sendMessage({action:"update-badge"},e)})})},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e="other_subscriptions";chrome.storage.sync.get(e,function(n){t(Object.keys(n[e]))})},D=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=_(t);chrome.storage.sync.get("user_subscriptions",function(o){var c=o.user_subscriptions;t in c?n("already subscribed to this user"):Object.keys(c).length<5?(c[t]=!0,chrome.storage.sync.set(i({user_subscriptions:c},r),e)):n("maximum number of subscriptions reached")})},C=function(t,e){var n=Object.keys(_(t));chrome.storage.sync.get("user_subscriptions",function(r){var o=r.user_subscriptions;delete o[t],chrome.storage.sync.set({user_subscriptions:o},function(){chrome.storage.sync.remove(n,function(){var n=p("items",t,!0);chrome.runtime.sendMessage({action:"update-badge"}),chrome.storage.local.remove(n,e)})})})},x=function(t){chrome.storage.sync.get(null,function(e){var n;0===Object.keys(e).length?chrome.storage.sync.set((y(n={user_subscriptions:{},other_subscriptions:{},options:{interval:u,custom_clientid:"",removal_status:{track:!0,notify:!0},lock_status:{track:!0,notify:!0}}},"other",!1),n),t):t()})},M=function(t){chrome.storage.sync.get(null,function(e){var n=Object.keys(e.user_subscriptions),r={};n.forEach(function(t){r[t]=L(t,!0,e)}),r.other=L("other",!1,e),t(r,e)})},$=function(t){chrome.storage.sync.get(null,function(e){var n=Object.keys(e.user_subscriptions),r={};n.forEach(function(t){r[t]=P(t,!0,e)}),r.other=P("other",!1,e),t(r)})},P=function(t,e,n){return L(t,e,n).unseen},L=function(t,e,n){var r=n.options.removal_status.track,o=n.options.lock_status.track,i={},c={},u=[],s=w(t,e);return r&&u.push(s.removed,s.approved),o&&u.push(s.locked,s.unlocked),u.forEach(function(t){Object.keys(n[t]).forEach(function(e){n[t][e].u?i[e]=!0:c[e]=!0})}),{unseen:Object.keys(i),seen:Object.keys(c)}},R=function(t,e){var n=p("items",t,e);return browser.storage.local.get(c({},n,{})).then(function(t){return t[n]})},F=function(t,e,n){var r=p("items",t,e);return browser.storage.local.set(c({},r,n))},U=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=p("items",e,n);chrome.storage.local.get(c({},o,{}),function(e){var n=e[o];Object.keys(t).forEach(function(e){n[e]=t[e]});var i=n;Object.keys(n).length>500&&(i=trimDictOfItems_by_utcAttribute(n,500,"o")),chrome.storage.local.set(c({},o,i),r)})},N=function(t,e,n,o){var i=p("items",t,e);return i in o&&n in o[i]?new r.LocalStorageItem({object:o[i][n]}):""},B=function(t){chrome.storage.sync.get("user_subscriptions",function(e){var n=[p("changes","other",!1)],r={changes_other:"other"};Object.keys(e.user_subscriptions).forEach(function(t){var e=p("changes",t,!0);n.push(e),r[e]=t}),chrome.storage.sync.get(n,function(e){var o={};n.forEach(function(t){t in e&&e[t].length&&(o[r[t]]=e[t])}),t(o)})})},V=function(t){return browser.storage.sync.get(["user_subscriptions","other_subscriptions","options"]).then(function(e){var n=Object.keys(e.user_subscriptions),r=Object.keys(e.other_subscriptions),o=e.options;return t(n,r,o)}).catch(console.log)},q=function(t,e,n,r,o,i,c){chrome.storage.sync.set({options:{interval:t,custom_clientid:e,removal_status:{track:n,notify:r},lock_status:{track:o,notify:i}}},c)}},function(t,e,n){"use strict";n.r(e),n.d(e,"ALARM_NAME",function(){return u}),n.d(e,"createTab",function(){return s}),n.d(e,"getFullIDsFromURL",function(){return a}),n.d(e,"getFullIDsFromPath",function(){return l}),n.d(e,"reformatRedditText",function(){return h}),n.d(e,"isRemovedItem",function(){return m}),n.d(e,"isComment",function(){return b}),n.d(e,"isRemovedComment",function(){return v}),n.d(e,"isUserDeletedComment",function(){return g}),n.d(e,"isUserDeletedPost",function(){return p}),n.d(e,"isUserDeletedItem",function(){return y}),n.d(e,"isRemovedPost",function(){return w}),n.d(e,"trimDict_by_numberValuedAttribute",function(){return _}),n.d(e,"sortDict_by_numberValuedAttribute",function(){return O}),n.d(e,"ItemForStorage",function(){return j}),n.d(e,"ChangeForStorage",function(){return k}),n.d(e,"LocalStorageItem",function(){return S}),n.d(e,"setAlarm",function(){return E}),n.d(e,"alphaLowerSort",function(){return T}),n.d(e,"goToOptions",function(){return I}),n.d(e,"showError",function(){return A}),n.d(e,"pprint",function(){return D}),n.d(e,"getPrettyTimeLength",function(){return C}),n.d(e,"getPrettyDate",function(){return x}),n.d(e,"createNotification",function(){return M}),n.d(e,"updateBadgeUnseenCount",function(){return P});var r=n(0);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var u="notifyme",s=function(t){chrome.tabs.create({url:t},function(e){e?chrome.windows.update(e.windowId,{focused:!0}):chrome.windows.create({url:t},function(t){chrome.windows.update(t.id,{focused:!0})})})},a=function(t){var e=t.replace(/https:\/\/[^/]*re(ve)?ddit.com/,"");return l(e)},d=/^\/(r|user)\/([^/]+)\/comments\/([^/]+)\/[^/]*(?:\/([^/?&#]+))?/,f=/^\/user\/([^/?&#]+)\/?/,l=function(t){var e=void 0,n=void 0,r=void 0,o=void 0,i=t.match(d),c=t.match(f);i?("user"===i[1]?r=i[2]:o=i[2],i[3]&&(e="t3_"+i[3]),i[4]&&(n="t1_"+i[4])):c&&(r=c[1]);return[e,n,r,o]},h=function(t){return t.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/\s+/g," ").substr(0,300)},m=function(t){return b(t.name)?v(t):w(t)},b=function(t){return"t1"===t.substr(0,2)},v=function(t){return("[removed]"===t.body.replace(/\\/g,"")||"[deleted]"===t.body.replace(/\\/g,""))&&"[deleted]"===t.author.replace(/\\/g,"")},g=function(t){return"[deleted]"===t.body.replace(/\\/g,"")&&"[deleted]"===t.author.replace(/\\/g,"")},p=function(t){return!t.is_robot_indexable&&"[deleted]"===t.author.replace(/\\/g,"")},y=function(t){return b(t.name)?g(t):p(t)},w=function(t){return!t.is_robot_indexable},_=function(t,e,n){var r=O(t,n).slice(0,e),o={};return r.forEach(function(t){o[t[0]]=t[1]}),o},O=function(t,e){var n=Object.keys(t).map(function(e){return[e,t[e]]});return n.sort(function(t,n){return n[1][e]-t[1][e]}),n},j=function(){function t(e,n){o(this,t),this.c=e,this.u=n}return c(t,[{key:"getCreatedUTC",value:function(){return this.c}},{key:"getUnseen",value:function(){return this.u}}]),t}(),k=function(){function t(e){var n=e.id,r=void 0===n?null:n,i=e.observed_utc,c=void 0===i?null:i,u=e.change_type,s=void 0===u?null:u,a=e.object,d=void 0===a?null:a;o(this,t),d?(this.i=d.i,this.o=d.o,this.g=d.g):(this.i=r,this.o=c,this.g=s)}return c(t,[{key:"getID",value:function(){return this.i}},{key:"getObservedUTC",value:function(){return this.o}},{key:"getChangeType",value:function(){switch(this.g){case r.REMOVED:return"mod removed";case r.DELETED:return"user deleted";case r.APPROVED:return"approved";case r.LOCKED:return"locked";case r.UNLOCKED:return"unlocked";case r.EDITED:return"edited"}}}]),t}(),S=function(){function t(e){var n=e.item,r=void 0===n?null:n,i=e.observed_utc,c=void 0===i?null:i,u=e.object,s=void 0===u?null:u;if(o(this,t),s)this.t=s.t,this.o=s.o,this.c=s.c;else{var a="";a=b(r.name)?h(r.body):r.title,this.t=a,this.o=c,this.c=r.created_utc}}return c(t,[{key:"setText",value:function(t){this.t=h(t)}},{key:"getText",value:function(){return this.t}},{key:"getObservedUTC",value:function(){return this.o}},{key:"getCreatedUTC",value:function(){return this.c}}]),t}();function E(t){chrome.alarms.clear(u),chrome.alarms.create(u,{delayInMinutes:1,periodInMinutes:t})}function T(t,e){var n=t.toLowerCase(),r=e.toLowerCase();return n<r?-1:n>r?1:0}function I(){chrome.runtime.openOptionsPage?(chrome.runtime.openOptionsPage(),window.close()):window.open(chrome.runtime.getURL("/src/options.html"))}function A(t,e){$('<div class="rr-error">'+t+"</div>").appendTo(e).delay(2400).fadeTo(400,0,function(){$(this).remove()})}function D(t){console.log(JSON.stringify(t,null,"\t"))}var C=function(t){var e=[[60,"second","seconds"],[60,"minute","minutes"],[24,"hour","hours"],[7,"day","days"],[365/12/7,"week","weeks"],[12,"month","months"],[10,"year","years"],[10,"decade","decades"],[10,"century","centuries"],[10,"millenium","millenia"]];if(t<60)return t+" seconds";for(var n=t,r=0;r<e.length;r++){var o=e[r][0],i=e[r][1],c=e[r][2];if(n<o){var u=n-Math.floor(n),s=Math.round(u*e[r-1][0]);if(e[r-1][0]===s&&(n+=1,s=0),(Math.floor(n)>1||0==Math.floor(n))&&(i=c),r>1&&s>0){var a=e[r-1][1];s>1&&(a=e[r-1][2]),i+=", "+String(s)+" "+a}return String(Math.floor(n))+" "+i}n/=o}},x=function(t){var e=Math.floor((new Date).getTime()/1e3)-t;return C(e)+" ago"},M=function(t){var e=t.notificationId,n=t.title,r=t.message;location.protocol.match(/^http/)?chrome.runtime.sendMessage({action:"create-notification",options:{notificationId:e,title:n,message:r}}):chrome.notifications.create(e,{type:"basic",iconUrl:"/icons/128.png",title:n,message:r})},P=function(){location.protocol.match(/^http/)?chrome.runtime.sendMessage({action:"update-badge"}):Object(r.getSubscribedUsers_withUnseenIDs)(function(t){var e=0;Object.values(t).forEach(function(t){e+=t.length});var n=e.toString();0==e&&(n=""),chrome.browserAction.setBadgeBackgroundColor({color:"red"}),chrome.browserAction.setBadgeText({text:n})})}},function(t,e,n){"use strict";n.r(e),n.d(e,"lookupItemsByID",function(){return i}),n.d(e,"lookupItemsByUser",function(){return c}),n.d(e,"handleFetchErrors",function(){return u}),n.d(e,"getRedditData",function(){return s}),n.d(e,"getRedditToken",function(){return a}),n.d(e,"getAuth",function(){return d}),n.d(e,"getLocalAuth",function(){return f}),n.d(e,"getCookie",function(){return l}),n.d(e,"getLocalOrAppAuth",function(){return m}),n.d(e,"getLoggedinUser",function(){return b});var r=n(0);function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=function(t,e){var n,r={id:t,raw_json:1},i="?"+Object.keys(r).map(function(t){return"".concat(t,"=").concat(r[t])}).join("&");return(n=window).fetch.apply(n,o(h("api/info",i,e))).then(u).then(s).catch(console.log)},c=function(t,e,n,r,i){var c,a={limit:100,sort:n,raw_json:1};e&&(a.after=e),r&&(a.t=r);var d="user/".concat(t,"/overview.json"),f="?"+Object.keys(a).map(function(t){return"".concat(t,"=").concat(a[t])}).join("&");return(c=window).fetch.apply(c,o(h(d,f,i))).then(u).then(s).catch(console.log)},u=function(t){if(!t.ok)throw Error(t.statusText);return t.json()},s=function(t){if(!t||!t.data||!t.data.children)throw Error("reddit data is not defined");return t.data.children},a=function(t){if(!t||!t.access_token)throw Error("access token is not defined");return t.access_token},d=function(){return Object(r.getOptions)(function(t,e,n){var r="SEw1uvRd6kxFEw";if(n.custom_clientid&&"testing"===(r=n.custom_clientid))return"none";var o={headers:{Authorization:"Basic ".concat(window.btoa("".concat(r,":"))),"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},method:"POST",body:"grant_type=".concat(encodeURIComponent("https://oauth.reddit.com/grants/installed_client"),"&device_id=DO_NOT_TRACK_THIS_DEVICE")};return window.fetch("https://www.reddit.com/api/v1/access_token",o).then(u).then(a).then(function(t){return{headers:{Authorization:"bearer ".concat(t)}}}).catch(console.log)})},f=function(){return window.fetch("https://mod.reddit.com/mail/all").then(function(t){l({url:"https://mod.reddit.com",name:"token"}).then(function(t){if(t){var e=new RegExp("[^A-Za-z0-9+/].*?$"),n=t.value.replace(e,""),r=atob(n),o=JSON.parse(r);return"accessToken"in o&&o.accessToken?{headers:{Authorization:"bearer ".concat(o.accessToken)}}:null}return null})})},l=function(t){var e=t.url,n=t.name;return location.protocol.match(/^http/)?browser.runtime.sendMessage({action:"get-cookie",options:{url:e,name:n}}).then(function(t){return t.cookie}):browser.cookies.get({url:e,name:n})},h=function(t,e,n){if(n&&"none"!==n)return["https://oauth.reddit.com/"+t+e,n];var r="https://www.reddit.com/"+t;return"api/info"===t&&(r+=".json"),[r+=e]},m=function(){return f().then(function(t){return t||d()}).catch(console.log)},b=function(){return window.fetch("https://www.reddit.com/api/me.json").then(u).then(v).catch(console.log)},v=function(t){if(!t||!t.data||!t.data.name)throw Error("reddit username is not defined");return t.data.name}},function(t,e,n){"use strict";n.r(e),n.d(e,"setTextAndFunction_subscribe",function(){return s}),n.d(e,"setTextAndFunction_unsubscribe",function(){return a});var r=n(0),o=n(1),i=n(4),c="unsubscribe-rev",u="subscribe-rev";location.hostname.match(/reveddit\.com$/)&&(c="unsubscribe",u="subscribe");var s=function(t,e,n){return $(e).text(u).off("click").click(function(e){return d(t,e.target,n)})},a=function(t,e,n){return $(e).text(c).off("click").click(function(e){return f(t,e.target,n)})},d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object(r.subscribeId)(t,function(){a(t,e,n),Object(i.b)(t,window.location.href,function(){n&&Object(r.getLocalStorageItems)("other",!1).then(function(e){var i=e[t];if(i){var c=new o.LocalStorageItem({object:i});c.setText(n),e[t]=c,Object(r.saveLocalStorageItems)("other",!1,e)}})})}),!1},f=function(t,e,n){return Object(r.unsubscribeId)(t,function(){s(t,e,n)}),!1}},function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});var r=n(2),o=n(0),i=n(1);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=0,s=1,a=2,d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=u;e.match(/^https:\/\/www.reveddit.com/)&&(o=s),chrome.storage.sync.get(null,function(e){Object(r.getAuth)().then(function(r){l([t],"other",!1,r,e,o,{},n)})})},f=function(){chrome.storage.sync.get(null,function(t){var e=Object.keys(t.user_subscriptions),n=Object.keys(t.other_subscriptions);(e.length||n.length)&&Object(r.getAuth)().then(function(n){!function(t,e){var n=Object.keys(e.other_subscriptions);n.length&&l(n,"other",!1,t,e,a)}(n,t),function t(e,n,o){if(e.length){var i=e[0];Object(r.lookupItemsByUser)(i,"","new","",n).then(function(r){if(r){var c=[],u={};r.forEach(function(t){c.push(t.data.name),u[t.data.name]=t.data}),l(c,i,!0,n,o,a,u,function(){t(e.slice(1),n,o)})}})}}(e,n,t)})})};function l(t,e,n,u,s,a){var d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(){};Object(r.lookupItemsByID)(t,u).then(function(t){if(t){var r=s.options.removal_status,u=s.options.lock_status,l=Object(o.getObjectNamesForThing)(e,n),m=s[l.removed]||{},b=s[l.approved]||{},v=s[l.locked]||{},g=s[l.unlocked]||{},p=s[l.changes]||[];n||(d={});var y=[],w=[],_=[],O=[];t.forEach(function(t){var e=t.data;n||(d[e.name]=e),Object(i.isRemovedItem)(e)?y.push(e.name):w.push(e.name),e.locked?_.push(e.name):O.push(e.name)});var j={},k=[],S=0;Object(o.getLocalStorageItems)(e,n).then(function(t){var s;r.track&&(S+=h(y,o.REMOVED,"mod removed",m,w,o.APPROVED,"approved",b,p,d,r.notify,j,k,n,a,t)),u.track&&(S+=h(_,o.LOCKED,"locked",v,O,o.UNLOCKED,"unlocked",g,p,d,u.notify,j,k,n,a,t)),S&&k.length&&Object(i.createNotification)({notificationId:e,title:e,message:"".concat(S," new [").concat(k.join(", "),"] actions, click to view")}),chrome.storage.sync.set((c(s={},l.removed,Object(i.trimDict_by_numberValuedAttribute)(m,o.MAX_SYNC_STORAGE_ITEMS_PER_OBJECT,"c")),c(s,l.approved,Object(i.trimDict_by_numberValuedAttribute)(b,o.MAX_SYNC_STORAGE_ITEMS_PER_OBJECT,"c")),c(s,l.locked,Object(i.trimDict_by_numberValuedAttribute)(v,o.MAX_SYNC_STORAGE_ITEMS_PER_OBJECT,"c")),c(s,l.unlocked,Object(i.trimDict_by_numberValuedAttribute)(g,o.MAX_SYNC_STORAGE_ITEMS_PER_OBJECT,"c")),c(s,l.changes,p.slice(-o.MAX_SYNC_STORAGE_CHANGES)),s),function(){Object(i.updateBadgeUnseenCount)(),Object(o.addLocalStorageItems)(j,e,n,f)})})}})}function h(t,e,n,r,c,a,d,f,l,h,m,b,v,g,p,y){var w=[],_=[],O=[],j=Math.floor(new Date/1e3);t.forEach(function(t){var n=h[t];if(g||y[t]||(b[t]=new i.LocalStorageItem({item:n,observed_utc:j})),!(t in r)){var c=!0;if((p===u&&e!==o.REMOVED||p===s)&&(c=!1),r[t]=new i.ItemForStorage(n.created_utc,c),delete f[t],c){var a=e;Object(i.isUserDeletedItem)(n)?(a=o.DELETED,O.push(t)):w.push(t),l.push(new i.ChangeForStorage({id:t,observed_utc:j,change_type:a}))}g&&(b[t]=new i.LocalStorageItem({item:n,observed_utc:j}))}}),c.forEach(function(t){var e=h[t];g||y[t]||(b[t]=new i.LocalStorageItem({item:e,observed_utc:j})),t in r?(f[t]=new i.ItemForStorage(e.created_utc,!0),delete r[t],l.push(new i.ChangeForStorage({id:t,observed_utc:j,change_type:a})),_.push(t),b[t]=new i.LocalStorageItem({item:e,observed_utc:j})):f[t]=new i.ItemForStorage(e.created_utc,!1)});var k=w.length+_.length+O.length;return m&&k&&(w.length&&v.push(n),O.length&&v.push("user deleted"),_.length&&v.push(d)),k}},,function(t,e,n){"use strict";n.r(e),n.d(e,"redditModifications",function(){return s});n(2);var r=n(1),o=n(3);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=/^t1_.+/,u=/^t3_.+/,s=function(t){var e=null!==document.querySelector("#SHORTCUT_FOCUSABLE_DIV");if(a(e),e){h($(".Comment"),t),$(document).arrive(".Comment",function(e){h([e],t)});b($(".Post"),t),$(document).arrive(".Post",function(e){b([e],t)});$(document).arrive('.Post div[data-test-id="post-content"]',function(t){f(t)})}else{var n=".thing.link, .thing.comment";v($(n),t),$(document).arrive(n,function(e){v([e],t)})}},a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".Post",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object(r.getFullIDsFromPath)(window.location.pathname),c=i(o,4),u=c[0],s=c[1];c[2],c[3];t&&s&&0===Object.keys(n).length?browser.runtime.sendMessage({action:"get-reddit-items-by-id",ids:[u]}).then(function(r){r&&r.items&&r.items.length&&(n=r.items[0].data,d({isNewReddit:t,newRedditTarget:e,postData:n}))}):d({isNewReddit:t,newRedditTarget:e,postData:n})},d=function(t){var e=t.isNewReddit,n=t.newRedditTarget,o=void 0===n?".Post":n,c=t.postData,u=void 0===c?{}:c,s=i(Object(r.getFullIDsFromPath)(window.location.pathname),4),a=s[0],d=(s[1],s[2],s[3]),f=void 0,l=void 0;if(a&&($('meta[name="robots"][content="noindex,nofollow"]').length||"is_robot_indexable"in u&&!u.is_robot_indexable)){var h=u.author||$(".link .author").first().text()||$('.Post span:contains("u/[deleted]")').first().text();"[deleted]"===h||"u/[deleted]"===h?(f="rev-user-deleted",l="This post was deleted by the person who posted it."):(f="rev-mod-removed",l="This post is unapproved. It is either waiting to be approved, or it was removed by someone or some robot.")}if(l){var m=" It is not currently visible in r/".concat(d," and will not appear in web search results."),b='<div class="rev-from"><a href="https://www.reveddit.com/about">re(ve)ddit</a> note</div>';if(e){"rev-user-deleted"!==f&&(l+=" More details may appear in a message above from reddit.");var v=$('<div class="rev-new-reddit-message-wrap '.concat(f,'">').concat(b,"</div>")),g=$('<div class="rev-new-reddit-message-content"></div>'),p=$('<div class="rev-new-reddit-message-content-description">'.concat(l).concat(m,"</div>"));g.append(p),v.append(g),$(o).first().after(v)}else{"rev-user-deleted"!==f&&(l+=' View the post <a href="https://new.reddit.com'.concat(window.location.pathname,'">on new reddit</a> for more details.')),$('<div class="reddit-infobar md-container-small '.concat(f,'">')).append(b).append('<div class="md"><p>'.concat(l).concat(m,"</p></div>")).prependTo('div.content[role="main"]')}}},f=function(t){var e=i(Object(r.getFullIDsFromPath)(window.location.pathname),4),n=e[0];e[1],e[2],e[3];browser.runtime.sendMessage({action:"get-reddit-items-by-id",ids:[n]}).then(function(e){if(e&&e.items&&e.items.length){var n=e.items[0].data;a(!0,t.parentNode,n)}})},l=function(t,e){var n=t.id;return n&&n.match(e)?n:(n=$(t).attr("class").split(/\s+/).filter(function(t){return t.match(e)})[0])&&n.match(e)?n:(n=t.parentNode.id)&&n.match(e)?n:n=$(t).closest("div[tabindex=-1]").attr("id")},h=function(t,e){$(t).each(function(t,n){var r=$(n).closest(".Comment")[0],i=l(r,c);if(i&&i.match(c)){var u=m(r,"save"),s=u.parent();u.length||(s=(u=m(r,"share")).parent(),u.length||(u=$("<button>...</button>"),s=r));var a=u.clone(),d="",f=r.querySelector(".RichTextJSON-root");f&&(d=f.textContent),i in e?Object(o.setTextAndFunction_unsubscribe)(i,a,d).appendTo(s):Object(o.setTextAndFunction_subscribe)(i,a,d).appendTo(s)}})},m=function(t,e){return $(t).find('button:equalsi("'.concat(e,'")')).first()},b=function(t,e){$(t).each(function(t,n){var r=l(n,u);if(r&&r.match(u)){var i=$(n).find('button :equalsi("save")').first().parent(),c=i.clone();c.find("i.icon").first().parent().remove();var s=i.parent().children("button").last();r in e?Object(o.setTextAndFunction_unsubscribe)(r,c).insertAfter(s):Object(o.setTextAndFunction_subscribe)(r,c).insertAfter(s)}})},v=function(t,e){$(t).each(function(t,n){var c=n.getAttribute("data-fullname");if(!c){var u=i(Object(r.getFullIDsFromPath)(n.getAttribute("data-permalink")||""),4),s=u[0],a=u[1];u[2],u[3];a?c=a:s&&(c=s)}if(c){var d=n.querySelector("ul.buttons");if(d){var f="",l=n.querySelector(".usertext-body");l&&c.match(/^t1_/)&&(f=l.textContent);var h=Object(o.setTextAndFunction_subscribe)(c,$('<a href="">')[0],f);c in e&&(h=Object(o.setTextAndFunction_unsubscribe)(c,$('<a href="">')[0],f)),$(d).append(h.wrap("<li>").parent())}}})}},function(t,e,n){"use strict";n.r(e),n.d(e,"revdditModifications",function(){return i});var r=n(0),o=n(3),i=function(t,e,n,o){var i,a,d,f,l;(n||o)&&(i="numItemsLoaded",a=document.querySelector(".main"),d="data-numitemsloaded",f=1,l=function(){!function(t,e,n){var o=s(".comment.removed, .post.removed, .comment.deleted, .post.deleted"),i=s(".comment:not(.removed), .post:not(.removed)"),c=s(".comment.locked, .post.locked"),u=s(".comment:not(.locked)");Object(r.markIDsAsSeenIfSubscribed)(t,e,n,o,i,c,u,function(t){chrome.runtime.sendMessage({action:"update-badge"})})}(t,e,n)},new MutationObserver(function(t){var e=document.getElementById(i);e&&e.getAttribute(d)>=f&&(this.disconnect(),l())}).observe(a||document,{childList:!0,subtree:!0}));$(document).arrive(".comment-body-and-links",function(e){c([e],t.other_subscriptions)}),c($(".comment-body-and-links"),t.other_subscriptions),$(document).arrive(".post:not(.deleted)",function(e){u([e],t.other_subscriptions)}),setTimeout(function(){u($(".post:not(.deleted)"),t.other_subscriptions)},2e3)},c=function(t,e){$(t).each(function(t,n){var r=n.parentNode;if(!r.classList.contains("deleted")){var i=r.id,c=r.querySelector(".comment-links"),u="",s=r.querySelector(".comment-body");s&&i.match(/^t1_/)&&(u=s.textContent);var a=Object(o.setTextAndFunction_subscribe)(i,$('<a href="">')[0],u);i in e&&(a=Object(o.setTextAndFunction_unsubscribe)(i,$('<a href="">')[0],u)),$(c).append(a)}})},u=function(t,e){$(t).each(function(t,n){var r=n.id,i=n.querySelector(".post-links"),c=Object(o.setTextAndFunction_subscribe)(r,$('<a href="">')[0]);r in e&&(c=Object(o.setTextAndFunction_unsubscribe)(r,$('<a href="">')[0])),$(i).append(c)})};function s(t){var e={};return $(t).each(function(){var t=this.getAttribute("id");e[t]=this.getAttribute("data-created_utc")}),e}},,function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(6),i=n(7),c=n(2);!function(){$.extend($.expr[":"],{equalsi:function(t,e,n,r){return(t.textContent||t.innerText||"").toLowerCase().trim()===n[3].toLowerCase().trim()}}),window.localStorage.setItem("hasSeenLanguageModal",!0),window.localStorage.setItem("hasNotifierExtension",!0),browser.runtime.onMessage.addListener(function(t,e,n){if("query-user"===t.action)return Object(c.getLoggedinUser)().then(function(t){return t?Object(r.subscribeUser)(t,function(){window.location.href="https://www.reveddit.com/user/".concat(t,"?all=true")}):Promise.resolve("failed")})});var t="other",e=!1,n=!1,u=!1;jQuery(document).ready(function(){var c=window.location.href.match(/^https?:\/\/[^/]*(reddit\.com|reveddit\.com|localhost)/);if(c){u="reddit.com"===c[1];var s=window.location.pathname.split("/");"user"===s[1]&&s.length>=3&&s[2]?(t=window.location.pathname.split("/")[2],e=!0):"info"===s[1]&&(n=!0)}Object(r.getSubscribedUsers_withSeenAndUnseenIDs)(function(r,c){0===Object.keys(r).filter(function(t){return"other"!==t}).length?window.localStorage.setItem("extensionSaysNoSubscriptions",!0):window.localStorage.removeItem("extensionSaysNoSubscriptions"),u?Object(o.redditModifications)(c.other_subscriptions):Object(i.revdditModifications)(c,t,e,n)})})}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NyYy9zdG9yYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy9zcmMvY29tbW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9zcmMvcmVxdWVzdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NyYy9jb250ZW50LWNvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3JjL21vbml0b3JpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NyYy9jb250ZW50LXJlZGRpdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3JjL2NvbnRlbnQtcmV2ZGRpdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3JjL2NvbnRlbnQuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJJTlRFUlZBTF9ERUZBVUxUIiwiTUFYX1NZTkNfU1RPUkFHRV9JVEVNU19QRVJfT0JKRUNUIiwiTUFYX1NZTkNfU1RPUkFHRV9DSEFOR0VTIiwiTUFYX09USEVSX1NVQlNDUklQVElPTlMiLCJSRU1PVkVEIiwiQVBQUk9WRUQiLCJMT0NLRUQiLCJVTkxPQ0tFRCIsIkVESVRFRCIsIkRFTEVURUQiLCJ0cmFja1R5cGVzIiwiY2hhbmdlcyIsInJlbW92ZWQiLCJhcHByb3ZlZCIsImxvY2tlZCIsInVubG9ja2VkIiwiZ2V0T2JqZWN0TmFtZSIsInR5cGUiLCJ0aGluZyIsImlzVXNlciIsImFkZFRyYWNrVHlwZXMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJrZXlzIiwiZm9yRWFjaCIsImdldE9iamVjdE5hbWVzRm9yVGhpbmciLCJuYW1lcyIsImdldFVzZXJJbml0IiwidXNlciIsInJlc3VsdCIsIm1hcmtFdmVyeXRoaW5nQXNTZWVuIiwiYnJvd3NlciIsInN0b3JhZ2UiLCJzeW5jIiwidGhlbiIsInVzZXJfc3Vic2NyaXB0aW9ucyIsIm1hcmtUaGluZ0FzU2VlbiIsInNldFN0b3JhZ2VVcGRhdGVCYWRnZSIsImZ1bGxLZXluYW1lcyIsInZhbHVlcyIsImZ1bGxLZXluYW1lIiwicHVzaCIsIml0ZW0iLCJ1Iiwic2V0IiwicmVzIiwicnVudGltZSIsInNlbmRNZXNzYWdlIiwiYWN0aW9uIiwibWFya1NlZW5Gb3JTdG9yYWdlS2V5Iiwic3RvcmFnZV9rZXlzIiwiaWRzIiwiaXNfdXNlciIsInN0b3JhZ2VfaXRlbSIsImlkIiwiSXRlbUZvclN0b3JhZ2UiLCJtYXJrSURzQXNTZWVuSWZTdWJzY3JpYmVkIiwicmVtb3ZlZF9pZHMiLCJhcHByb3ZlZF9pZHMiLCJsb2NrZWRfaWRzIiwidW5sb2NrZWRfaWRzIiwiY2FsbGJhY2siLCJ1c2VyX3N1YnNjcmliZWQiLCJjaHJvbWUiLCJzdWJzY3JpYmVJZCIsIk1hdGgiLCJmbG9vciIsIkRhdGUiLCJnZXRUaW1lIiwiaXRlbXNUb1NhdmUiLCJ0cmltRGljdF9ieV9udW1iZXJWYWx1ZWRBdHRyaWJ1dGUiLCJfZGVmaW5lUHJvcGVydHkiLCJ1bnN1YnNjcmliZUlkIiwibWFpbktleSIsIm90aGVyS2V5cyIsImNvbmNhdCIsImdldFN1YnNjcmliZWRJZHMiLCJzdWJzY3JpYmVVc2VyIiwiY2FsbGJhY2tTdWNjZXNzIiwiY2FsbGJhY2tFcnJvciIsInVzZXJJbml0IiwiX29iamVjdFNwcmVhZCIsInVuc3Vic2NyaWJlVXNlciIsInVzZXJLZXlzIiwicmVtb3ZlIiwidXNlcktleV9sb2NhbFN0b3JhZ2UiLCJsb2NhbCIsImluaXRTdG9yYWdlIiwib3RoZXJfc3Vic2NyaXB0aW9ucyIsIm9wdGlvbnMiLCJpbnRlcnZhbCIsImN1c3RvbV9jbGllbnRpZCIsInJlbW92YWxfc3RhdHVzIiwidHJhY2siLCJub3RpZnkiLCJsb2NrX3N0YXR1cyIsImdldFN1YnNjcmliZWRVc2Vyc193aXRoU2VlbkFuZFVuc2VlbklEcyIsInVzZXJzIiwidXNlcnNfd2l0aElEcyIsImdldElEc190aGluZyIsImdldFN1YnNjcmliZWRVc2Vyc193aXRoVW5zZWVuSURzIiwiZ2V0VW5zZWVuSURzX3RoaW5nIiwidHJhY2tfcmVtb3ZhbCIsInRyYWNrX2xvY2siLCJ1bnNlZW5JRHMiLCJzZWVuSURzIiwidHlwZXMiLCJ1bnNlZW4iLCJzZWVuIiwiZ2V0TG9jYWxTdG9yYWdlSXRlbXMiLCJrZXlfbG9jYWxTdG9yYWdlIiwibG9jYWxTdG9yYWdlSXRlbXMiLCJzYXZlTG9jYWxTdG9yYWdlSXRlbXMiLCJhZGRMb2NhbFN0b3JhZ2VJdGVtcyIsIml0ZW1zIiwic3RvcmVkSXRlbXMiLCJ0cmltRGljdE9mSXRlbXNfYnlfdXRjQXR0cmlidXRlIiwiZ2V0SXRlbUZyb21Mb2NhbFN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2UiLCJMb2NhbFN0b3JhZ2VJdGVtIiwiZ2V0QWxsQ2hhbmdlcyIsImtleVRvVXNlcl9sb29rdXAiLCJjaGFuZ2VzX290aGVyIiwicmVzMiIsImNoYW5nZXNCeVVzZXIiLCJnZXRPcHRpb25zIiwib3RoZXJzIiwiY29uc29sZSIsImxvZyIsInNhdmVPcHRpb25zIiwicmVtb3ZlZF90cmFjayIsInJlbW92ZWRfbm90aWZ5IiwibG9ja2VkX3RyYWNrIiwibG9ja2VkX25vdGlmeSIsIkFMQVJNX05BTUUiLCJjcmVhdGVUYWIiLCJ1cmwiLCJ0YWJzIiwidGFiIiwid2luZG93cyIsInVwZGF0ZSIsIndpbmRvd0lkIiwiZm9jdXNlZCIsIndpbiIsImdldEZ1bGxJRHNGcm9tVVJMIiwicGF0aCIsInJlcGxhY2UiLCJnZXRGdWxsSURzRnJvbVBhdGgiLCJyZWdleF9wYyIsInJlZ2V4X3VzZXIiLCJwb3N0SUQiLCJjb21tZW50SUQiLCJzdWJyZWRkaXQiLCJtYXRjaGVzX3BjIiwibWF0Y2giLCJtYXRjaGVzX3VzZXIiLCJyZWZvcm1hdFJlZGRpdFRleHQiLCJib2R5Iiwic3Vic3RyIiwiaXNSZW1vdmVkSXRlbSIsImlzQ29tbWVudCIsImlzUmVtb3ZlZENvbW1lbnQiLCJpc1JlbW92ZWRQb3N0IiwiYXV0aG9yIiwiaXNVc2VyRGVsZXRlZENvbW1lbnQiLCJpc1VzZXJEZWxldGVkUG9zdCIsImlzX3JvYm90X2luZGV4YWJsZSIsImlzVXNlckRlbGV0ZWRJdGVtIiwiZGljdCIsIm1heE51bUl0ZW1zIiwibnVtYmVyVmFsdWVkQXR0cmlidXRlIiwic2hvcnRlbmVkQXJyYXkiLCJzb3J0RGljdF9ieV9udW1iZXJWYWx1ZWRBdHRyaWJ1dGUiLCJzbGljZSIsIm5ld0RpY3QiLCJhcnJheSIsIm1hcCIsInNvcnQiLCJhIiwiYiIsImNyZWF0ZWRfdXRjIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9jcmVhdGVDbGFzcyIsIkNoYW5nZUZvclN0b3JhZ2UiLCJfcmVmIiwiX3JlZiRpZCIsIl9yZWYkb2JzZXJ2ZWRfdXRjIiwib2JzZXJ2ZWRfdXRjIiwiX3JlZiRjaGFuZ2VfdHlwZSIsImNoYW5nZV90eXBlIiwiX3JlZiRvYmplY3QiLCJnIiwiX3JlZjIiLCJfcmVmMiRpdGVtIiwiX3JlZjIkb2JzZXJ2ZWRfdXRjIiwiX3JlZjIkb2JqZWN0IiwidGV4dCIsInRpdGxlIiwic2V0QWxhcm0iLCJwZXJpb2RJbk1pbnV0ZXMiLCJhbGFybXMiLCJjbGVhciIsImRlbGF5SW5NaW51dGVzIiwiYWxwaGFMb3dlclNvcnQiLCJ0ZXh0QSIsInRvTG93ZXJDYXNlIiwidGV4dEIiLCJnb1RvT3B0aW9ucyIsIm9wZW5PcHRpb25zUGFnZSIsIndpbmRvdyIsImNsb3NlIiwib3BlbiIsImdldFVSTCIsInNob3dFcnJvciIsIm1lc3NhZ2UiLCJzZWxlY3RvciIsIiQiLCJhcHBlbmRUbyIsImRlbGF5IiwiZmFkZVRvIiwicHByaW50Iiwib2JqIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldFByZXR0eVRpbWVMZW5ndGgiLCJzZWNvbmRzIiwidGhyZXNob2xkcyIsInRpbWUiLCJkaXZpc29yIiwidGV4dFBsdXJhbCIsImV4dHJhIiwicHJldlVuaXRUaW1lIiwicm91bmQiLCJyZW1haW5UZXh0IiwiU3RyaW5nIiwiZ2V0UHJldHR5RGF0ZSIsImNyZWF0ZWRVVEMiLCJjcmVhdGVOb3RpZmljYXRpb24iLCJfcmVmMyIsIm5vdGlmaWNhdGlvbklkIiwibG9jYXRpb24iLCJwcm90b2NvbCIsIm5vdGlmaWNhdGlvbnMiLCJpY29uVXJsIiwidXBkYXRlQmFkZ2VVbnNlZW5Db3VudCIsInVzZXJzVW5zZWVuSURzIiwidG90YWwiLCJ0b1N0cmluZyIsImJyb3dzZXJBY3Rpb24iLCJzZXRCYWRnZUJhY2tncm91bmRDb2xvciIsImNvbG9yIiwic2V0QmFkZ2VUZXh0IiwibG9va3VwSXRlbXNCeUlEIiwiYXV0aCIsIl93aW5kb3ciLCJwYXJhbXMiLCJyYXdfanNvbiIsInNlYXJjaCIsImsiLCJqb2luIiwiZmV0Y2giLCJhcHBseSIsIl90b0NvbnN1bWFibGVBcnJheSIsImdldEZldGNoUGFyYW1zIiwiaGFuZGxlRmV0Y2hFcnJvcnMiLCJnZXRSZWRkaXREYXRhIiwibG9va3VwSXRlbXNCeVVzZXIiLCJhZnRlciIsInRpbWVTcGFuIiwiX3dpbmRvdzIiLCJsaW1pdCIsInJlc3BvbnNlIiwib2siLCJFcnJvciIsInN0YXR1c1RleHQiLCJqc29uIiwiZGF0YSIsImNoaWxkcmVuIiwiZ2V0UmVkZGl0VG9rZW4iLCJhY2Nlc3NfdG9rZW4iLCJnZXRBdXRoIiwidXNlX3RoaXNfY2xpZW50SUQiLCJ0b2tlbkluaXQiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImJ0b2EiLCJDb250ZW50LVR5cGUiLCJtZXRob2QiLCJlbmNvZGVVUklDb21wb25lbnQiLCJ0b2tlbiIsImdldExvY2FsQXV0aCIsImdldENvb2tpZSIsImNvb2tpZSIsImludmFsaWRDaGFyIiwiUmVnRXhwIiwiYmFzZTY0Q29va2llIiwidG9rZW5EYXRhIiwiYXRvYiIsInRva2VucyIsInBhcnNlIiwiYWNjZXNzVG9rZW4iLCJjb29raWVzIiwiZ2V0TG9jYWxPckFwcEF1dGgiLCJnZXRMb2dnZWRpblVzZXIiLCJnZXRSZWRkaXRVc2VybmFtZSIsIl9fd2VicGFja19leHBvcnRzX18iLCJzZXRUZXh0QW5kRnVuY3Rpb25fc3Vic2NyaWJlIiwic2V0VGV4dEFuZEZ1bmN0aW9uX3Vuc3Vic2NyaWJlIiwiX3N0b3JhZ2VfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9jb21tb25fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9tb25pdG9yaW5nX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJVTlNVQlNDUklCRV9URVhUIiwiU1VCU0NSSUJFX1RFWFQiLCJob3N0bmFtZSIsImVsZW1lbnQiLCJjb21tZW50Qm9keSIsIm9mZiIsImNsaWNrIiwiZXZlbnRPYmoiLCJzdWJzY3JpYmVJZF9jaGFuZ2VUZXh0IiwidGFyZ2V0IiwidW5zdWJzY3JpYmVJZF9jaGFuZ2VUZXh0Iiwic2V0Q3VycmVudFN0YXRlRm9ySWQiLCJocmVmIiwiaXRlbU9iaiIsInNldFRleHQiLCJTVUJTQ1JJQkVEX0ZST01fUkVERElUIiwiU1VCU0NSSUJFRF9GUk9NX1JFVkVERElUIiwiU1VCU0NSSUJFRF9GUk9NX05BIiwic3Vic2NyaWJlZEZyb21VUkwiLCJzdWJzY3JpYmVkRnJvbSIsImNoZWNrRm9yQ2hhbmdlc190aGluZ19ieUlkIiwiY2hlY2tGb3JDaGFuZ2VzIiwib3RoZXIiLCJjaGVja0ZvckNoYW5nZXNfb3RoZXIiLCJjaGVja0ZvckNoYW5nZXNfdXNlcnMiLCJpdGVtTG9va3VwIiwia25vd25fcmVtb3ZlZCIsImtub3duX2FwcHJvdmVkIiwia25vd25fbG9ja2VkIiwia25vd25fdW5sb2NrZWQiLCJpdGVtV3JhcCIsIm5ld0xvY2FsU3RvcmFnZUl0ZW1zIiwiY2hhbmdlVHlwZXMiLCJudW1fY2hhbmdlcyIsImV4aXN0aW5nTG9jYWxTdG9yYWdlSXRlbXMiLCJfY2hyb21lJHN0b3JhZ2Ukc3luYyQiLCJtYXJrQ2hhbmdlcyIsImFsZXJ0X2N1cnJlbnRfbGlzdCIsImFsZXJ0X3R5cGUiLCJhbGVydF90ZXh0IiwiYWxlcnRfa25vd25faGFzaCIsIm5vcm1hbF9jdXJyZW50X2xpc3QiLCJub3JtYWxfdHlwZSIsIm5vcm1hbF90ZXh0Iiwibm9ybWFsX2tub3duX2hhc2giLCJhbGVydF91bnNlZW5faWRzIiwibm9ybWFsX3Vuc2Vlbl9pZHMiLCJhbGVydF91c2VyRGVsZXRlZF91bnNlZW5faWRzIiwibm93IiwibWFya1Vuc2VlbiIsImFsZXJ0X3R5cGVfdmFyIiwiaWRfbWF0Y2hfY29tbWVudCIsImlkX21hdGNoX3Bvc3QiLCJyZWRkaXRNb2RpZmljYXRpb25zIiwiaXNOZXdSZWRkaXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpZlRocmVhZFBhZ2Vfc2hvd1JlbW92YWxTdGF0dXMiLCJhZGRTdWJzY3JpYmVMaW5rc19uZXdSZWRkaXRfY29tbWVudHMiLCJhcnJpdmUiLCJhZGRTdWJzY3JpYmVMaW5rc19uZXdSZWRkaXRfcG9zdHMiLCJzaG93UmVtb3ZhbFN0YXR1c0ZvclRocmVhZE92ZXJsYXkiLCJhZGRTdWJzY3JpYmVMaW5rc19vbGRSZWRkaXQiLCJuZXdSZWRkaXRUYXJnZXQiLCJwb3N0RGF0YSIsIl9nZXRGdWxsSURzRnJvbVBhdGgiLCJwYXRobmFtZSIsIl9nZXRGdWxsSURzRnJvbVBhdGgyIiwiX3NsaWNlZFRvQXJyYXkiLCJzaG93UmVtb3ZhbFN0YXR1cyIsIl9yZWYkbmV3UmVkZGl0VGFyZ2V0IiwiX3JlZiRwb3N0RGF0YSIsIl9nZXRGdWxsSURzRnJvbVBhdGg0IiwiY2xhc3NOYW1lIiwibWVzc2FnZV8xIiwiZmlyc3QiLCJtZXNzYWdlXzIiLCJmcm9tIiwiJGh0bWxfd3JhcCIsIiRodG1sX2NvbnRlbnQiLCIkaHRtbF9kZXNjcmlwdGlvbiIsImFwcGVuZCIsInByZXBlbmRUbyIsIl9nZXRGdWxsSURzRnJvbVBhdGg2IiwicGFyZW50Tm9kZSIsImdldElEX25ld1JlZGRpdCIsImlkX21hdGNoIiwiYXR0ciIsInNwbGl0IiwiZmlsdGVyIiwiY2xvc2VzdCIsImVsZW1lbnRzIiwic3Vic2NyaXB0aW9ucyIsImVhY2giLCJpZHgiLCJ0YXJnZXRlZEVsZW1lbnQiLCIkYnV0dG9uIiwiZ2V0QnV0dG9uIiwiYXBwZW5kQnV0dG9uVG8iLCJwYXJlbnQiLCIkYnV0dG9uX2Nsb25lIiwiY2xvbmUiLCJib2R5RWxlbWVudCIsInRleHRDb250ZW50IiwiYnV0dG9uX3NlYXJjaF90ZXh0IiwiZmluZCIsIiRsYXN0X2J1dHRvbiIsImxhc3QiLCJpbnNlcnRBZnRlciIsImdldEF0dHJpYnV0ZSIsIl9nZXRGdWxsSURzRnJvbVBhdGg4IiwiYnV0dG9ucyIsIiRuZXdCdXR0b24iLCJ3cmFwIiwicmV2ZGRpdE1vZGlmaWNhdGlvbnMiLCJfY29udGVudF9jb21tb25fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsImlzVXNlclBhZ2UiLCJpc0luZm9QYWdlIiwiYXR0cmlidXRlIiwibWluQXR0cmlidXRlVmFsdWUiLCJkb25lIiwic2Vlbl9yZW1vdmVkX2lkcyIsImdldElEc0hhc2hGcm9tU2VsZWN0b3IiLCJzZWVuX2FwcHJvdmVkX2lkcyIsInNlZW5fbG9ja2VkX2lkcyIsInNlZW5fdW5sb2NrZWRfaWRzIiwiZmluZElEc0ZvclVzZXJBbmRNYXJrIiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9ucyIsImVsIiwiZ2V0RWxlbWVudEJ5SWQiLCJkaXNjb25uZWN0Iiwib2JzZXJ2ZSIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJhZGRTdWJzY3JpYmVMaW5rc19yZXZkZGl0X2NvbW1lbnRzIiwiYWRkU3Vic2NyaWJlTGlua3NfcmV2ZGRpdF9wb3N0cyIsInNldFRpbWVvdXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImxpbmtzIiwiJG5ld0xpbmsiLCJoYXNoIiwiX2NvbnRlbnRfcmVkZGl0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJfY29udGVudF9yZXZkZGl0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJfcmVxdWVzdHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyIsImV4dGVuZCIsImV4cHIiLCJlcXVhbHNpIiwiZWxlbSIsImlubmVyVGV4dCIsInRyaW0iLCJzZXRJdGVtIiwib25NZXNzYWdlIiwiYWRkTGlzdGVuZXIiLCJzZW5kZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsImlzUmVkZGl0IiwialF1ZXJ5IiwicmVhZHkiLCJtYXRjaGVzIiwicGF0aFBhcnRzIiwieCIsInJlbW92ZUl0ZW0iXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FF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RSxFQUFVLElBQWlCQSxFQUFVcmMsUUFBVSxHQUFLcWMsRUFBVSxJQUM5RDliLEVBQU9zTCxPQUFPK0IsU0FBU3lJLFNBQVNzQixNQUFNLEtBQUssR0FDM0M0QixHQUFhLEdBQ1csU0FBakI4QyxFQUFVLEtBQ2pCN0MsR0FBYSxHQUdyQjdVLGtEQUF3QyxTQUFDQyxFQUFPakUsR0FDaUIsSUFBekR2RCxPQUFPOEMsS0FBSzBFLEdBQU9nVCxPQUFPLFNBQUEwRSxHQUFDLE1BQVUsVUFBTkEsSUFBZXRjLE9BQzlDNkwsT0FBTzVGLGFBQWEwVixRQW5CSyxnQ0FtQmlDLEdBRTFEOVAsT0FBTzVGLGFBQWFzVyxXQXJCSyxnQ0F1QnpCTixFQUNBekcsOEJBQW9CN1UsRUFBUXdELHFCQUU1QmtWLCtCQUFxQjFZLEVBQVNKLEVBQU1nWixFQUFZQyxPQWxEaEUiLCJmaWxlIjoiY29udGVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA5KTtcbiIsImltcG9ydCB7YWxwaGFMb3dlclNvcnQsIEl0ZW1Gb3JTdG9yYWdlLCBMb2NhbFN0b3JhZ2VJdGVtLCB0cmltRGljdF9ieV9udW1iZXJWYWx1ZWRBdHRyaWJ1dGV9IGZyb20gJy4vY29tbW9uLmpzJ1xuXG5leHBvcnQgY29uc3QgSU5URVJWQUxfREVGQVVMVCA9IDE7XG5cbi8vIFRoZXNlIGxpbWl0cyBhcmUgc2V0IHdpdGggY29uc2lkZXJhdGlvbiBmb3IgQ2hyb21lJ3Mgc3luYyAmIGxvY2FsIHN0b3JhZ2UgbGltaXRzLFxuLy8gYW5kIGZvciB0aGUgb2JqZWN0cyBzdG9yZWQgYnkgdGhlIGV4dGVuc2lvblxuY29uc3QgTUFYX1NVQlNDUklQVElPTlMgPSA1O1xuY29uc3QgTUFYX0xPQ0FMX1NUT1JBR0VfSVRFTVNfUEVSX09CSkVDVCA9IDUwMFxuZXhwb3J0IGNvbnN0IE1BWF9TWU5DX1NUT1JBR0VfSVRFTVNfUEVSX09CSkVDVCA9IDEzMFxuZXhwb3J0IGNvbnN0IE1BWF9TWU5DX1NUT1JBR0VfQ0hBTkdFUyA9IDEwMFxuZXhwb3J0IGNvbnN0IE1BWF9PVEhFUl9TVUJTQ1JJUFRJT05TID0gMTAwXG5cbmV4cG9ydCBjb25zdCBSRU1PVkVEID0gMVxuZXhwb3J0IGNvbnN0IEFQUFJPVkVEID0gMlxuZXhwb3J0IGNvbnN0IExPQ0tFRCA9IDNcbmV4cG9ydCBjb25zdCBVTkxPQ0tFRCA9IDRcbmV4cG9ydCBjb25zdCBFRElURUQgPSA1XG5leHBvcnQgY29uc3QgREVMRVRFRCA9IDZcblxuY29uc3QgdHJhY2tUeXBlcyA9IHsnY2hhbmdlcyc6IFtdLCAncmVtb3ZlZCc6IHt9LCAnYXBwcm92ZWQnOiB7fSwgJ2xvY2tlZCc6IHt9LCAndW5sb2NrZWQnOiB7fX07XG5cbmNvbnN0IGdldE9iamVjdE5hbWUgPSAodHlwZSwgdGhpbmcsIGlzVXNlcikgPT4ge1xuICAgIGlmIChpc1VzZXIpIHtcbiAgICAgICAgcmV0dXJuIHR5cGUrJ191XycrdGhpbmdcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHlwZSsnXycrdGhpbmdcbiAgICB9XG59XG5cbmNvbnN0IGFkZFRyYWNrVHlwZXMgPSAob2JqZWN0LCB0aGluZywgaXNVc2VyPXRydWUpID0+IHtcbiAgICBPYmplY3Qua2V5cyh0cmFja1R5cGVzKS5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgICBvYmplY3RbZ2V0T2JqZWN0TmFtZSh0eXBlLCB0aGluZywgaXNVc2VyKV0gPSB0cmFja1R5cGVzW3R5cGVdXG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGdldE9iamVjdE5hbWVzRm9yVGhpbmcgPSAodGhpbmcsIGlzVXNlcj10cnVlKSA9PiB7XG4gICAgY29uc3QgbmFtZXMgPSB7fVxuICAgIE9iamVjdC5rZXlzKHRyYWNrVHlwZXMpLmZvckVhY2godHlwZSA9PiB7XG4gICAgICAgIG5hbWVzW3R5cGVdID0gZ2V0T2JqZWN0TmFtZSh0eXBlLCB0aGluZywgaXNVc2VyKVxuICAgIH0pXG4gICAgcmV0dXJuIG5hbWVzXG59XG5cbmNvbnN0IGdldFVzZXJJbml0ID0gKHVzZXIpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSB7fVxuICAgIGFkZFRyYWNrVHlwZXMocmVzdWx0LCB1c2VyLCB0cnVlKVxuICAgIHJldHVybiByZXN1bHRcbn1cblxuY29uc3QgZ2V0U3RvcmFnZUluaXQgPSAoKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICB1c2VyX3N1YnNjcmlwdGlvbnM6IHt9LFxuICAgICAgICBvdGhlcl9zdWJzY3JpcHRpb25zOiB7fSxcbiAgICAgICAgb3B0aW9uczoge2ludGVydmFsOiBJTlRFUlZBTF9ERUZBVUxULCBjdXN0b21fY2xpZW50aWQ6ICcnLCByZW1vdmFsX3N0YXR1czoge3RyYWNrOiB0cnVlLCBub3RpZnk6IHRydWV9LCBsb2NrX3N0YXR1czoge3RyYWNrOiB0cnVlLCBub3RpZnk6IHRydWV9fVxuICAgIH1cbiAgICBhZGRUcmFja1R5cGVzKHJlc3VsdCwgJ290aGVyJywgZmFsc2UpXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGNvbnN0IG1hcmtFdmVyeXRoaW5nQXNTZWVuID0gKCkgPT4ge1xuICAgIHJldHVybiBicm93c2VyLnN0b3JhZ2Uuc3luYy5nZXQobnVsbClcbiAgICAudGhlbihzdG9yYWdlID0+IHtcbiAgICAgICAgY29uc3QgdXNlcnMgPSBPYmplY3Qua2V5cyhzdG9yYWdlLnVzZXJfc3Vic2NyaXB0aW9ucyk7XG4gICAgICAgIGNvbnN0IGFsbEtleXMgPSBbXVxuICAgICAgICB1c2Vycy5mb3JFYWNoKHVzZXIgPT4ge1xuICAgICAgICAgICAgbWFya1RoaW5nQXNTZWVuKHN0b3JhZ2UsIHVzZXIsIHRydWUpXG4gICAgICAgIH0pXG4gICAgICAgIG1hcmtUaGluZ0FzU2VlbihzdG9yYWdlLCAnb3RoZXInLCBmYWxzZSlcbiAgICAgICAgcmV0dXJuIHNldFN0b3JhZ2VVcGRhdGVCYWRnZShzdG9yYWdlKVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBtYXJrVGhpbmdBc1NlZW4gPSAoc3RvcmFnZSwgdGhpbmcsIGlzVXNlcikgPT4ge1xuICAgIGNvbnN0IGtleXMgPSBnZXRPYmplY3ROYW1lc0ZvclRoaW5nKHRoaW5nLCBpc1VzZXIpXG4gICAgZGVsZXRlIGtleXNbJ2NoYW5nZXMnXVxuICAgIGNvbnN0IGZ1bGxLZXluYW1lcyA9IFtdXG4gICAgT2JqZWN0LnZhbHVlcyhrZXlzKS5mb3JFYWNoKGZ1bGxLZXluYW1lID0+IHtcbiAgICAgICAgZnVsbEtleW5hbWVzLnB1c2goZnVsbEtleW5hbWUpXG4gICAgfSlcbiAgICBmdWxsS2V5bmFtZXMuZm9yRWFjaChmdWxsS2V5bmFtZSA9PiB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoc3RvcmFnZVtmdWxsS2V5bmFtZV0pLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICBpdGVtLnUgPSBmYWxzZVxuICAgICAgICB9KVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBzZXRTdG9yYWdlVXBkYXRlQmFkZ2UgPSAoc3RvcmFnZSkgPT4ge1xuICAgIHJldHVybiBicm93c2VyLnN0b3JhZ2Uuc3luYy5zZXQoc3RvcmFnZSlcbiAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICByZXR1cm4gYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHthY3Rpb246ICd1cGRhdGUtYmFkZ2UnfSlcbiAgICB9KVxufVxuXG5jb25zdCBtYXJrU2VlbkZvclN0b3JhZ2VLZXkgPSAoc3RvcmFnZSwgc3RvcmFnZV9rZXlzLCBrZXksIGlkcywgaXNfdXNlcikgPT4ge1xuICAgIGNvbnN0IHN0b3JhZ2VfaXRlbSA9IHN0b3JhZ2Vbc3RvcmFnZV9rZXlzW2tleV1dXG4gICAgT2JqZWN0LmtleXMoaWRzKS5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgaWYgKGlkIGluIHN0b3JhZ2VfaXRlbSkge1xuICAgICAgICAgICAgc3RvcmFnZV9pdGVtW2lkXS51ID0gZmFsc2VcbiAgICAgICAgfSBlbHNlIGlmIChpc191c2VyKSB7XG4gICAgICAgICAgICBzdG9yYWdlX2l0ZW1baWRdID0gbmV3IEl0ZW1Gb3JTdG9yYWdlKGlkc1tpZF0sIGZhbHNlKVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IG1hcmtJRHNBc1NlZW5JZlN1YnNjcmliZWQgPSAoc3RvcmFnZSwgdXNlciwgaXNfdXNlciwgcmVtb3ZlZF9pZHMsIGFwcHJvdmVkX2lkcywgbG9ja2VkX2lkcywgdW5sb2NrZWRfaWRzLCBjYWxsYmFjayA9ICgpID0+IHt9KSA9PiB7XG4gICAgY29uc3Qgc3RvcmFnZV9rZXlzID0gZ2V0T2JqZWN0TmFtZXNGb3JUaGluZyh1c2VyLCBpc191c2VyKVxuICAgIGRlbGV0ZSBzdG9yYWdlX2tleXNbJ2NoYW5nZXMnXVxuICAgIGNvbnN0IHVzZXJfc3Vic2NyaWJlZCA9IHN0b3JhZ2UudXNlcl9zdWJzY3JpcHRpb25zW3VzZXJdXG4gICAgaWYgKHVzZXJfc3Vic2NyaWJlZCB8fCAhIGlzX3VzZXIpIHtcbiAgICAgICAgbWFya1NlZW5Gb3JTdG9yYWdlS2V5KHN0b3JhZ2UsIHN0b3JhZ2Vfa2V5cywgJ3JlbW92ZWQnLCByZW1vdmVkX2lkcywgaXNfdXNlcilcbiAgICAgICAgbWFya1NlZW5Gb3JTdG9yYWdlS2V5KHN0b3JhZ2UsIHN0b3JhZ2Vfa2V5cywgJ2FwcHJvdmVkJywgYXBwcm92ZWRfaWRzLCBpc191c2VyKVxuICAgICAgICBtYXJrU2VlbkZvclN0b3JhZ2VLZXkoc3RvcmFnZSwgc3RvcmFnZV9rZXlzLCAnbG9ja2VkJywgbG9ja2VkX2lkcywgaXNfdXNlcilcbiAgICAgICAgbWFya1NlZW5Gb3JTdG9yYWdlS2V5KHN0b3JhZ2UsIHN0b3JhZ2Vfa2V5cywgJ3VubG9ja2VkJywgdW5sb2NrZWRfaWRzLCBpc191c2VyKVxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldChzdG9yYWdlLCBjYWxsYmFjaylcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IHN1YnNjcmliZUlkID0gKGlkLCBjYWxsYmFjayA9ICgpID0+IHt9KSA9PiB7XG4gICAgY29uc3Qga2V5ID0gJ290aGVyX3N1YnNjcmlwdGlvbnMnXG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoa2V5LCAocmVzdWx0KSA9PiB7XG4gICAgICAgIHJlc3VsdFtrZXldW2lkXSA9IHt0OiBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpLzEwMDApfVxuICAgICAgICBjb25zdCBpdGVtc1RvU2F2ZSA9IHRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZShyZXN1bHRba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTUFYX09USEVSX1NVQlNDUklQVElPTlMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0JylcbiAgICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoe1trZXldOiBpdGVtc1RvU2F2ZX0sIGNhbGxiYWNrKVxuICAgIH0pXG59XG5leHBvcnQgY29uc3QgdW5zdWJzY3JpYmVJZCA9IChpZCwgY2FsbGJhY2sgPSAoKSA9PiB7fSkgPT4ge1xuICAgIGNvbnN0IG1haW5LZXkgPSAnb3RoZXJfc3Vic2NyaXB0aW9ucydcbiAgICBjb25zdCBvdGhlcktleXMgPSBnZXRPYmplY3ROYW1lc0ZvclRoaW5nKCdvdGhlcicsIGZhbHNlKVxuICAgIGRlbGV0ZSBvdGhlcktleXNbJ2NoYW5nZXMnXVxuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KE9iamVjdC52YWx1ZXMob3RoZXJLZXlzKS5jb25jYXQobWFpbktleSksIChyZXN1bHQpID0+IHtcbiAgICAgICAgZGVsZXRlIHJlc3VsdFttYWluS2V5XVtpZF1cbiAgICAgICAgT2JqZWN0LnZhbHVlcyhvdGhlcktleXMpLmZvckVhY2goZnVsbEtleW5hbWUgPT4ge1xuICAgICAgICAgICAgaWYgKGlkIGluIHJlc3VsdFtmdWxsS2V5bmFtZV0pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgcmVzdWx0W2Z1bGxLZXluYW1lXVtpZF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQocmVzdWx0LCAoKSA9PiB7XG4gICAgICAgICAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7YWN0aW9uOiAndXBkYXRlLWJhZGdlJ30sIGNhbGxiYWNrKVxuICAgICAgICB9KVxuICAgIH0pXG59XG5leHBvcnQgY29uc3QgZ2V0U3Vic2NyaWJlZElkcyA9IChjYWxsYmFjayA9ICgpID0+IHt9KSA9PiB7XG4gICAgY29uc3Qga2V5ID0gJ290aGVyX3N1YnNjcmlwdGlvbnMnXG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoa2V5LCAocmVzdWx0KSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKE9iamVjdC5rZXlzKHJlc3VsdFtrZXldKSlcbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlVXNlciA9ICh1c2VyLCBjYWxsYmFja1N1Y2Nlc3MgPSAoKSA9PiB7fSwgY2FsbGJhY2tFcnJvciA9ICgpID0+IHt9KSA9PiB7XG4gICAgY29uc3QgdXNlckluaXQgPSBnZXRVc2VySW5pdCh1c2VyKVxuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KCd1c2VyX3N1YnNjcmlwdGlvbnMnLCAocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJfc3Vic2NyaXB0aW9ucyA9IHJlc3VsdC51c2VyX3N1YnNjcmlwdGlvbnNcbiAgICAgICAgaWYgKCEgKHVzZXIgaW4gdXNlcl9zdWJzY3JpcHRpb25zKSkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHVzZXJfc3Vic2NyaXB0aW9ucykubGVuZ3RoIDwgTUFYX1NVQlNDUklQVElPTlMpIHtcbiAgICAgICAgICAgICAgICB1c2VyX3N1YnNjcmlwdGlvbnNbdXNlcl0gPSB0cnVlXG4gICAgICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoe3VzZXJfc3Vic2NyaXB0aW9ucywgLi4udXNlckluaXR9LCBjYWxsYmFja1N1Y2Nlc3MpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrRXJyb3IoJ21heGltdW0gbnVtYmVyIG9mIHN1YnNjcmlwdGlvbnMgcmVhY2hlZCcpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFja0Vycm9yKCdhbHJlYWR5IHN1YnNjcmliZWQgdG8gdGhpcyB1c2VyJylcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCB1bnN1YnNjcmliZVVzZXIgPSAodXNlciwgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCB1c2VyS2V5cyA9IE9iamVjdC5rZXlzKGdldFVzZXJJbml0KHVzZXIpKVxuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KCd1c2VyX3N1YnNjcmlwdGlvbnMnLCAocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJfc3Vic2NyaXB0aW9ucyA9IHJlc3VsdC51c2VyX3N1YnNjcmlwdGlvbnNcbiAgICAgICAgZGVsZXRlIHVzZXJfc3Vic2NyaXB0aW9uc1t1c2VyXVxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7dXNlcl9zdWJzY3JpcHRpb25zfSwgKCkgPT4ge1xuICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5yZW1vdmUodXNlcktleXMsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyS2V5X2xvY2FsU3RvcmFnZSA9IGdldE9iamVjdE5hbWUoJ2l0ZW1zJywgdXNlciwgdHJ1ZSlcbiAgICAgICAgICAgICAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7YWN0aW9uOiAndXBkYXRlLWJhZGdlJ30pXG4gICAgICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwucmVtb3ZlKHVzZXJLZXlfbG9jYWxTdG9yYWdlLCBjYWxsYmFjaylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGluaXRTdG9yYWdlID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQobnVsbCwgKHN0b3JhZ2UpID0+IHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHN0b3JhZ2UpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoZ2V0U3RvcmFnZUluaXQoKSwgY2FsbGJhY2spXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgZ2V0U3Vic2NyaWJlZFVzZXJzX3dpdGhTZWVuQW5kVW5zZWVuSURzID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQobnVsbCwgKHN0b3JhZ2UpID0+IHtcbiAgICAgICAgY29uc3QgdXNlcnMgPSBPYmplY3Qua2V5cyhzdG9yYWdlLnVzZXJfc3Vic2NyaXB0aW9ucyk7XG4gICAgICAgIGNvbnN0IHVzZXJzX3dpdGhJRHMgPSB7fVxuICAgICAgICB1c2Vycy5mb3JFYWNoKHVzZXIgPT4ge1xuICAgICAgICAgICAgdXNlcnNfd2l0aElEc1t1c2VyXSA9IGdldElEc190aGluZyh1c2VyLCB0cnVlLCBzdG9yYWdlKVxuICAgICAgICB9KVxuICAgICAgICB1c2Vyc193aXRoSURzWydvdGhlciddID0gZ2V0SURzX3RoaW5nKCdvdGhlcicsIGZhbHNlLCBzdG9yYWdlKVxuICAgICAgICBjYWxsYmFjayh1c2Vyc193aXRoSURzLCBzdG9yYWdlKVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRTdWJzY3JpYmVkVXNlcnNfd2l0aFVuc2VlbklEcyA9IChjYWxsYmFjaykgPT4ge1xuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KG51bGwsIChzdG9yYWdlKSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJzID0gT2JqZWN0LmtleXMoc3RvcmFnZS51c2VyX3N1YnNjcmlwdGlvbnMpO1xuICAgICAgICBjb25zdCB1c2Vyc193aXRoSURzID0ge31cbiAgICAgICAgdXNlcnMuZm9yRWFjaCh1c2VyID0+IHtcbiAgICAgICAgICAgIHVzZXJzX3dpdGhJRHNbdXNlcl0gPSBnZXRVbnNlZW5JRHNfdGhpbmcodXNlciwgdHJ1ZSwgc3RvcmFnZSlcbiAgICAgICAgfSlcbiAgICAgICAgdXNlcnNfd2l0aElEc1snb3RoZXInXSA9IGdldFVuc2VlbklEc190aGluZygnb3RoZXInLCBmYWxzZSwgc3RvcmFnZSlcbiAgICAgICAgY2FsbGJhY2sodXNlcnNfd2l0aElEcylcbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgZ2V0VW5zZWVuSURzX3RoaW5nID0gKHRoaW5nLCBpc1VzZXIsIHN0b3JhZ2UpID0+IHtcbiAgICByZXR1cm4gZ2V0SURzX3RoaW5nKHRoaW5nLCBpc1VzZXIsIHN0b3JhZ2UpWyd1bnNlZW4nXVxufVxuXG4vLyBHZXQgSURzIG9mIGl0ZW1zIHdob3NlIHN0YXR1cyBoYXMgY2hhbmdlZFxuZXhwb3J0IGNvbnN0IGdldElEc190aGluZyA9ICh0aGluZywgaXNVc2VyLCBzdG9yYWdlKSA9PiB7XG4gICAgY29uc3QgdHJhY2tfcmVtb3ZhbCA9IHN0b3JhZ2Uub3B0aW9ucy5yZW1vdmFsX3N0YXR1cy50cmFja1xuICAgIGNvbnN0IHRyYWNrX2xvY2sgPSBzdG9yYWdlLm9wdGlvbnMubG9ja19zdGF0dXMudHJhY2tcbiAgICBjb25zdCB1bnNlZW5JRHMgPSB7fVxuICAgIGNvbnN0IHNlZW5JRHMgPSB7fVxuICAgIGxldCB0eXBlcyA9IFtdXG4gICAgY29uc3Qga2V5cyA9IGdldE9iamVjdE5hbWVzRm9yVGhpbmcodGhpbmcsIGlzVXNlcilcbiAgICBpZiAodHJhY2tfcmVtb3ZhbCkgdHlwZXMucHVzaChrZXlzWydyZW1vdmVkJ10sIGtleXNbJ2FwcHJvdmVkJ10pXG4gICAgaWYgKHRyYWNrX2xvY2spIHR5cGVzLnB1c2goa2V5c1snbG9ja2VkJ10sIGtleXNbJ3VubG9ja2VkJ10pXG5cbiAgICB0eXBlcy5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgICBPYmplY3Qua2V5cyhzdG9yYWdlW3R5cGVdKS5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBzdG9yYWdlW3R5cGVdW2lkXVxuICAgICAgICAgICAgaWYgKGl0ZW0udSkgdW5zZWVuSURzW2lkXSA9IHRydWVcbiAgICAgICAgICAgIGVsc2Ugc2VlbklEc1tpZF0gPSB0cnVlXG4gICAgICAgIH0pXG4gICAgfSlcbiAgICByZXR1cm4ge3Vuc2VlbjogT2JqZWN0LmtleXModW5zZWVuSURzKSwgc2VlbjogT2JqZWN0LmtleXMoc2VlbklEcyl9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRMb2NhbFN0b3JhZ2VJdGVtcyA9ICh0aGluZywgaXNVc2VyKSA9PiB7XG4gICAgY29uc3Qga2V5X2xvY2FsU3RvcmFnZSA9IGdldE9iamVjdE5hbWUoJ2l0ZW1zJywgdGhpbmcsIGlzVXNlcilcbiAgICByZXR1cm4gYnJvd3Nlci5zdG9yYWdlLmxvY2FsLmdldCh7W2tleV9sb2NhbFN0b3JhZ2VdOiB7fX0pXG4gICAgLnRoZW4obG9jYWxTdG9yYWdlSXRlbXMgPT4ge1xuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlSXRlbXNba2V5X2xvY2FsU3RvcmFnZV1cbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3Qgc2F2ZUxvY2FsU3RvcmFnZUl0ZW1zID0gKHRoaW5nLCBpc1VzZXIsIGl0ZW1zVG9TYXZlKSA9PiB7XG4gICAgY29uc3Qga2V5X2xvY2FsU3RvcmFnZSA9IGdldE9iamVjdE5hbWUoJ2l0ZW1zJywgdGhpbmcsIGlzVXNlcilcbiAgICByZXR1cm4gYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldCh7W2tleV9sb2NhbFN0b3JhZ2VdOiBpdGVtc1RvU2F2ZX0pXG59XG5cbmV4cG9ydCBjb25zdCBhZGRMb2NhbFN0b3JhZ2VJdGVtcyA9IChpdGVtcywgdGhpbmcsIGlzVXNlciwgY2FsbGJhY2sgPSAoKSA9PiB7fSkgPT4ge1xuICAgIGNvbnN0IGtleV9sb2NhbFN0b3JhZ2UgPSBnZXRPYmplY3ROYW1lKCdpdGVtcycsIHRoaW5nLCBpc1VzZXIpXG4gICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KHtba2V5X2xvY2FsU3RvcmFnZV06IHt9fSwgKGxvY2FsU3RvcmFnZUl0ZW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0b3JlZEl0ZW1zID0gbG9jYWxTdG9yYWdlSXRlbXNba2V5X2xvY2FsU3RvcmFnZV1cbiAgICAgICAgT2JqZWN0LmtleXMoaXRlbXMpLmZvckVhY2goaWQgPT4ge1xuICAgICAgICAgICAgc3RvcmVkSXRlbXNbaWRdID0gaXRlbXNbaWRdXG4gICAgICAgIH0pXG4gICAgICAgIGxldCBpdGVtc1RvU2F2ZSA9IHN0b3JlZEl0ZW1zXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhzdG9yZWRJdGVtcykubGVuZ3RoID4gTUFYX0xPQ0FMX1NUT1JBR0VfSVRFTVNfUEVSX09CSkVDVCkge1xuICAgICAgICAgICAgaXRlbXNUb1NhdmUgPSB0cmltRGljdE9mSXRlbXNfYnlfdXRjQXR0cmlidXRlKHN0b3JlZEl0ZW1zLCBNQVhfTE9DQUxfU1RPUkFHRV9JVEVNU19QRVJfT0JKRUNULCAnbycpXG4gICAgICAgIH1cbiAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHtba2V5X2xvY2FsU3RvcmFnZV06IGl0ZW1zVG9TYXZlfSwgY2FsbGJhY2spXG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGdldEl0ZW1Gcm9tTG9jYWxTdG9yYWdlID0gKHRoaW5nLCBpc1VzZXIsIGlkLCBsb2NhbFN0b3JhZ2UpID0+IHtcbiAgICBjb25zdCBrZXkgPSBnZXRPYmplY3ROYW1lKCdpdGVtcycsIHRoaW5nLCBpc1VzZXIpXG4gICAgaWYgKGtleSBpbiBsb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgaWYgKGlkIGluIGxvY2FsU3RvcmFnZVtrZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExvY2FsU3RvcmFnZUl0ZW0oe29iamVjdDogbG9jYWxTdG9yYWdlW2tleV1baWRdfSlcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJydcbn1cblxuZXhwb3J0IGNvbnN0IGdldEFsbENoYW5nZXMgPSAoY2FsbGJhY2spID0+IHtcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldCgndXNlcl9zdWJzY3JpcHRpb25zJywgKHJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zdCBrZXlzID0gW2dldE9iamVjdE5hbWUoJ2NoYW5nZXMnLCAnb3RoZXInLCBmYWxzZSldXG4gICAgICAgIGNvbnN0IGtleVRvVXNlcl9sb29rdXAgPSB7Y2hhbmdlc19vdGhlcjogJ290aGVyJ31cblxuICAgICAgICBPYmplY3Qua2V5cyhyZXN1bHQudXNlcl9zdWJzY3JpcHRpb25zKS5mb3JFYWNoKHVzZXIgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0T2JqZWN0TmFtZSgnY2hhbmdlcycsIHVzZXIsIHRydWUpXG4gICAgICAgICAgICBrZXlzLnB1c2goa2V5KVxuICAgICAgICAgICAga2V5VG9Vc2VyX2xvb2t1cFtrZXldID0gdXNlclxuICAgICAgICB9KVxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChrZXlzLCAocmVzMikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hhbmdlc0J5VXNlciA9IHt9XG4gICAgICAgICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoKGtleSBpbiByZXMyKSAmJiByZXMyW2tleV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZXNCeVVzZXJba2V5VG9Vc2VyX2xvb2t1cFtrZXldXSA9IHJlczJba2V5XVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjYWxsYmFjayhjaGFuZ2VzQnlVc2VyKVxuICAgICAgICB9KVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRPcHRpb25zID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgcmV0dXJuIGJyb3dzZXIuc3RvcmFnZS5zeW5jLmdldChbJ3VzZXJfc3Vic2NyaXB0aW9ucycsICdvdGhlcl9zdWJzY3JpcHRpb25zJywgJ29wdGlvbnMnXSlcbiAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICBjb25zdCB1c2VycyA9IE9iamVjdC5rZXlzKHJlc3VsdC51c2VyX3N1YnNjcmlwdGlvbnMpXG4gICAgICAgIGNvbnN0IG90aGVycyA9IE9iamVjdC5rZXlzKHJlc3VsdC5vdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICBjb25zdCBvcHRpb25zID0gcmVzdWx0Lm9wdGlvbnNcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHVzZXJzLCBvdGhlcnMsIG9wdGlvbnMpXG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpXG59XG5leHBvcnQgY29uc3Qgc2F2ZU9wdGlvbnMgPSAoaW50ZXJ2YWwsIGN1c3RvbV9jbGllbnRpZCwgcmVtb3ZlZF90cmFjaywgcmVtb3ZlZF9ub3RpZnksIGxvY2tlZF90cmFjaywgbG9ja2VkX25vdGlmeSwgY2FsbGJhY2spID0+IHtcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7b3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tX2NsaWVudGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmFsX3N0YXR1czoge3RyYWNrOiByZW1vdmVkX3RyYWNrLCBub3RpZnk6IHJlbW92ZWRfbm90aWZ5fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9ja19zdGF0dXM6ICAgIHt0cmFjazogbG9ja2VkX3RyYWNrLCAgbm90aWZ5OiBsb2NrZWRfbm90aWZ5fX19LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKVxufVxuIiwiaW1wb3J0IHtSRU1PVkVELCBERUxFVEVELCBBUFBST1ZFRCwgTE9DS0VELCBVTkxPQ0tFRCwgRURJVEVELFxuICAgICAgICBnZXRTdWJzY3JpYmVkVXNlcnNfd2l0aFVuc2VlbklEcyB9IGZyb20gJy4vc3RvcmFnZS5qcydcblxuZXhwb3J0IGNvbnN0IEFMQVJNX05BTUUgPSAnbm90aWZ5bWUnXG5cblxuY29uc3QgbWF4UmVkZGl0Q29udGVudExlbmd0aCA9IDMwMFxuXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNTkzMzU1Ni9jaHJvbWUtZXh0ZW5zaW9uLW9wZW4tbmV3LXRhYi13aGVuLWJyb3dzZXItb3BlbmVkLWluLWJhY2tncm91bmQtbWFjLzI1OTMzOTY0IzI1OTMzOTY0XG5leHBvcnQgY29uc3QgY3JlYXRlVGFiID0gKHVybCkgPT4ge1xuICAgIGNocm9tZS50YWJzLmNyZWF0ZSh7dXJsOnVybH0sICh0YWIpID0+IHtcbiAgICAgICAgaWYoISB0YWIpIHtcbiAgICAgICAgICAgIC8vIHByb2JhYmx5IG5vIHdpbmRvdyBhdmFpbGFibGVcbiAgICAgICAgICAgIGNocm9tZS53aW5kb3dzLmNyZWF0ZSh7dXJsOnVybH0sICh3aW4pID0+IHtcbiAgICAgICAgICAgICAgICAvLyBiZXR0ZXIgdG8gZm9jdXMgYWZ0ZXIgd2luZG93IGNyZWF0aW9uIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgY2hyb21lLndpbmRvd3MudXBkYXRlKHdpbi5pZCwge2ZvY3VzZWQ6IHRydWV9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGJldHRlciB0byBmb2N1cyBhZnRlciB0YWIgY3JlYXRpb24gY2FsbGJhY2tcbiAgICAgICAgICAgIGNocm9tZS53aW5kb3dzLnVwZGF0ZSh0YWIud2luZG93SWQsIHtmb2N1c2VkOiB0cnVlfSlcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRGdWxsSURzRnJvbVVSTCA9ICh1cmwpID0+IHtcbiAgICBjb25zdCBwYXRoID0gdXJsLnJlcGxhY2UoL2h0dHBzOlxcL1xcL1teL10qcmUodmUpP2RkaXQuY29tLywgJycpXG4gICAgcmV0dXJuIGdldEZ1bGxJRHNGcm9tUGF0aChwYXRoKVxufVxuXG5jb25zdCByZWdleF9wYyA9IC9eXFwvKHJ8dXNlcilcXC8oW14vXSspXFwvY29tbWVudHNcXC8oW14vXSspXFwvW14vXSooPzpcXC8oW14vPyYjXSspKT8vXG5jb25zdCByZWdleF91c2VyID0gL15cXC91c2VyXFwvKFteLz8mI10rKVxcLz8vXG5cbmV4cG9ydCBjb25zdCBnZXRGdWxsSURzRnJvbVBhdGggPSAocGF0aCkgPT4ge1xuICAgIGxldCBwb3N0SUQgPSB1bmRlZmluZWQsIGNvbW1lbnRJRCA9IHVuZGVmaW5lZCwgdXNlciA9IHVuZGVmaW5lZCwgc3VicmVkZGl0ID0gdW5kZWZpbmVkXG4gICAgY29uc3QgbWF0Y2hlc19wYyA9IHBhdGgubWF0Y2gocmVnZXhfcGMpXG4gICAgY29uc3QgbWF0Y2hlc191c2VyID0gcGF0aC5tYXRjaChyZWdleF91c2VyKVxuICAgIGlmIChtYXRjaGVzX3BjKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBtYXRjaGVzX3BjWzFdXG4gICAgICAgIGlmICh0eXBlID09PSAndXNlcicpIHtcbiAgICAgICAgICAgIHVzZXIgPSBtYXRjaGVzX3BjWzJdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdWJyZWRkaXQgPSBtYXRjaGVzX3BjWzJdXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoZXNfcGNbM10pIHBvc3RJRCA9ICd0M18nK21hdGNoZXNfcGNbM11cbiAgICAgICAgaWYgKG1hdGNoZXNfcGNbNF0pIGNvbW1lbnRJRCA9ICd0MV8nK21hdGNoZXNfcGNbNF1cbiAgICB9IGVsc2UgaWYgKG1hdGNoZXNfdXNlcikge1xuICAgICAgICB1c2VyID0gbWF0Y2hlc191c2VyWzFdXG4gICAgfVxuICAgIHJldHVybiBbcG9zdElELCBjb21tZW50SUQsIHVzZXIsIHN1YnJlZGRpdF1cbn1cblxuZXhwb3J0IGNvbnN0IHJlZm9ybWF0UmVkZGl0VGV4dCA9IChib2R5KSA9PiB7XG4gICAgcmV0dXJuIGJvZHkucmVwbGFjZSgvJmFtcDsvZywgJyYnKS5yZXBsYWNlKC8mZ3Q7L2csICc+JykucmVwbGFjZSgvJmx0Oy9nLCAnPCcpXG4gICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJykuc3Vic3RyKDAsIG1heFJlZGRpdENvbnRlbnRMZW5ndGgpXG59XG5cbmV4cG9ydCBjb25zdCBpc1JlbW92ZWRJdGVtID0gKGl0ZW0pID0+IHtcbiAgICBpZiAoaXNDb21tZW50KGl0ZW0ubmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIGlzUmVtb3ZlZENvbW1lbnQoaXRlbSlcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaXNSZW1vdmVkUG9zdChpdGVtKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGlzQ29tbWVudCA9IChuYW1lKSA9PiB7XG4gICAgcmV0dXJuIG5hbWUuc3Vic3RyKDAsMikgPT09ICd0MSdcbn1cbmV4cG9ydCBjb25zdCBpc1JlbW92ZWRDb21tZW50ID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gKChpdGVtLmJvZHkucmVwbGFjZSgvXFxcXC9nLCAnJykgPT09ICdbcmVtb3ZlZF0nIHx8XG4gICAgICAgICAgICAgaXRlbS5ib2R5LnJlcGxhY2UoL1xcXFwvZywgJycpID09PSAnW2RlbGV0ZWRdJykgJiZcbiAgICAgICAgICAgIGl0ZW0uYXV0aG9yLnJlcGxhY2UoL1xcXFwvZywgJycpID09PSAnW2RlbGV0ZWRdJylcbn1cbmV4cG9ydCBjb25zdCBpc1VzZXJEZWxldGVkQ29tbWVudCA9IChpdGVtKSA9PiB7XG4gICAgcmV0dXJuIChpdGVtLmJvZHkucmVwbGFjZSgvXFxcXC9nLCAnJykgPT09ICdbZGVsZXRlZF0nICYmXG4gICAgICAgICAgICBpdGVtLmF1dGhvci5yZXBsYWNlKC9cXFxcL2csICcnKSA9PT0gJ1tkZWxldGVkXScpXG59XG5leHBvcnQgY29uc3QgaXNVc2VyRGVsZXRlZFBvc3QgPSAoaXRlbSkgPT4ge1xuICAgIHJldHVybiAoISBpdGVtLmlzX3JvYm90X2luZGV4YWJsZSkgJiYgaXRlbS5hdXRob3IucmVwbGFjZSgvXFxcXC9nLCAnJykgPT09ICdbZGVsZXRlZF0nXG59XG5leHBvcnQgY29uc3QgaXNVc2VyRGVsZXRlZEl0ZW0gPSAoaXRlbSkgPT4ge1xuICAgIGlmIChpc0NvbW1lbnQoaXRlbS5uYW1lKSkge1xuICAgICAgICByZXR1cm4gaXNVc2VyRGVsZXRlZENvbW1lbnQoaXRlbSlcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaXNVc2VyRGVsZXRlZFBvc3QoaXRlbSlcbiAgICB9XG59XG5leHBvcnQgY29uc3QgaXNSZW1vdmVkUG9zdCA9IChpdGVtKSA9PiB7XG4gICAgcmV0dXJuICEgaXRlbS5pc19yb2JvdF9pbmRleGFibGVcbn1cblxuZXhwb3J0IGNvbnN0IHRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZSA9IChkaWN0LCBtYXhOdW1JdGVtcywgbnVtYmVyVmFsdWVkQXR0cmlidXRlKSA9PiB7XG4gICAgY29uc3QgYXJyYXkgPSBzb3J0RGljdF9ieV9udW1iZXJWYWx1ZWRBdHRyaWJ1dGUoZGljdCwgbnVtYmVyVmFsdWVkQXR0cmlidXRlKVxuXG4gICAgY29uc3Qgc2hvcnRlbmVkQXJyYXkgPSBhcnJheS5zbGljZSgwLCBtYXhOdW1JdGVtcylcbiAgICBjb25zdCBuZXdEaWN0ID0ge31cbiAgICBzaG9ydGVuZWRBcnJheS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBuZXdEaWN0W2l0ZW1bMF1dID0gaXRlbVsxXVxuICAgIH0pXG4gICAgcmV0dXJuIG5ld0RpY3Rcbn1cblxuZXhwb3J0IGNvbnN0IHNvcnREaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZSA9IChkaWN0LCBudW1iZXJWYWx1ZWRBdHRyaWJ1dGUpID0+IHtcbiAgICBsZXQgYXJyYXkgPSBPYmplY3Qua2V5cyhkaWN0KS5tYXAoa2V5ID0+IHtcbiAgICAgICAgcmV0dXJuIFtrZXksIGRpY3Rba2V5XV1cbiAgICB9KVxuICAgIGFycmF5LnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgcmV0dXJuIGJbMV1bbnVtYmVyVmFsdWVkQXR0cmlidXRlXSAtIGFbMV1bbnVtYmVyVmFsdWVkQXR0cmlidXRlXVxuICAgIH0pXG4gICAgcmV0dXJuIGFycmF5XG59XG5cbmV4cG9ydCBjbGFzcyBJdGVtRm9yU3RvcmFnZSB7XG4gICAgY29uc3RydWN0b3IoY3JlYXRlZF91dGMsIHVuc2Vlbikge1xuICAgICAgICB0aGlzLmMgPSBjcmVhdGVkX3V0Y1xuICAgICAgICB0aGlzLnUgPSB1bnNlZW5cbiAgICB9XG4gICAgZ2V0Q3JlYXRlZFVUQygpIHsgcmV0dXJuIHRoaXMuYyB9XG4gICAgZ2V0VW5zZWVuKCkgeyByZXR1cm4gdGhpcy51IH1cbn1cblxuZXhwb3J0IGNsYXNzIENoYW5nZUZvclN0b3JhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKHsgaWQgPSBudWxsLCBvYnNlcnZlZF91dGMgPSBudWxsLCBjaGFuZ2VfdHlwZSA9IG51bGwsIG9iamVjdCA9IG51bGwgfSkge1xuICAgICAgICBpZiAob2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmkgPSBvYmplY3QuaVxuICAgICAgICAgICAgdGhpcy5vID0gb2JqZWN0Lm9cbiAgICAgICAgICAgIHRoaXMuZyA9IG9iamVjdC5nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmkgPSBpZFxuICAgICAgICAgICAgdGhpcy5vID0gb2JzZXJ2ZWRfdXRjXG4gICAgICAgICAgICB0aGlzLmcgPSBjaGFuZ2VfdHlwZVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldElEKCkgeyByZXR1cm4gdGhpcy5pIH1cbiAgICBnZXRPYnNlcnZlZFVUQygpIHsgcmV0dXJuIHRoaXMubyB9XG4gICAgZ2V0Q2hhbmdlVHlwZSgpIHtcbiAgICAgICAgc3dpdGNoKHRoaXMuZykge1xuICAgICAgICAgICAgY2FzZSBSRU1PVkVEOiByZXR1cm4gJ21vZCByZW1vdmVkJ1xuICAgICAgICAgICAgY2FzZSBERUxFVEVEOiByZXR1cm4gJ3VzZXIgZGVsZXRlZCdcbiAgICAgICAgICAgIGNhc2UgQVBQUk9WRUQ6IHJldHVybiAnYXBwcm92ZWQnXG4gICAgICAgICAgICBjYXNlIExPQ0tFRDogcmV0dXJuICdsb2NrZWQnXG4gICAgICAgICAgICBjYXNlIFVOTE9DS0VEOiByZXR1cm4gJ3VubG9ja2VkJ1xuICAgICAgICAgICAgY2FzZSBFRElURUQ6IHJldHVybiAnZWRpdGVkJ1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9jYWxTdG9yYWdlSXRlbSB7XG4gICAgY29uc3RydWN0b3IoeyBpdGVtID0gbnVsbCwgb2JzZXJ2ZWRfdXRjID0gbnVsbCwgb2JqZWN0ID0gbnVsbCB9KSB7XG4gICAgICAgIGlmIChvYmplY3QpIHtcbiAgICAgICAgICAgIHRoaXMudCA9IG9iamVjdC50XG4gICAgICAgICAgICB0aGlzLm8gPSBvYmplY3Qub1xuICAgICAgICAgICAgdGhpcy5jID0gb2JqZWN0LmNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gJydcbiAgICAgICAgICAgIGlmIChpc0NvbW1lbnQoaXRlbS5uYW1lKSkge1xuICAgICAgICAgICAgICAgIHRleHQgPSByZWZvcm1hdFJlZGRpdFRleHQoaXRlbS5ib2R5KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gaXRlbS50aXRsZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50ID0gdGV4dFxuICAgICAgICAgICAgdGhpcy5vID0gb2JzZXJ2ZWRfdXRjXG4gICAgICAgICAgICB0aGlzLmMgPSBpdGVtLmNyZWF0ZWRfdXRjXG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0VGV4dCh0ZXh0KSB7dGhpcy50ID0gcmVmb3JtYXRSZWRkaXRUZXh0KHRleHQpfVxuICAgIGdldFRleHQoKSB7IHJldHVybiB0aGlzLnQgfVxuICAgIGdldE9ic2VydmVkVVRDKCkgeyByZXR1cm4gdGhpcy5vIH1cbiAgICBnZXRDcmVhdGVkVVRDKCkgeyByZXR1cm4gdGhpcy5jIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEFsYXJtKHBlcmlvZEluTWludXRlcykge1xuICAgIGNocm9tZS5hbGFybXMuY2xlYXIoQUxBUk1fTkFNRSlcbiAgICBjaHJvbWUuYWxhcm1zLmNyZWF0ZShBTEFSTV9OQU1FLCB7ZGVsYXlJbk1pbnV0ZXM6IDEsIHBlcmlvZEluTWludXRlczogcGVyaW9kSW5NaW51dGVzfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFscGhhTG93ZXJTb3J0IChhLCBiKSB7XG4gICAgdmFyIHRleHRBID0gYS50b0xvd2VyQ2FzZSgpXG4gICAgdmFyIHRleHRCID0gYi50b0xvd2VyQ2FzZSgpXG5cbiAgICBpZiAodGV4dEEgPCB0ZXh0QikgcmV0dXJuIC0xXG4gICAgaWYgKHRleHRBID4gdGV4dEIpIHJldHVybiAxXG4gICAgcmV0dXJuIDBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdvVG9PcHRpb25zICgpIHtcbiAgICBpZiAoY2hyb21lLnJ1bnRpbWUub3Blbk9wdGlvbnNQYWdlKSB7XG4gICAgICAgIGNocm9tZS5ydW50aW1lLm9wZW5PcHRpb25zUGFnZSgpXG4gICAgICAgIHdpbmRvdy5jbG9zZSgpIC8vY2xvc2VzIHRoZSBwb3B1cCB3aGljaCBwZXJzaXN0cyBpbiBGRlxuICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5vcGVuKGNocm9tZS5ydW50aW1lLmdldFVSTCgnL3NyYy9vcHRpb25zLmh0bWwnKSlcbiAgICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dFcnJvcihtZXNzYWdlLCBzZWxlY3Rvcikge1xuICAgICQoJzxkaXYgY2xhc3M9XCJyci1lcnJvclwiPicrbWVzc2FnZSsnPC9kaXY+JykuYXBwZW5kVG8oc2VsZWN0b3IpLmRlbGF5KDI0MDApLmZhZGVUbyg0MDAsIDAsIGZ1bmN0aW9uKCkgeyQodGhpcykucmVtb3ZlKCl9KVxufVxuXG4vL25vaW5zcGVjdGlvbiBKU1VudXNlZExvY2FsU3ltYm9sc1xuZXhwb3J0IGZ1bmN0aW9uIHBwcmludChvYmopIHtcbiAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShvYmosIG51bGwsICdcXHQnKSlcbn1cblxuXG5leHBvcnQgY29uc3QgZ2V0UHJldHR5VGltZUxlbmd0aCA9IChzZWNvbmRzKSA9PiB7XG4gICAgY29uc3QgdGhyZXNob2xkcyA9IFtbNjAsICdzZWNvbmQnLCAnc2Vjb25kcyddLCBbNjAsICdtaW51dGUnLCAnbWludXRlcyddLCBbMjQsICdob3VyJywgJ2hvdXJzJ10sIFs3LCAnZGF5JywgJ2RheXMnXSxcbiAgICBbMzY1LzEyLzcsICd3ZWVrJywgJ3dlZWtzJ10sIFsxMiwgJ21vbnRoJywgJ21vbnRocyddLCBbMTAsICd5ZWFyJywgJ3llYXJzJ10sXG4gICAgWzEwLCAnZGVjYWRlJywgJ2RlY2FkZXMnXSwgWzEwLCAnY2VudHVyeScsICdjZW50dXJpZXMnXSwgWzEwLCAnbWlsbGVuaXVtJywgJ21pbGxlbmlhJ11dXG4gICAgaWYgKHNlY29uZHMgPCA2MCkgcmV0dXJuIHNlY29uZHMgKyAnIHNlY29uZHMnXG4gICAgbGV0IHRpbWUgPSBzZWNvbmRzXG4gICAgZm9yICh2YXIgaT0wOyBpPHRocmVzaG9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGRpdmlzb3IgPSB0aHJlc2hvbGRzW2ldWzBdXG4gICAgICAgIGxldCB0ZXh0ID0gdGhyZXNob2xkc1tpXVsxXVxuICAgICAgICBsZXQgdGV4dFBsdXJhbCA9IHRocmVzaG9sZHNbaV1bMl1cbiAgICAgICAgaWYgKHRpbWUgPCBkaXZpc29yKSB7XG4gICAgICAgICAgICBsZXQgZXh0cmEgPSAodGltZSAtIE1hdGguZmxvb3IodGltZSkpXG4gICAgICAgICAgICBsZXQgcHJldlVuaXRUaW1lID0gTWF0aC5yb3VuZChleHRyYSp0aHJlc2hvbGRzW2ktMV1bMF0pXG4gICAgICAgICAgICBpZiAodGhyZXNob2xkc1tpLTFdWzBdID09PSBwcmV2VW5pdFRpbWUpIHtcbiAgICAgICAgICAgICAgICB0aW1lICs9IDFcbiAgICAgICAgICAgICAgICBwcmV2VW5pdFRpbWUgPSAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTWF0aC5mbG9vcih0aW1lKSA+IDEgfHwgTWF0aC5mbG9vcih0aW1lKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHRQbHVyYWxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpID4gMSAmJiBwcmV2VW5pdFRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlbWFpblRleHQgPSB0aHJlc2hvbGRzW2ktMV1bMV1cbiAgICAgICAgICAgICAgICBpZiAocHJldlVuaXRUaW1lID4gMSkge1xuICAgICAgICAgICAgICAgICAgICByZW1haW5UZXh0ID0gdGhyZXNob2xkc1tpLTFdWzJdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRleHQgKz0gJywgJyArIFN0cmluZyhwcmV2VW5pdFRpbWUpICsgJyAnICsgcmVtYWluVGV4dFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhNYXRoLmZsb29yKHRpbWUpKSArICcgJyArIHRleHRcbiAgICAgICAgfVxuICAgICAgICB0aW1lID0gdGltZSAvIGRpdmlzb3JcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRQcmV0dHlEYXRlID0gKGNyZWF0ZWRVVEMpID0+IHtcbiAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcigobmV3IERhdGUpLmdldFRpbWUoKS8xMDAwKS1jcmVhdGVkVVRDXG4gICAgcmV0dXJuIGdldFByZXR0eVRpbWVMZW5ndGgoc2Vjb25kcykgKyAnIGFnbydcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU5vdGlmaWNhdGlvbiA9ICh7bm90aWZpY2F0aW9uSWQsIHRpdGxlLCBtZXNzYWdlfSkgPT4ge1xuICAgIGlmIChsb2NhdGlvbi5wcm90b2NvbC5tYXRjaCgvXmh0dHAvKSkge1xuICAgICAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICBhY3Rpb246ICdjcmVhdGUtbm90aWZpY2F0aW9uJyxcbiAgICAgICAgICAgIG9wdGlvbnM6IHtub3RpZmljYXRpb25JZCwgdGl0bGUsIG1lc3NhZ2V9XG4gICAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2hyb21lLm5vdGlmaWNhdGlvbnMuY3JlYXRlKG5vdGlmaWNhdGlvbklkLFxuICAgICAgICAgICAge3R5cGU6ICdiYXNpYycsIGljb25Vcmw6ICcvaWNvbnMvMTI4LnBuZycsXG4gICAgICAgICAgICAgdGl0bGUsIG1lc3NhZ2V9KVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUJhZGdlVW5zZWVuQ291bnQgPSAoKSA9PiB7XG4gICAgaWYgKGxvY2F0aW9uLnByb3RvY29sLm1hdGNoKC9eaHR0cC8pKSB7XG4gICAgICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgIGFjdGlvbjogJ3VwZGF0ZS1iYWRnZSdcbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXRTdWJzY3JpYmVkVXNlcnNfd2l0aFVuc2VlbklEcyh1c2Vyc1Vuc2VlbklEcyA9PiB7XG4gICAgICAgICAgICBsZXQgdG90YWwgPSAwXG4gICAgICAgICAgICBPYmplY3QudmFsdWVzKHVzZXJzVW5zZWVuSURzKS5mb3JFYWNoKGlkcyA9PiB7XG4gICAgICAgICAgICAgICAgdG90YWwgKz0gaWRzLmxlbmd0aFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gdG90YWwudG9TdHJpbmcoKVxuICAgICAgICAgICAgaWYgKHRvdGFsID09IDApIHRleHQgPSAnJ1xuICAgICAgICAgICAgY2hyb21lLmJyb3dzZXJBY3Rpb24uc2V0QmFkZ2VCYWNrZ3JvdW5kQ29sb3Ioe2NvbG9yOiBcInJlZFwifSlcbiAgICAgICAgICAgIGNocm9tZS5icm93c2VyQWN0aW9uLnNldEJhZGdlVGV4dCh7dGV4dDogdGV4dH0pXG4gICAgICAgIH0pXG4gICAgfVxufVxuIiwiaW1wb3J0IHtnZXRPcHRpb25zfSBmcm9tICcuL3N0b3JhZ2UuanMnXG5cbmNvbnN0IGNsaWVudElEID0gJ1NFdzF1dlJkNmt4RkV3J1xuY29uc3Qgb2F1dGhfcmVkZGl0ID0gJ2h0dHBzOi8vb2F1dGgucmVkZGl0LmNvbS8nXG5jb25zdCB3d3dfcmVkZGl0ID0gJ2h0dHBzOi8vd3d3LnJlZGRpdC5jb20vJ1xuXG5jb25zdCBOT19BVVRIID0gJ25vbmUnXG5cbmV4cG9ydCBjb25zdCBsb29rdXBJdGVtc0J5SUQgPSAoaWRzLCBhdXRoKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0ge2lkOmlkcywgcmF3X2pzb246MX1cbiAgICBjb25zdCBzZWFyY2ggPSAnPycrT2JqZWN0LmtleXMocGFyYW1zKS5tYXAoayA9PiBgJHtrfT0ke3BhcmFtc1trXX1gKS5qb2luKCcmJylcblxuICAgIHJldHVybiB3aW5kb3cuZmV0Y2goLi4uZ2V0RmV0Y2hQYXJhbXMoJ2FwaS9pbmZvJywgc2VhcmNoLCBhdXRoKSlcbiAgICAudGhlbihoYW5kbGVGZXRjaEVycm9ycylcbiAgICAudGhlbihnZXRSZWRkaXREYXRhKVxuICAgIC5jYXRjaChjb25zb2xlLmxvZylcbn1cblxuZXhwb3J0IGNvbnN0IGxvb2t1cEl0ZW1zQnlVc2VyID0gKHVzZXIsIGFmdGVyLCBzb3J0LCB0aW1lU3BhbiwgYXV0aCkgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IHtsaW1pdDogMTAwLCBzb3J0LCByYXdfanNvbjoxfVxuICAgIGlmIChhZnRlcikgcGFyYW1zLmFmdGVyID0gYWZ0ZXJcbiAgICBpZiAodGltZVNwYW4pIHBhcmFtcy50ID0gdGltZVNwYW5cbiAgICBjb25zdCBwYXRoID0gYHVzZXIvJHt1c2VyfS9vdmVydmlldy5qc29uYFxuICAgIGNvbnN0IHNlYXJjaCA9ICc/JytPYmplY3Qua2V5cyhwYXJhbXMpLm1hcChrID0+IGAke2t9PSR7cGFyYW1zW2tdfWApLmpvaW4oJyYnKVxuXG4gICAgcmV0dXJuIHdpbmRvdy5mZXRjaCguLi5nZXRGZXRjaFBhcmFtcyhwYXRoLCBzZWFyY2gsIGF1dGgpKVxuICAgIC50aGVuKGhhbmRsZUZldGNoRXJyb3JzKVxuICAgIC50aGVuKGdldFJlZGRpdERhdGEpXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxufVxuXG5leHBvcnQgY29uc3QgaGFuZGxlRmV0Y2hFcnJvcnMgPSAocmVzcG9uc2UpID0+IHtcbiAgICBpZiAoISByZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KVxuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXG59XG5cbmV4cG9ydCBjb25zdCBnZXRSZWRkaXREYXRhID0gKGRhdGEpID0+IHtcbiAgICBpZiAoISBkYXRhIHx8ICEgZGF0YS5kYXRhIHx8ICEgZGF0YS5kYXRhLmNoaWxkcmVuKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdyZWRkaXQgZGF0YSBpcyBub3QgZGVmaW5lZCcpXG4gICAgfVxuICAgIHJldHVybiBkYXRhLmRhdGEuY2hpbGRyZW5cbn1cblxuZXhwb3J0IGNvbnN0IGdldFJlZGRpdFRva2VuID0gKGRhdGEpID0+IHtcbiAgICBpZiAoISBkYXRhIHx8ICEgZGF0YS5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ2FjY2VzcyB0b2tlbiBpcyBub3QgZGVmaW5lZCcpXG4gICAgfVxuICAgIHJldHVybiBkYXRhLmFjY2Vzc190b2tlblxufVxuXG5leHBvcnQgY29uc3QgZ2V0QXV0aCA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0T3B0aW9ucygodXNlcnMsIG90aGVycywgb3B0aW9ucykgPT4ge1xuICAgICAgICB2YXIgdXNlX3RoaXNfY2xpZW50SUQgPSBjbGllbnRJRFxuICAgICAgICBpZiAob3B0aW9ucy5jdXN0b21fY2xpZW50aWQpIHtcbiAgICAgICAgICAgIHVzZV90aGlzX2NsaWVudElEID0gb3B0aW9ucy5jdXN0b21fY2xpZW50aWRcbiAgICAgICAgICAgIGlmICh1c2VfdGhpc19jbGllbnRJRCA9PT0gJ3Rlc3RpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE5PX0FVVEhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b2tlbkluaXQgPSB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJhc2ljICR7d2luZG93LmJ0b2EoYCR7dXNlX3RoaXNfY2xpZW50SUR9OmApfWAsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9dXRmLTgnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBib2R5OiBgZ3JhbnRfdHlwZT0ke2VuY29kZVVSSUNvbXBvbmVudCgnaHR0cHM6Ly9vYXV0aC5yZWRkaXQuY29tL2dyYW50cy9pbnN0YWxsZWRfY2xpZW50Jyl9JmRldmljZV9pZD1ET19OT1RfVFJBQ0tfVEhJU19ERVZJQ0VgXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gd2luZG93LmZldGNoKCdodHRwczovL3d3dy5yZWRkaXQuY29tL2FwaS92MS9hY2Nlc3NfdG9rZW4nLCB0b2tlbkluaXQpXG4gICAgICAgIC50aGVuKGhhbmRsZUZldGNoRXJyb3JzKVxuICAgICAgICAudGhlbihnZXRSZWRkaXRUb2tlbilcbiAgICAgICAgLnRoZW4odG9rZW4gPT4gKHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgYmVhcmVyICR7dG9rZW59YFxuICAgICAgICAgICAgfVxuICAgICAgICB9KSlcbiAgICAgICAgLmNhdGNoKGNvbnNvbGUubG9nKVxuICAgIH0pXG5cbn1cblxuLy8gY29kZTogaHR0cHM6Ly9naXRodWIuY29tL3Rvb2xib3gtdGVhbS9yZWRkaXQtbW9kZXJhdG9yLXRvb2xib3gvYmxvYi80MzRlYzBiYjcxZWJiYTJmY2YwY2I1ZTRjYWQ1MjkwMzVhMWFlNzQyL2V4dGVuc2lvbi9kYXRhL2JhY2tncm91bmQvaGFuZGxlcnMvd2VicmVxdWVzdC5qcyNMMzRcbi8vIGRpc2N1c3Npb246IGh0dHBzOi8vd3d3LnJlZGRpdC5jb20vci9yZWRkaXRkZXYvY29tbWVudHMvNWpmNHlnL2FwaV9uZXdfbW9kbWFpbC9kYmZudzk4L1xuZXhwb3J0IGNvbnN0IGdldExvY2FsQXV0aCA9ICgpID0+IHtcbiAgICByZXR1cm4gd2luZG93LmZldGNoKCdodHRwczovL21vZC5yZWRkaXQuY29tL21haWwvYWxsJylcbiAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICBnZXRDb29raWUoe3VybDogJ2h0dHBzOi8vbW9kLnJlZGRpdC5jb20nLCBuYW1lOiAndG9rZW4nfSlcbiAgICAgICAgLnRoZW4oY29va2llID0+IHtcbiAgICAgICAgICAgIGlmIChjb29raWUpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgaW52YWxpZCBjaGFycyBhdCB0aGUgZW5kIHBlciBkaXNjdXNzaW9uXG4gICAgICAgICAgICAgICAgY29uc3QgaW52YWxpZENoYXIgPSBuZXcgUmVnRXhwKCdbXkEtWmEtejAtOSsvXS4qPyQnKVxuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NENvb2tpZSA9IGNvb2tpZS52YWx1ZS5yZXBsYWNlKGludmFsaWRDaGFyLCAnJylcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbkRhdGEgPSBhdG9iKGJhc2U2NENvb2tpZSlcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbnMgPSBKU09OLnBhcnNlKHRva2VuRGF0YSlcbiAgICAgICAgICAgICAgICBpZiAoJ2FjY2Vzc1Rva2VuJyBpbiB0b2tlbnMgJiYgdG9rZW5zLmFjY2Vzc1Rva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1dGggPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYGJlYXJlciAke3Rva2Vucy5hY2Nlc3NUb2tlbn1gXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF1dGhcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRDb29raWUgPSAoe3VybCwgbmFtZX0pID0+IHtcbiAgICBpZiAobG9jYXRpb24ucHJvdG9jb2wubWF0Y2goL15odHRwLykpIHtcbiAgICAgICAgcmV0dXJuIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICBhY3Rpb246ICdnZXQtY29va2llJyxcbiAgICAgICAgICAgIG9wdGlvbnM6IHt1cmwsIG5hbWV9XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5jb29raWVcbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYnJvd3Nlci5jb29raWVzLmdldCh7dXJsLCBuYW1lfSlcbiAgICB9XG59XG5cbmNvbnN0IGdldEZldGNoUGFyYW1zID0gKHBhdGgsIHNlYXJjaCwgYXV0aCkgPT4ge1xuICAgIGlmICghIGF1dGggfHwgYXV0aCA9PT0gTk9fQVVUSCkge1xuICAgICAgICBsZXQgdXJsID0gd3d3X3JlZGRpdCtwYXRoXG4gICAgICAgIGlmIChwYXRoID09PSAnYXBpL2luZm8nKSB7XG4gICAgICAgICAgICB1cmwgKz0gJy5qc29uJ1xuICAgICAgICB9XG4gICAgICAgIHVybCArPSBzZWFyY2hcbiAgICAgICAgcmV0dXJuIFt1cmxdXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdXJsID0gb2F1dGhfcmVkZGl0K3BhdGgrc2VhcmNoXG4gICAgICAgIHJldHVybiBbdXJsLCBhdXRoXVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldExvY2FsT3JBcHBBdXRoID0gKCkgPT4ge1xuICAgIHJldHVybiBnZXRMb2NhbEF1dGgoKVxuICAgIC50aGVuKGF1dGggPT4ge1xuICAgICAgICBpZiAoYXV0aCkgcmV0dXJuIGF1dGhcbiAgICAgICAgcmV0dXJuIGdldEF1dGgoKVxuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxufVxuXG5leHBvcnQgY29uc3QgZ2V0TG9nZ2VkaW5Vc2VyID0gKCkgPT4ge1xuICAgIHJldHVybiB3aW5kb3cuZmV0Y2goJ2h0dHBzOi8vd3d3LnJlZGRpdC5jb20vYXBpL21lLmpzb24nKVxuICAgIC50aGVuKGhhbmRsZUZldGNoRXJyb3JzKVxuICAgIC50aGVuKGdldFJlZGRpdFVzZXJuYW1lKVxuICAgIC5jYXRjaChjb25zb2xlLmxvZylcbn1cblxuY29uc3QgZ2V0UmVkZGl0VXNlcm5hbWUgPSAoZGF0YSkgPT4ge1xuICAgIGlmICghIGRhdGEgfHwgISBkYXRhLmRhdGEgfHwgISBkYXRhLmRhdGEubmFtZSkge1xuICAgICAgICB0aHJvdyBFcnJvcigncmVkZGl0IHVzZXJuYW1lIGlzIG5vdCBkZWZpbmVkJylcbiAgICB9XG4gICAgcmV0dXJuIGRhdGEuZGF0YS5uYW1lXG59XG4iLCJpbXBvcnQge3N1YnNjcmliZUlkLCB1bnN1YnNjcmliZUlkLCBnZXRMb2NhbFN0b3JhZ2VJdGVtcywgc2F2ZUxvY2FsU3RvcmFnZUl0ZW1zfSBmcm9tICcuL3N0b3JhZ2UuanMnXG5pbXBvcnQge0xvY2FsU3RvcmFnZUl0ZW19IGZyb20gJy4vY29tbW9uLmpzJ1xuaW1wb3J0IHtzZXRDdXJyZW50U3RhdGVGb3JJZH0gZnJvbSAnLi9tb25pdG9yaW5nLmpzJ1xuXG5sZXQgVU5TVUJTQ1JJQkVfVEVYVCA9ICd1bnN1YnNjcmliZS1yZXYnXG5sZXQgU1VCU0NSSUJFX1RFWFQgPSAnc3Vic2NyaWJlLXJldidcblxuaWYgKGxvY2F0aW9uLmhvc3RuYW1lLm1hdGNoKC9yZXZlZGRpdFxcLmNvbSQvKSkge1xuICAgIFVOU1VCU0NSSUJFX1RFWFQgPSAndW5zdWJzY3JpYmUnXG4gICAgU1VCU0NSSUJFX1RFWFQgPSAnc3Vic2NyaWJlJ1xufVxuXG5leHBvcnQgY29uc3Qgc2V0VGV4dEFuZEZ1bmN0aW9uX3N1YnNjcmliZSA9IChpZCwgZWxlbWVudCwgY29tbWVudEJvZHkpID0+IHtcbiAgICByZXR1cm4gJChlbGVtZW50KS50ZXh0KFNVQlNDUklCRV9URVhUKS5vZmYoJ2NsaWNrJykuY2xpY2soKGV2ZW50T2JqKSA9PiBzdWJzY3JpYmVJZF9jaGFuZ2VUZXh0KGlkLCBldmVudE9iai50YXJnZXQsIGNvbW1lbnRCb2R5KSlcbn1cblxuZXhwb3J0IGNvbnN0IHNldFRleHRBbmRGdW5jdGlvbl91bnN1YnNjcmliZSA9IChpZCwgZWxlbWVudCwgY29tbWVudEJvZHkpID0+IHtcbiAgICByZXR1cm4gJChlbGVtZW50KS50ZXh0KFVOU1VCU0NSSUJFX1RFWFQpLm9mZignY2xpY2snKS5jbGljaygoZXZlbnRPYmopID0+IHVuc3Vic2NyaWJlSWRfY2hhbmdlVGV4dChpZCwgZXZlbnRPYmoudGFyZ2V0LCBjb21tZW50Qm9keSkpXG59XG5cbmNvbnN0IHN1YnNjcmliZUlkX2NoYW5nZVRleHQgPSAoaWQsIGVsZW1lbnQsIGNvbW1lbnRCb2R5ID0gJycpID0+IHtcbiAgICBzdWJzY3JpYmVJZChpZCwgKCkgPT4ge1xuICAgICAgICBzZXRUZXh0QW5kRnVuY3Rpb25fdW5zdWJzY3JpYmUoaWQsIGVsZW1lbnQsIGNvbW1lbnRCb2R5KVxuICAgICAgICBzZXRDdXJyZW50U3RhdGVGb3JJZChpZCwgd2luZG93LmxvY2F0aW9uLmhyZWYsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChjb21tZW50Qm9keSkge1xuICAgICAgICAgICAgICAgIGdldExvY2FsU3RvcmFnZUl0ZW1zKCdvdGhlcicsIGZhbHNlKVxuICAgICAgICAgICAgICAgIC50aGVuKHN0b3JlZEl0ZW1zID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHN0b3JlZEl0ZW1zW2lkXVxuICAgICAgICAgICAgICAgICAgICAvLyBjb250ZW50IGZyb20gcHJpdmF0ZSBzdWJzIHdvbid0IGJlIHNhdmVkIGIvY1xuICAgICAgICAgICAgICAgICAgICAvLyBubyBpdGVtIGlzIGNyZWF0ZWQgZm9yIHRoYXQgKHJlZGRpdCByZXR1cm5zIG5vIGRhdGEgZm9yXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vbi1sb2dnZWQtaW4gYXV0aGVudGljYXRlZCBhcHBzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbU9iaiA9IG5ldyBMb2NhbFN0b3JhZ2VJdGVtKHtvYmplY3Q6IGl0ZW19KVxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbU9iai5zZXRUZXh0KGNvbW1lbnRCb2R5KVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVkSXRlbXNbaWRdID0gaXRlbU9ialxuICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUxvY2FsU3RvcmFnZUl0ZW1zKCdvdGhlcicsIGZhbHNlLCBzdG9yZWRJdGVtcylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSlcbiAgICByZXR1cm4gZmFsc2Vcbn1cblxuY29uc3QgdW5zdWJzY3JpYmVJZF9jaGFuZ2VUZXh0ID0gKGlkLCBlbGVtZW50LCBjb21tZW50Qm9keSkgPT4ge1xuICAgIHVuc3Vic2NyaWJlSWQoaWQsICgpID0+IHtcbiAgICAgICAgc2V0VGV4dEFuZEZ1bmN0aW9uX3N1YnNjcmliZShpZCwgZWxlbWVudCwgY29tbWVudEJvZHkpXG4gICAgfSlcbiAgICByZXR1cm4gZmFsc2Vcbn1cbiIsImltcG9ydCB7bG9va3VwSXRlbXNCeUlELCBsb29rdXBJdGVtc0J5VXNlciwgZ2V0QXV0aH0gZnJvbSAnLi9yZXF1ZXN0cy5qcydcbmltcG9ydCB7UkVNT1ZFRCwgREVMRVRFRCwgQVBQUk9WRUQsIExPQ0tFRCwgVU5MT0NLRUQsIEVESVRFRCxcbiAgICAgICAgYWRkTG9jYWxTdG9yYWdlSXRlbXMsIGdldExvY2FsU3RvcmFnZUl0ZW1zLFxuICAgICAgICBNQVhfU1lOQ19TVE9SQUdFX0lURU1TX1BFUl9PQkpFQ1QsIE1BWF9TWU5DX1NUT1JBR0VfQ0hBTkdFUyxcbiAgICAgICAgZ2V0T2JqZWN0TmFtZXNGb3JUaGluZyB9IGZyb20gJy4vc3RvcmFnZS5qcydcbmltcG9ydCB7Y3JlYXRlTm90aWZpY2F0aW9uLCB1cGRhdGVCYWRnZVVuc2VlbkNvdW50LCB0cmltRGljdF9ieV9udW1iZXJWYWx1ZWRBdHRyaWJ1dGUsXG4gICAgICAgIGlzVXNlckRlbGV0ZWRJdGVtLCBpc1JlbW92ZWRJdGVtLFxuICAgICAgICBJdGVtRm9yU3RvcmFnZSwgTG9jYWxTdG9yYWdlSXRlbSwgQ2hhbmdlRm9yU3RvcmFnZX0gZnJvbSAnLi9jb21tb24uanMnXG5cblxuY29uc3QgU1VCU0NSSUJFRF9GUk9NX1JFRERJVCA9IDBcbmNvbnN0IFNVQlNDUklCRURfRlJPTV9SRVZFRERJVCA9IDFcbmNvbnN0IFNVQlNDUklCRURfRlJPTV9OQSA9IDJcblxuZXhwb3J0IGNvbnN0IHNldEN1cnJlbnRTdGF0ZUZvcklkID0gKGlkLCBzdWJzY3JpYmVkRnJvbVVSTCwgY2FsbGJhY2sgPSAoKSA9PiB7fSkgPT4ge1xuICAgIGxldCBzdWJzY3JpYmVkRnJvbSA9IFNVQlNDUklCRURfRlJPTV9SRURESVRcbiAgICBpZiAoc3Vic2NyaWJlZEZyb21VUkwubWF0Y2goL15odHRwczpcXC9cXC93d3cucmV2ZWRkaXQuY29tLykpIHtcbiAgICAgICAgc3Vic2NyaWJlZEZyb20gPSBTVUJTQ1JJQkVEX0ZST01fUkVWRURESVRcbiAgICB9XG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQobnVsbCwgZnVuY3Rpb24gKHN0b3JhZ2UpIHtcbiAgICAgICAgZ2V0QXV0aCgpXG4gICAgICAgIC50aGVuKChhdXRoKSA9PiB7XG4gICAgICAgICAgICBjaGVja0ZvckNoYW5nZXNfdGhpbmdfYnlJZChbaWRdLCAnb3RoZXInLCBmYWxzZSwgYXV0aCwgc3RvcmFnZSwgc3Vic2NyaWJlZEZyb20sIHt9LCBjYWxsYmFjaylcbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5cbmV4cG9ydCBjb25zdCBjaGVja0ZvckNoYW5nZXMgPSAoKSA9PiB7XG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQobnVsbCwgZnVuY3Rpb24gKHN0b3JhZ2UpIHtcbiAgICAgICAgdmFyIHVzZXJzID0gT2JqZWN0LmtleXMoc3RvcmFnZS51c2VyX3N1YnNjcmlwdGlvbnMpXG4gICAgICAgIHZhciBvdGhlciA9IE9iamVjdC5rZXlzKHN0b3JhZ2Uub3RoZXJfc3Vic2NyaXB0aW9ucylcbiAgICAgICAgaWYgKHVzZXJzLmxlbmd0aCB8fCBvdGhlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGdldEF1dGgoKVxuICAgICAgICAgICAgLnRoZW4oKGF1dGgpID0+IHtcbiAgICAgICAgICAgICAgICBjaGVja0ZvckNoYW5nZXNfb3RoZXIoYXV0aCwgc3RvcmFnZSlcbiAgICAgICAgICAgICAgICBjaGVja0ZvckNoYW5nZXNfdXNlcnModXNlcnMsIGF1dGgsIHN0b3JhZ2UpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuZnVuY3Rpb24gY2hlY2tGb3JDaGFuZ2VzX3VzZXJzKHVzZXJzLCBhdXRoLCBzdG9yYWdlKSB7XG4gICAgaWYgKHVzZXJzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCB1c2VyID0gdXNlcnNbMF1cblxuICAgICAgICBsb29rdXBJdGVtc0J5VXNlcih1c2VyLCAnJywgJ25ldycsICcnLCBhdXRoKVxuICAgICAgICAudGhlbihpdGVtcyA9PiB7XG4gICAgICAgICAgICBpZiAoISBpdGVtcykgcmV0dXJuIC8vIGhhbmRsZSBleHBlY3RlZCBlcnJvcnNcbiAgICAgICAgICAgIHZhciBpZHMgPSBbXVxuICAgICAgICAgICAgY29uc3QgaXRlbUxvb2t1cCA9IHt9XG4gICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIGlkcy5wdXNoKGl0ZW0uZGF0YS5uYW1lKVxuICAgICAgICAgICAgICAgIGl0ZW1Mb29rdXBbaXRlbS5kYXRhLm5hbWVdID0gaXRlbS5kYXRhXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgY2hlY2tGb3JDaGFuZ2VzX3RoaW5nX2J5SWQoaWRzLCB1c2VyLCB0cnVlLCBhdXRoLCBzdG9yYWdlLCBTVUJTQ1JJQkVEX0ZST01fTkEsIGl0ZW1Mb29rdXAsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjaGVja0ZvckNoYW5nZXNfdXNlcnModXNlcnMuc2xpY2UoMSksIGF1dGgsIHN0b3JhZ2UpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tGb3JDaGFuZ2VzX290aGVyKGF1dGgsIHN0b3JhZ2UpIHtcbiAgICBjb25zdCBpZHMgPSBPYmplY3Qua2V5cyhzdG9yYWdlLm90aGVyX3N1YnNjcmlwdGlvbnMpXG4gICAgaWYgKGlkcy5sZW5ndGgpIHtcbiAgICAgICAgY2hlY2tGb3JDaGFuZ2VzX3RoaW5nX2J5SWQoaWRzLCAnb3RoZXInLCBmYWxzZSwgYXV0aCwgc3RvcmFnZSwgU1VCU0NSSUJFRF9GUk9NX05BKVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tGb3JDaGFuZ2VzX3RoaW5nX2J5SWQgKGlkcywgdGhpbmcsIGlzVXNlciwgYXV0aCwgc3RvcmFnZSwgc3Vic2NyaWJlZEZyb20sIGl0ZW1Mb29rdXAgPSB7fSwgY2FsbGJhY2sgPSAoKSA9PiB7fSkge1xuICAgIGxvb2t1cEl0ZW1zQnlJRChpZHMsIGF1dGgpXG4gICAgLnRoZW4oaXRlbXMgPT4ge1xuICAgICAgICBpZiAoISBpdGVtcykgcmV0dXJuIC8vIGhhbmRsZSBleHBlY3RlZCBlcnJvcnNcbiAgICAgICAgY29uc3QgcmVtb3ZhbF9zdGF0dXMgPSBzdG9yYWdlLm9wdGlvbnMucmVtb3ZhbF9zdGF0dXNcbiAgICAgICAgY29uc3QgbG9ja19zdGF0dXMgPSBzdG9yYWdlLm9wdGlvbnMubG9ja19zdGF0dXNcblxuICAgICAgICBjb25zdCBrZXlzID0gZ2V0T2JqZWN0TmFtZXNGb3JUaGluZyh0aGluZywgaXNVc2VyKVxuXG4gICAgICAgIGNvbnN0IGtub3duX3JlbW92ZWQgPSBzdG9yYWdlW2tleXNbJ3JlbW92ZWQnXV0gfHwge31cbiAgICAgICAgY29uc3Qga25vd25fYXBwcm92ZWQgPSBzdG9yYWdlW2tleXNbJ2FwcHJvdmVkJ11dIHx8IHt9XG4gICAgICAgIGNvbnN0IGtub3duX2xvY2tlZCA9IHN0b3JhZ2Vba2V5c1snbG9ja2VkJ11dIHx8IHt9XG4gICAgICAgIGNvbnN0IGtub3duX3VubG9ja2VkID0gc3RvcmFnZVtrZXlzWyd1bmxvY2tlZCddXSB8fCB7fVxuICAgICAgICBjb25zdCBjaGFuZ2VzID0gc3RvcmFnZVtrZXlzWydjaGFuZ2VzJ11dIHx8IFtdXG4gICAgICAgIGlmICghIGlzVXNlcikge1xuICAgICAgICAgICAgaXRlbUxvb2t1cCA9IHt9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVtb3ZlZCA9IFtdLCBhcHByb3ZlZCA9IFtdLCBsb2NrZWQgPSBbXSwgdW5sb2NrZWQgPSBbXVxuICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW1XcmFwID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtV3JhcC5kYXRhXG4gICAgICAgICAgICBpZiAoISBpc1VzZXIpIHtcbiAgICAgICAgICAgICAgICBpdGVtTG9va3VwW2l0ZW0ubmFtZV0gPSBpdGVtXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNSZW1vdmVkSXRlbShpdGVtKSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZWQucHVzaChpdGVtLm5hbWUpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFwcHJvdmVkLnB1c2goaXRlbS5uYW1lKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW0ubG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgbG9ja2VkLnB1c2goaXRlbS5uYW1lKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1bmxvY2tlZC5wdXNoKGl0ZW0ubmFtZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLy8gbWFyayBpdGVtcyB0aGF0IGRvIG5vdCBleGlzdCBpbiBhcnJheXNcbiAgICAgICAgLy8gY2hhbmdlIGhhcHBlbnMgaWY6XG4gICAgICAgIC8vICAgICAgdHJhY2tpbmcgcmVtb3ZhbHMgJiYgaXRlbSBpcyByZW1vdmVkXG4gICAgICAgIC8vICAgICAgdHJhY2tpbmcgcmVtb3ZhbHMgJiYgaXRlbSB3YXMgaW4gcmVtb3ZlZCwgbm93IGluIGFwcHJvdmVkXG4gICAgICAgIGNvbnN0IG5ld0xvY2FsU3RvcmFnZUl0ZW1zID0ge31cblxuICAgICAgICBjb25zdCBjaGFuZ2VUeXBlcyA9IFtdXG4gICAgICAgIGxldCBudW1fY2hhbmdlcyA9IDBcbiAgICAgICAgZ2V0TG9jYWxTdG9yYWdlSXRlbXModGhpbmcsIGlzVXNlcilcbiAgICAgICAgLnRoZW4oZXhpc3RpbmdMb2NhbFN0b3JhZ2VJdGVtcyA9PiB7XG4gICAgICAgICAgICBpZiAocmVtb3ZhbF9zdGF0dXMudHJhY2spIHtcbiAgICAgICAgICAgICAgICBudW1fY2hhbmdlcyArPSBtYXJrQ2hhbmdlcyhyZW1vdmVkLCBSRU1PVkVELCAnbW9kIHJlbW92ZWQnLCBrbm93bl9yZW1vdmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcHJvdmVkLCBBUFBST1ZFRCwgJ2FwcHJvdmVkJywga25vd25fYXBwcm92ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlcywgaXRlbUxvb2t1cCwgcmVtb3ZhbF9zdGF0dXMubm90aWZ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0xvY2FsU3RvcmFnZUl0ZW1zLCBjaGFuZ2VUeXBlcywgaXNVc2VyLCBzdWJzY3JpYmVkRnJvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0xvY2FsU3RvcmFnZUl0ZW1zKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvY2tfc3RhdHVzLnRyYWNrKSB7XG4gICAgICAgICAgICAgICAgbnVtX2NoYW5nZXMgKz0gbWFya0NoYW5nZXMobG9ja2VkLCBMT0NLRUQsICdsb2NrZWQnLCBrbm93bl9sb2NrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5sb2NrZWQsIFVOTE9DS0VELCAndW5sb2NrZWQnLCBrbm93bl91bmxvY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzLCBpdGVtTG9va3VwLCBsb2NrX3N0YXR1cy5ub3RpZnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TG9jYWxTdG9yYWdlSXRlbXMsIGNoYW5nZVR5cGVzLCBpc1VzZXIsIHN1YnNjcmliZWRGcm9tLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nTG9jYWxTdG9yYWdlSXRlbXMpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChudW1fY2hhbmdlcyAmJiBjaGFuZ2VUeXBlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgICAgIHtub3RpZmljYXRpb25JZDogdGhpbmcsXG4gICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpbmcsXG4gICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgJHtudW1fY2hhbmdlc30gbmV3IFske2NoYW5nZVR5cGVzLmpvaW4oJywgJyl9XSBhY3Rpb25zLCBjbGljayB0byB2aWV3YH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7W2tleXNbJ3JlbW92ZWQnXV06IHRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZShrbm93bl9yZW1vdmVkLCBNQVhfU1lOQ19TVE9SQUdFX0lURU1TX1BFUl9PQkpFQ1QsICdjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2tleXNbJ2FwcHJvdmVkJ11dOiB0cmltRGljdF9ieV9udW1iZXJWYWx1ZWRBdHRyaWJ1dGUoa25vd25fYXBwcm92ZWQsIE1BWF9TWU5DX1NUT1JBR0VfSVRFTVNfUEVSX09CSkVDVCwgJ2MnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBba2V5c1snbG9ja2VkJ11dOiB0cmltRGljdF9ieV9udW1iZXJWYWx1ZWRBdHRyaWJ1dGUoa25vd25fbG9ja2VkLCBNQVhfU1lOQ19TVE9SQUdFX0lURU1TX1BFUl9PQkpFQ1QsICdjJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2tleXNbJ3VubG9ja2VkJ11dOiB0cmltRGljdF9ieV9udW1iZXJWYWx1ZWRBdHRyaWJ1dGUoa25vd25fdW5sb2NrZWQsIE1BWF9TWU5DX1NUT1JBR0VfSVRFTVNfUEVSX09CSkVDVCwgJ2MnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBba2V5c1snY2hhbmdlcyddXTogY2hhbmdlcy5zbGljZSgtTUFYX1NZTkNfU1RPUkFHRV9DSEFOR0VTKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUJhZGdlVW5zZWVuQ291bnQoKVxuICAgICAgICAgICAgICAgIGFkZExvY2FsU3RvcmFnZUl0ZW1zKG5ld0xvY2FsU3RvcmFnZUl0ZW1zLCB0aGluZywgaXNVc2VyLCBjYWxsYmFjaylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuLy8gbmV3TG9jYWxTdG9yYWdlSXRlbXMgb3BlcmF0ZXMgYXMgYSByZXR1cm4gdmFsdWVcbmZ1bmN0aW9uIG1hcmtDaGFuZ2VzIChhbGVydF9jdXJyZW50X2xpc3QsIGFsZXJ0X3R5cGUsIGFsZXJ0X3RleHQsIGFsZXJ0X2tub3duX2hhc2gsXG4gICAgICAgICAgICAgICAgICAgICAgbm9ybWFsX2N1cnJlbnRfbGlzdCwgbm9ybWFsX3R5cGUsIG5vcm1hbF90ZXh0LCBub3JtYWxfa25vd25faGFzaCxcbiAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzLCBpdGVtTG9va3VwLCBub3RpZnksIG5ld0xvY2FsU3RvcmFnZUl0ZW1zLCBjaGFuZ2VUeXBlcyxcbiAgICAgICAgICAgICAgICAgICAgICBpc1VzZXIsIHN1YnNjcmliZWRGcm9tLCBleGlzdGluZ0xvY2FsU3RvcmFnZUl0ZW1zKSB7XG4gICAgY29uc3QgYWxlcnRfdW5zZWVuX2lkcyA9IFtdLFxuICAgICAgICAgIG5vcm1hbF91bnNlZW5faWRzID0gW10sXG4gICAgICAgICAgYWxlcnRfdXNlckRlbGV0ZWRfdW5zZWVuX2lkcyA9IFtdLFxuICAgICAgICAgIG5vdyA9IE1hdGguZmxvb3IobmV3IERhdGUoKS8xMDAwKVxuXG4gICAgYWxlcnRfY3VycmVudF9saXN0LmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtTG9va3VwW25hbWVdXG4gICAgICAgIC8vIDEuIGluIHRoZSBjYXNlIG9mIGEgbm9uLXVzZXJwYWdlLXRyYWNrZWQgKGlzVXNlcj1mYWxzZSkgcmVtb3ZlZCBjb21tZW50LCBkb24ndCBvdmVyd3JpdGUgbG9jYWwgc3RvcmFnZSBiL2NcbiAgICAgICAgLy8gaWYgaXQgd2VyZSBvdmVyd3JpdHRlbiwgYm9keSB3b3VsZCBhcHBlYXIgb24gaGlzdG9yeSBwYWdlIGFzIFtyZW1vdmVkXVxuICAgICAgICAvLyAyLiBpbiB0aGUgY2FzZSBvZiB1c2VycGFnZSB0cmFja2luZyAoaXNVc2VyPXRydWUpLCBvbmx5IG5lZWQgdG8gc2F2ZSB0aGUgdGV4dCBpbiBsb2NhbCBzdG9yYWdlXG4gICAgICAgIC8vIHdoZW4gdGhlcmUgaXMgYSBjaGFuZ2UuIHVzZXIgcGFnZSBsb29rdXAgKGl0ZW1Mb29rdXApIHdpbGwgaGF2ZSBvcmlnaW5hbCB0ZXh0XG4gICAgICAgIGlmICghIGlzVXNlciAmJiAhIGV4aXN0aW5nTG9jYWxTdG9yYWdlSXRlbXNbbmFtZV0pIHtcbiAgICAgICAgICAgIG5ld0xvY2FsU3RvcmFnZUl0ZW1zW25hbWVdID0gbmV3IExvY2FsU3RvcmFnZUl0ZW0oe2l0ZW06IGl0ZW0sIG9ic2VydmVkX3V0Yzogbm93fSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoISAobmFtZSBpbiBhbGVydF9rbm93bl9oYXNoKSkge1xuICAgICAgICAgICAgLy8gbWFya1Vuc2VlbiBpcyBhbHdheXMgdHJ1ZSBleGNlcHQgd2hlbiBzdWJzY3JpYmluZyB2aWEgYSByZWRkaXQgKG5vdCByZXZlZGRpdCkgcGFnZSB0byBhIG5ldyBJRCBmb3IgJ290aGVyJ1xuICAgICAgICAgICAgLy8gc3Vic2NyaXB0aW9ucy4gQXMgbG9uZyBhcyB0aGUgaXRlbSBpcyBub3QgJ3JlbW92ZWQnLCB0aGUgY3VycmVudCBzdGF0ZSBpcyBzdG9yZWQgYXMgJ3NlZW4nICh1bnNlZW49ZmFsc2UpLlxuICAgICAgICAgICAgLy8gSXQgaXMgYXNzdW1lZCB0aGF0IHVzZXJzIHN1YnNjcmliaW5nIGZyb20gcmV2ZWRkaXQgcGFnZXMgd2lsbCBhbHJlYWR5IGhhdmUgc2VlbiBhbGwgdGhlIGN1cnJlbnQgbW9kIGFjdGlvbnMsXG4gICAgICAgICAgICAvLyBhbmQgdXNlcnMgc3Vic2NyaWJpbmcgZnJvbSBhIHJlZGRpdCBwYWdlIHdpbGwgYWxyZWFkeSBrbm93IGFib3V0IGxvY2tlZCBpdGVtc1xuICAgICAgICAgICAgbGV0IG1hcmtVbnNlZW4gPSB0cnVlXG4gICAgICAgICAgICBpZiAoKHN1YnNjcmliZWRGcm9tID09PSBTVUJTQ1JJQkVEX0ZST01fUkVERElUICYmIGFsZXJ0X3R5cGUgIT09IFJFTU9WRUQpIHx8XG4gICAgICAgICAgICAgICAgIHN1YnNjcmliZWRGcm9tID09PSBTVUJTQ1JJQkVEX0ZST01fUkVWRURESVQpIHtcbiAgICAgICAgICAgICAgICBtYXJrVW5zZWVuID0gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFsZXJ0X2tub3duX2hhc2hbbmFtZV0gPSBuZXcgSXRlbUZvclN0b3JhZ2UoaXRlbS5jcmVhdGVkX3V0YywgbWFya1Vuc2VlbilcbiAgICAgICAgICAgIGRlbGV0ZSBub3JtYWxfa25vd25faGFzaFtuYW1lXVxuICAgICAgICAgICAgaWYgKG1hcmtVbnNlZW4pIHtcbiAgICAgICAgICAgICAgICBsZXQgYWxlcnRfdHlwZV92YXIgPSBhbGVydF90eXBlXG4gICAgICAgICAgICAgICAgaWYgKGlzVXNlckRlbGV0ZWRJdGVtKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0X3R5cGVfdmFyID0gREVMRVRFRFxuICAgICAgICAgICAgICAgICAgICBhbGVydF91c2VyRGVsZXRlZF91bnNlZW5faWRzLnB1c2gobmFtZSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbGVydF91bnNlZW5faWRzLnB1c2gobmFtZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2hhbmdlcy5wdXNoKG5ldyBDaGFuZ2VGb3JTdG9yYWdlKHtpZDogbmFtZSwgb2JzZXJ2ZWRfdXRjOiBub3csIGNoYW5nZV90eXBlOiBhbGVydF90eXBlX3Zhcn0pKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzVXNlcikge1xuICAgICAgICAgICAgICAgIG5ld0xvY2FsU3RvcmFnZUl0ZW1zW25hbWVdID0gbmV3IExvY2FsU3RvcmFnZUl0ZW0oe2l0ZW06IGl0ZW0sIG9ic2VydmVkX3V0Yzogbm93fSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pXG4gICAgbm9ybWFsX2N1cnJlbnRfbGlzdC5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICBjb25zdCBpdGVtID0gaXRlbUxvb2t1cFtuYW1lXVxuICAgICAgICAvLyBzYXZlIG9yaWdpbmFsIHRleHQgZm9yIGFsbCBub24tdXNlcnBhZ2UtdHJhY2tlZCBpdGVtcyBzaW5jZSBjb21tZW50IHRleHQgY2FuIGRpc2FwcGVhclxuICAgICAgICBpZiAoISBpc1VzZXIgJiYgISBleGlzdGluZ0xvY2FsU3RvcmFnZUl0ZW1zW25hbWVdKSB7XG4gICAgICAgICAgICBuZXdMb2NhbFN0b3JhZ2VJdGVtc1tuYW1lXSA9IG5ldyBMb2NhbFN0b3JhZ2VJdGVtKHtpdGVtOiBpdGVtLCBvYnNlcnZlZF91dGM6IG5vd30pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgaW4gYWxlcnRfa25vd25faGFzaCkge1xuICAgICAgICAgICAgbm9ybWFsX2tub3duX2hhc2hbbmFtZV0gPSBuZXcgSXRlbUZvclN0b3JhZ2UoaXRlbS5jcmVhdGVkX3V0YywgdHJ1ZSlcbiAgICAgICAgICAgIGRlbGV0ZSBhbGVydF9rbm93bl9oYXNoW25hbWVdXG5cbiAgICAgICAgICAgIGNoYW5nZXMucHVzaChuZXcgQ2hhbmdlRm9yU3RvcmFnZSh7aWQ6IG5hbWUsIG9ic2VydmVkX3V0Yzogbm93LCBjaGFuZ2VfdHlwZTogbm9ybWFsX3R5cGV9KSlcbiAgICAgICAgICAgIG5vcm1hbF91bnNlZW5faWRzLnB1c2gobmFtZSlcblxuICAgICAgICAgICAgbmV3TG9jYWxTdG9yYWdlSXRlbXNbbmFtZV0gPSBuZXcgTG9jYWxTdG9yYWdlSXRlbSh7aXRlbTogaXRlbSwgb2JzZXJ2ZWRfdXRjOiBub3d9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9ybWFsX2tub3duX2hhc2hbbmFtZV0gPSBuZXcgSXRlbUZvclN0b3JhZ2UoaXRlbS5jcmVhdGVkX3V0YywgZmFsc2UpXG4gICAgICAgIH1cbiAgICB9KVxuICAgIGNvbnN0IG51bV9jaGFuZ2VzID0gYWxlcnRfdW5zZWVuX2lkcy5sZW5ndGggKyBub3JtYWxfdW5zZWVuX2lkcy5sZW5ndGggKyBhbGVydF91c2VyRGVsZXRlZF91bnNlZW5faWRzLmxlbmd0aFxuICAgIGlmIChub3RpZnkgJiYgbnVtX2NoYW5nZXMpIHtcbiAgICAgICAgaWYgKGFsZXJ0X3Vuc2Vlbl9pZHMubGVuZ3RoKSBjaGFuZ2VUeXBlcy5wdXNoKGFsZXJ0X3RleHQpXG4gICAgICAgIGlmIChhbGVydF91c2VyRGVsZXRlZF91bnNlZW5faWRzLmxlbmd0aCkgY2hhbmdlVHlwZXMucHVzaCgndXNlciBkZWxldGVkJylcbiAgICAgICAgaWYgKG5vcm1hbF91bnNlZW5faWRzLmxlbmd0aCkgY2hhbmdlVHlwZXMucHVzaChub3JtYWxfdGV4dClcbiAgICB9XG4gICAgcmV0dXJuIG51bV9jaGFuZ2VzXG59XG4iLCJpbXBvcnQge2dldEF1dGgsIGxvb2t1cEl0ZW1zQnlJRH0gZnJvbSAnLi9yZXF1ZXN0cy5qcydcbmltcG9ydCB7Z2V0RnVsbElEc0Zyb21QYXRofSBmcm9tICcuL2NvbW1vbi5qcydcbmltcG9ydCB7c2V0VGV4dEFuZEZ1bmN0aW9uX3N1YnNjcmliZSxzZXRUZXh0QW5kRnVuY3Rpb25fdW5zdWJzY3JpYmV9IGZyb20gJy4vY29udGVudC1jb21tb24uanMnXG5cbmNvbnN0IFVTRVJfREVMRVRFRCA9ICdyZXYtdXNlci1kZWxldGVkJ1xuY29uc3QgTU9EX1JFTU9WRUQgPSAncmV2LW1vZC1yZW1vdmVkJ1xuY29uc3QgaWRfbWF0Y2hfY29tbWVudCA9IC9edDFfLisvXG5jb25zdCBpZF9tYXRjaF9wb3N0ID0gL150M18uKy9cblxuZXhwb3J0IGNvbnN0IHJlZGRpdE1vZGlmaWNhdGlvbnMgPSAob3RoZXJfc3Vic2NyaXB0aW9ucykgPT4ge1xuICAgIGNvbnN0IGlzTmV3UmVkZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1NIT1JUQ1VUX0ZPQ1VTQUJMRV9ESVYnKSAhPT0gbnVsbFxuICAgIGlmVGhyZWFkUGFnZV9zaG93UmVtb3ZhbFN0YXR1cyhpc05ld1JlZGRpdClcbiAgICBpZiAoICEgaXNOZXdSZWRkaXQgKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gJy50aGluZy5saW5rLCAudGhpbmcuY29tbWVudCdcbiAgICAgICAgYWRkU3Vic2NyaWJlTGlua3Nfb2xkUmVkZGl0KCQoc2VsZWN0b3IpLCBvdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICAkKGRvY3VtZW50KS5hcnJpdmUoc2VsZWN0b3IsIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBhZGRTdWJzY3JpYmVMaW5rc19vbGRSZWRkaXQoW2VsZW1lbnRdLCBvdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBzZWxlY3Rvcl9jb21tZW50cyA9ICcuQ29tbWVudCdcbiAgICAgICAgYWRkU3Vic2NyaWJlTGlua3NfbmV3UmVkZGl0X2NvbW1lbnRzKCQoc2VsZWN0b3JfY29tbWVudHMpLCBvdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICAkKGRvY3VtZW50KS5hcnJpdmUoc2VsZWN0b3JfY29tbWVudHMsIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBhZGRTdWJzY3JpYmVMaW5rc19uZXdSZWRkaXRfY29tbWVudHMoW2VsZW1lbnRdLCBvdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBzZWxlY3Rvcl9wb3N0cyA9ICcuUG9zdCdcbiAgICAgICAgYWRkU3Vic2NyaWJlTGlua3NfbmV3UmVkZGl0X3Bvc3RzKCQoc2VsZWN0b3JfcG9zdHMpLCBvdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICAkKGRvY3VtZW50KS5hcnJpdmUoc2VsZWN0b3JfcG9zdHMsIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBhZGRTdWJzY3JpYmVMaW5rc19uZXdSZWRkaXRfcG9zdHMoW2VsZW1lbnRdLCBvdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBzZWxlY3Rvcl9uZXdQb3N0ID0gJy5Qb3N0IGRpdltkYXRhLXRlc3QtaWQ9XCJwb3N0LWNvbnRlbnRcIl0nXG4gICAgICAgICQoZG9jdW1lbnQpLmFycml2ZShzZWxlY3Rvcl9uZXdQb3N0LCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgc2hvd1JlbW92YWxTdGF0dXNGb3JUaHJlYWRPdmVybGF5KGVsZW1lbnQpXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5jb25zdCBpZlRocmVhZFBhZ2Vfc2hvd1JlbW92YWxTdGF0dXMgPSAoaXNOZXdSZWRkaXQsIG5ld1JlZGRpdFRhcmdldCA9ICcuUG9zdCcsIHBvc3REYXRhID0ge30pID0+IHtcbiAgICBjb25zdCBbcG9zdElELCBjb21tZW50SUQsIHVzZXIsIHN1YnJlZGRpdF0gPSBnZXRGdWxsSURzRnJvbVBhdGgod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKVxuICAgIC8vIGxpbmtzIHRvIGNvbW1lbnRzIG9uIG5ldyByZWRkaXQgZG8gbm90IGhhdmUgcm9ib3RzIG5vaW5kZXgsbm9mb2xsb3csIHNvIG5lZWQgdG8gbG9va3VwIGRhdGEgaWYgaGF2ZW4ndCBhbHJlYWR5XG4gICAgaWYgKGlzTmV3UmVkZGl0ICYmIGNvbW1lbnRJRCAmJiBPYmplY3Qua2V5cyhwb3N0RGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7YWN0aW9uOiAnZ2V0LXJlZGRpdC1pdGVtcy1ieS1pZCcsIGlkczogW3Bvc3RJRF19KVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAoISByZXNwb25zZSB8fCAhIHJlc3BvbnNlLml0ZW1zIHx8ICEgcmVzcG9uc2UuaXRlbXMubGVuZ3RoKSByZXR1cm5cbiAgICAgICAgICAgIHBvc3REYXRhID0gcmVzcG9uc2UuaXRlbXNbMF0uZGF0YVxuICAgICAgICAgICAgc2hvd1JlbW92YWxTdGF0dXMoe2lzTmV3UmVkZGl0LCBuZXdSZWRkaXRUYXJnZXQsIHBvc3REYXRhfSlcbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgICBzaG93UmVtb3ZhbFN0YXR1cyh7aXNOZXdSZWRkaXQsIG5ld1JlZGRpdFRhcmdldCwgcG9zdERhdGF9KVxuICAgIH1cblxufVxuXG5jb25zdCBzaG93UmVtb3ZhbFN0YXR1cyA9ICh7aXNOZXdSZWRkaXQsIG5ld1JlZGRpdFRhcmdldCA9ICcuUG9zdCcsIHBvc3REYXRhID0ge319KSA9PiB7XG4gICAgY29uc3QgW3Bvc3RJRCwgY29tbWVudElELCB1c2VyLCBzdWJyZWRkaXRdID0gZ2V0RnVsbElEc0Zyb21QYXRoKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSlcbiAgICBsZXQgY2xhc3NOYW1lID0gdW5kZWZpbmVkLCBtZXNzYWdlXzEgPSB1bmRlZmluZWRcbiAgICBpZiAocG9zdElEKSB7XG4gICAgICAgIGlmICgkKCdtZXRhW25hbWU9XCJyb2JvdHNcIl1bY29udGVudD1cIm5vaW5kZXgsbm9mb2xsb3dcIl0nKS5sZW5ndGggfHxcbiAgICAgICAgICAgICgnaXNfcm9ib3RfaW5kZXhhYmxlJyBpbiBwb3N0RGF0YSAmJiAhIHBvc3REYXRhLmlzX3JvYm90X2luZGV4YWJsZSkgKSB7XG4gICAgICAgICAgICBjb25zdCBhdXRob3IgPSBwb3N0RGF0YS5hdXRob3IgfHwgJCgnLmxpbmsgLmF1dGhvcicpLmZpcnN0KCkudGV4dCgpIHx8ICQoJy5Qb3N0IHNwYW46Y29udGFpbnMoXCJ1L1tkZWxldGVkXVwiKScpLmZpcnN0KCkudGV4dCgpXG4gICAgICAgICAgICBpZiAoYXV0aG9yID09PSAnW2RlbGV0ZWRdJyB8fCBhdXRob3IgPT09ICd1L1tkZWxldGVkXScpIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBVU0VSX0RFTEVURURcbiAgICAgICAgICAgICAgICBtZXNzYWdlXzEgPSBgVGhpcyBwb3N0IHdhcyBkZWxldGVkIGJ5IHRoZSBwZXJzb24gd2hvIHBvc3RlZCBpdC5gXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IE1PRF9SRU1PVkVEXG4gICAgICAgICAgICAgICAgbWVzc2FnZV8xID0gYFRoaXMgcG9zdCBpcyB1bmFwcHJvdmVkLiBJdCBpcyBlaXRoZXIgd2FpdGluZyB0byBiZSBhcHByb3ZlZCwgb3IgaXQgd2FzIHJlbW92ZWQgYnkgc29tZW9uZSBvciBzb21lIHJvYm90LmBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtZXNzYWdlXzEpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZV8yID0gYCBJdCBpcyBub3QgY3VycmVudGx5IHZpc2libGUgaW4gci8ke3N1YnJlZGRpdH0gYW5kIHdpbGwgbm90IGFwcGVhciBpbiB3ZWIgc2VhcmNoIHJlc3VsdHMuYFxuICAgICAgICBjb25zdCBmcm9tID0gJzxkaXYgY2xhc3M9XCJyZXYtZnJvbVwiPjxhIGhyZWY9XCJodHRwczovL3d3dy5yZXZlZGRpdC5jb20vYWJvdXRcIj5yZSh2ZSlkZGl0PC9hPiBub3RlPC9kaXY+J1xuICAgICAgICBpZiAoISBpc05ld1JlZGRpdCkge1xuICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSAhPT0gVVNFUl9ERUxFVEVEKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV8xICs9IGAgVmlldyB0aGUgcG9zdCA8YSBocmVmPVwiaHR0cHM6Ly9uZXcucmVkZGl0LmNvbSR7d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfVwiPm9uIG5ldyByZWRkaXQ8L2E+IGZvciBtb3JlIGRldGFpbHMuYFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgJGh0bWxfbWVzc2FnZSA9ICQoYDxkaXYgY2xhc3M9XCJyZWRkaXQtaW5mb2JhciBtZC1jb250YWluZXItc21hbGwgJHtjbGFzc05hbWV9XCI+YClcbiAgICAgICAgICAgICAgICAuYXBwZW5kKGZyb20pXG4gICAgICAgICAgICAgICAgLmFwcGVuZChgPGRpdiBjbGFzcz1cIm1kXCI+PHA+JHttZXNzYWdlXzF9JHttZXNzYWdlXzJ9PC9wPjwvZGl2PmApXG4gICAgICAgICAgICAkaHRtbF9tZXNzYWdlLnByZXBlbmRUbygnZGl2LmNvbnRlbnRbcm9sZT1cIm1haW5cIl0nKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSAhPT0gVVNFUl9ERUxFVEVEKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV8xICs9IGAgTW9yZSBkZXRhaWxzIG1heSBhcHBlYXIgaW4gYSBtZXNzYWdlIGFib3ZlIGZyb20gcmVkZGl0LmBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0ICRodG1sX3dyYXAgPSAkKGA8ZGl2IGNsYXNzPVwicmV2LW5ldy1yZWRkaXQtbWVzc2FnZS13cmFwICR7Y2xhc3NOYW1lfVwiPiR7ZnJvbX08L2Rpdj5gKVxuICAgICAgICAgICAgY29uc3QgJGh0bWxfY29udGVudCA9ICQoYDxkaXYgY2xhc3M9XCJyZXYtbmV3LXJlZGRpdC1tZXNzYWdlLWNvbnRlbnRcIj48L2Rpdj5gKVxuICAgICAgICAgICAgY29uc3QgJGh0bWxfZGVzY3JpcHRpb24gPSAkKGA8ZGl2IGNsYXNzPVwicmV2LW5ldy1yZWRkaXQtbWVzc2FnZS1jb250ZW50LWRlc2NyaXB0aW9uXCI+JHttZXNzYWdlXzF9JHttZXNzYWdlXzJ9PC9kaXY+YClcbiAgICAgICAgICAgICRodG1sX2NvbnRlbnQuYXBwZW5kKCRodG1sX2Rlc2NyaXB0aW9uKVxuICAgICAgICAgICAgJGh0bWxfd3JhcC5hcHBlbmQoJGh0bWxfY29udGVudClcbiAgICAgICAgICAgICQobmV3UmVkZGl0VGFyZ2V0KS5maXJzdCgpLmFmdGVyKCRodG1sX3dyYXApXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IHNob3dSZW1vdmFsU3RhdHVzRm9yVGhyZWFkT3ZlcmxheSA9IChlbGVtZW50KSA9PiB7XG4gICAgY29uc3QgW3Bvc3RJRCwgY29tbWVudElELCB1c2VyLCBzdWJyZWRkaXRdID0gZ2V0RnVsbElEc0Zyb21QYXRoKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSlcbiAgICAvLyBidWlsdCBmb3IgQ2hyb21lLCBpLmUuLCBpbmNvZ25pdG8gbW9kZSBpcyAnc3BsaXQnIGFuZCBDT1JCIGFwcGxpZXNcbiAgICBpZiAoX19CVUlMVF9GT1JfXyA9PT0gJ2Nocm9tZScpIHtcbiAgICAgICAgYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHthY3Rpb246ICdnZXQtcmVkZGl0LWl0ZW1zLWJ5LWlkJywgaWRzOiBbcG9zdElEXX0pXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGlmICghIHJlc3BvbnNlIHx8ICEgcmVzcG9uc2UuaXRlbXMgfHwgISByZXNwb25zZS5pdGVtcy5sZW5ndGgpIHJldHVyblxuICAgICAgICAgICAgY29uc3QgcG9zdERhdGEgPSByZXNwb25zZS5pdGVtc1swXS5kYXRhXG4gICAgICAgICAgICBpZlRocmVhZFBhZ2Vfc2hvd1JlbW92YWxTdGF0dXModHJ1ZSwgZWxlbWVudC5wYXJlbnROb2RlLCBwb3N0RGF0YSlcbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBidWlsdCBmb3IgRmlyZWZveCwgaS5lLiwgaW5jb2duaXRvIG1vZGUgaXMgJ3NwYW5uaW5nJyBhbmQgY29udGVudCBzY3JpcHRzXG4gICAgICAgIC8vIGFyZSBhbGxvd2VkIHRvIHNlbmQgY3Jvc3Mtb3JpZ2luIHJlcXVlc3RzXG4gICAgICAgIGdldEF1dGgoKVxuICAgICAgICAudGhlbihhdXRoID0+IHtcbiAgICAgICAgICAgIHJldHVybiBsb29rdXBJdGVtc0J5SUQoW3Bvc3RJRF0sIGF1dGgpXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGl0ZW1zID0+IHtcbiAgICAgICAgICAgIC8vIGlmIHJlcXVlc3QgZmFpbHMsIGl0ZW1zIGlzIG51bGxcbiAgICAgICAgICAgIGlmICghIGl0ZW1zKSByZXR1cm5cbiAgICAgICAgICAgIGNvbnN0IHBvc3REYXRhID0gaXRlbXNbMF0uZGF0YVxuICAgICAgICAgICAgaWZUaHJlYWRQYWdlX3Nob3dSZW1vdmFsU3RhdHVzKHRydWUsIGVsZW1lbnQucGFyZW50Tm9kZSwgcG9zdERhdGEpXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5jb25zdCBnZXRJRF9uZXdSZWRkaXQgPSAoZWxlbWVudCwgaWRfbWF0Y2gpID0+IHtcbiAgICBsZXQgaWQgPSBlbGVtZW50LmlkXG4gICAgaWYgKGlkICYmIGlkLm1hdGNoKGlkX21hdGNoKSkgcmV0dXJuIGlkXG4gICAgaWQgPSAkKGVsZW1lbnQpLmF0dHIoJ2NsYXNzJykuc3BsaXQoL1xccysvKS5maWx0ZXIoYyA9PiBjLm1hdGNoKGlkX21hdGNoKSlbMF1cbiAgICBpZiAoaWQgJiYgaWQubWF0Y2goaWRfbWF0Y2gpKSByZXR1cm4gaWRcbiAgICBpZCA9IGVsZW1lbnQucGFyZW50Tm9kZS5pZFxuICAgIGlmIChpZCAmJiBpZC5tYXRjaChpZF9tYXRjaCkpIHJldHVybiBpZFxuICAgIGlkID0gJChlbGVtZW50KS5jbG9zZXN0KCdkaXZbdGFiaW5kZXg9LTFdJykuYXR0cignaWQnKVxuICAgIHJldHVybiBpZFxufVxuXG5jb25zdCBhZGRTdWJzY3JpYmVMaW5rc19uZXdSZWRkaXRfY29tbWVudHMgPSAoZWxlbWVudHMsIHN1YnNjcmlwdGlvbnMpID0+IHtcbiAgICAkKGVsZW1lbnRzKS5lYWNoKChpZHgsIHRhcmdldGVkRWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gJCh0YXJnZXRlZEVsZW1lbnQpLmNsb3Nlc3QoJy5Db21tZW50JylbMF1cbiAgICAgICAgY29uc3QgaWQgPSBnZXRJRF9uZXdSZWRkaXQoZWxlbWVudCwgaWRfbWF0Y2hfY29tbWVudClcbiAgICAgICAgaWYgKCEgaWQgfHwgISBpZC5tYXRjaChpZF9tYXRjaF9jb21tZW50KSkgcmV0dXJuXG4gICAgICAgIGxldCAkYnV0dG9uID0gZ2V0QnV0dG9uKGVsZW1lbnQsICdzYXZlJylcbiAgICAgICAgbGV0IGFwcGVuZEJ1dHRvblRvID0gJGJ1dHRvbi5wYXJlbnQoKVxuICAgICAgICBpZiAoISAkYnV0dG9uLmxlbmd0aCkge1xuICAgICAgICAgICAgJGJ1dHRvbiA9IGdldEJ1dHRvbihlbGVtZW50LCAnc2hhcmUnKVxuICAgICAgICAgICAgYXBwZW5kQnV0dG9uVG8gPSAkYnV0dG9uLnBhcmVudCgpXG4gICAgICAgICAgICBpZiAoISAkYnV0dG9uLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICRidXR0b24gPSAkKCc8YnV0dG9uPi4uLjwvYnV0dG9uPicpXG4gICAgICAgICAgICAgICAgYXBwZW5kQnV0dG9uVG8gPSBlbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgJGJ1dHRvbl9jbG9uZSA9ICRidXR0b24uY2xvbmUoKVxuICAgICAgICBsZXQgY29tbWVudEJvZHkgPSAnJ1xuICAgICAgICBjb25zdCBib2R5RWxlbWVudCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLlJpY2hUZXh0SlNPTi1yb290JylcbiAgICAgICAgaWYgKGJvZHlFbGVtZW50KSB7XG4gICAgICAgICAgICBjb21tZW50Qm9keSA9IGJvZHlFbGVtZW50LnRleHRDb250ZW50XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkIGluIHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgIHNldFRleHRBbmRGdW5jdGlvbl91bnN1YnNjcmliZShpZCwgJGJ1dHRvbl9jbG9uZSwgY29tbWVudEJvZHkpLmFwcGVuZFRvKGFwcGVuZEJ1dHRvblRvKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGV4dEFuZEZ1bmN0aW9uX3N1YnNjcmliZShpZCwgJGJ1dHRvbl9jbG9uZSwgY29tbWVudEJvZHkpLmFwcGVuZFRvKGFwcGVuZEJ1dHRvblRvKVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuY29uc3QgZ2V0QnV0dG9uID0gKGVsZW1lbnQsIGJ1dHRvbl9zZWFyY2hfdGV4dCkgPT4ge1xuICAgIHJldHVybiAkKGVsZW1lbnQpLmZpbmQoYGJ1dHRvbjplcXVhbHNpKFwiJHtidXR0b25fc2VhcmNoX3RleHR9XCIpYCkuZmlyc3QoKVxufVxuXG5jb25zdCBhZGRTdWJzY3JpYmVMaW5rc19uZXdSZWRkaXRfcG9zdHMgPSAoZWxlbWVudHMsIHN1YnNjcmlwdGlvbnMpID0+IHtcbiAgICAkKGVsZW1lbnRzKS5lYWNoKChpZHgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBnZXRJRF9uZXdSZWRkaXQoZWxlbWVudCwgaWRfbWF0Y2hfcG9zdClcbiAgICAgICAgaWYgKCEgaWQgfHwgISBpZC5tYXRjaChpZF9tYXRjaF9wb3N0KSkgcmV0dXJuXG4gICAgICAgIGNvbnN0ICRidXR0b24gPSAkKGVsZW1lbnQpLmZpbmQoJ2J1dHRvbiA6ZXF1YWxzaShcInNhdmVcIiknKS5maXJzdCgpLnBhcmVudCgpXG4gICAgICAgIGNvbnN0ICRidXR0b25fY2xvbmUgPSAkYnV0dG9uLmNsb25lKClcbiAgICAgICAgJGJ1dHRvbl9jbG9uZS5maW5kKCdpLmljb24nKS5maXJzdCgpLnBhcmVudCgpLnJlbW92ZSgpXG4gICAgICAgIGNvbnN0ICRsYXN0X2J1dHRvbiA9ICRidXR0b24ucGFyZW50KCkuY2hpbGRyZW4oJ2J1dHRvbicpLmxhc3QoKVxuICAgICAgICBpZiAoaWQgaW4gc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgc2V0VGV4dEFuZEZ1bmN0aW9uX3Vuc3Vic2NyaWJlKGlkLCAkYnV0dG9uX2Nsb25lKS5pbnNlcnRBZnRlcigkbGFzdF9idXR0b24pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUZXh0QW5kRnVuY3Rpb25fc3Vic2NyaWJlKGlkLCAkYnV0dG9uX2Nsb25lKS5pbnNlcnRBZnRlcigkbGFzdF9idXR0b24pXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5jb25zdCBhZGRTdWJzY3JpYmVMaW5rc19vbGRSZWRkaXQgPSAoZWxlbWVudHMsIHN1YnNjcmlwdGlvbnMpID0+IHtcbiAgICAkKGVsZW1lbnRzKS5lYWNoKChpZHgsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgbGV0IGlkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZnVsbG5hbWUnKVxuICAgICAgICBpZiAoISBpZCkge1xuICAgICAgICAgICAgY29uc3QgW3Bvc3RJRCwgY29tbWVudElELCB1c2VyLCBzdWJyZWRkaXRdID0gZ2V0RnVsbElEc0Zyb21QYXRoKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBlcm1hbGluaycpIHx8ICcnKVxuICAgICAgICAgICAgaWYgKGNvbW1lbnRJRCkge1xuICAgICAgICAgICAgICAgIGlkID0gY29tbWVudElEXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBvc3RJRCkge1xuICAgICAgICAgICAgICAgIGlkID0gcG9zdElEXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEgaWQpIHJldHVyblxuICAgICAgICBjb25zdCBidXR0b25zID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCd1bC5idXR0b25zJylcbiAgICAgICAgaWYgKCEgYnV0dG9ucykgcmV0dXJuXG4gICAgICAgIGxldCBjb21tZW50Qm9keSA9ICcnXG4gICAgICAgIGNvbnN0IGJvZHlFbGVtZW50ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudXNlcnRleHQtYm9keScpXG4gICAgICAgIGlmIChib2R5RWxlbWVudCAmJiBpZC5tYXRjaCgvXnQxXy8pKSB7XG4gICAgICAgICAgICBjb21tZW50Qm9keSA9IGJvZHlFbGVtZW50LnRleHRDb250ZW50XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgJG5ld0J1dHRvbiA9IHNldFRleHRBbmRGdW5jdGlvbl9zdWJzY3JpYmUoaWQsICQoYDxhIGhyZWY9XCJcIj5gKVswXSwgY29tbWVudEJvZHkpXG4gICAgICAgIGlmIChpZCBpbiBzdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICAkbmV3QnV0dG9uID0gc2V0VGV4dEFuZEZ1bmN0aW9uX3Vuc3Vic2NyaWJlKGlkLCAkKGA8YSBocmVmPVwiXCI+YClbMF0sIGNvbW1lbnRCb2R5KVxuICAgICAgICB9XG4gICAgICAgICQoYnV0dG9ucykuYXBwZW5kKCRuZXdCdXR0b24ud3JhcCgnPGxpPicpLnBhcmVudCgpKVxuICAgIH0pXG59XG4iLCJpbXBvcnQge21hcmtJRHNBc1NlZW5JZlN1YnNjcmliZWR9IGZyb20gJy4vc3RvcmFnZS5qcydcbmltcG9ydCB7c2V0VGV4dEFuZEZ1bmN0aW9uX3N1YnNjcmliZSxzZXRUZXh0QW5kRnVuY3Rpb25fdW5zdWJzY3JpYmV9IGZyb20gJy4vY29udGVudC1jb21tb24uanMnXG5cbmNvbnN0IGlkX21hdGNoID0gL150WzEzXV8uKy9cblxuZXhwb3J0IGNvbnN0IHJldmRkaXRNb2RpZmljYXRpb25zID0gKHN0b3JhZ2UsIHVzZXIsIGlzVXNlclBhZ2UsIGlzSW5mb1BhZ2UpID0+IHtcbiAgICBpZiAoaXNVc2VyUGFnZSB8fCBpc0luZm9QYWdlKSB7XG4gICAgICAgIHdhaXRGb3JBZGRlZE5vZGVfd2l0aE1pbkF0dFZhbHVlKCdudW1JdGVtc0xvYWRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhLW51bWl0ZW1zbG9hZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZElEc0ZvclVzZXJBbmRNYXJrKHN0b3JhZ2UsIHVzZXIsIGlzVXNlclBhZ2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3Qgc2VsZWN0b3JfcG9zdHMgPSAnLnBvc3Q6bm90KC5kZWxldGVkKSdcbiAgICBjb25zdCBzZWxlY3Rvcl9jb21tZW50cyA9ICcuY29tbWVudC1ib2R5LWFuZC1saW5rcydcbiAgICAkKGRvY3VtZW50KS5hcnJpdmUoc2VsZWN0b3JfY29tbWVudHMsIChlbGVtZW50KSA9PiB7XG4gICAgICAgIGFkZFN1YnNjcmliZUxpbmtzX3JldmRkaXRfY29tbWVudHMoW2VsZW1lbnRdLCBzdG9yYWdlLm90aGVyX3N1YnNjcmlwdGlvbnMpXG4gICAgfSlcbiAgICBhZGRTdWJzY3JpYmVMaW5rc19yZXZkZGl0X2NvbW1lbnRzKCQoc2VsZWN0b3JfY29tbWVudHMpLCBzdG9yYWdlLm90aGVyX3N1YnNjcmlwdGlvbnMpXG4gICAgJChkb2N1bWVudCkuYXJyaXZlKHNlbGVjdG9yX3Bvc3RzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICBhZGRTdWJzY3JpYmVMaW5rc19yZXZkZGl0X3Bvc3RzKFtlbGVtZW50XSwgc3RvcmFnZS5vdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgIH0pXG4gICAgc2V0VGltZW91dCgoKSA9PiB7IC8vIHRoaXMgZGVsYXkgaXMgbmVjZXNzYXJ5IHRvIG1ha2UgYnV0dG9uIGFwcGVhciBvbiB0aHJlYWQtcGFnZSBwb3N0IGl0ZW1zLCBub3Qgc3VyZSB3aHlcbiAgICAgICAgYWRkU3Vic2NyaWJlTGlua3NfcmV2ZGRpdF9wb3N0cygkKHNlbGVjdG9yX3Bvc3RzKSwgc3RvcmFnZS5vdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgIH0sIDIwMDApXG5cbn1cblxuY29uc3QgYWRkU3Vic2NyaWJlTGlua3NfcmV2ZGRpdF9jb21tZW50cyA9IChlbGVtZW50cywgc3Vic2NyaXB0aW9ucykgPT4ge1xuICAgICQoZWxlbWVudHMpLmVhY2goKGlkeCwgdGFyZ2V0ZWRFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0YXJnZXRlZEVsZW1lbnQucGFyZW50Tm9kZVxuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2RlbGV0ZWQnKSkgcmV0dXJuXG4gICAgICAgIGNvbnN0IGlkID0gZWxlbWVudC5pZFxuICAgICAgICBjb25zdCBsaW5rcyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNvbW1lbnQtbGlua3MnKVxuICAgICAgICBsZXQgY29tbWVudEJvZHkgPSAnJ1xuICAgICAgICBsZXQgYm9keUVsZW1lbnQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb21tZW50LWJvZHknKVxuICAgICAgICBpZiAoYm9keUVsZW1lbnQgJiYgaWQubWF0Y2goL150MV8vKSkge1xuICAgICAgICAgICAgY29tbWVudEJvZHkgPSBib2R5RWxlbWVudC50ZXh0Q29udGVudFxuICAgICAgICB9XG4gICAgICAgIGxldCAkbmV3TGluayA9IHNldFRleHRBbmRGdW5jdGlvbl9zdWJzY3JpYmUoaWQsICQoYDxhIGhyZWY9XCJcIj5gKVswXSwgY29tbWVudEJvZHkpXG4gICAgICAgIGlmIChpZCBpbiBzdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICAkbmV3TGluayA9IHNldFRleHRBbmRGdW5jdGlvbl91bnN1YnNjcmliZShpZCwgJChgPGEgaHJlZj1cIlwiPmApWzBdLCBjb21tZW50Qm9keSlcbiAgICAgICAgfVxuICAgICAgICAkKGxpbmtzKS5hcHBlbmQoJG5ld0xpbmspXG4gICAgfSlcbn1cblxuY29uc3QgYWRkU3Vic2NyaWJlTGlua3NfcmV2ZGRpdF9wb3N0cyA9IChlbGVtZW50cywgc3Vic2NyaXB0aW9ucykgPT4ge1xuICAgICQoZWxlbWVudHMpLmVhY2goKGlkeCwgZWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGVsZW1lbnQuaWRcbiAgICAgICAgY29uc3QgbGlua3MgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3N0LWxpbmtzJylcbiAgICAgICAgbGV0ICRuZXdMaW5rID0gc2V0VGV4dEFuZEZ1bmN0aW9uX3N1YnNjcmliZShpZCwgJChgPGEgaHJlZj1cIlwiPmApWzBdKVxuICAgICAgICBpZiAoaWQgaW4gc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgJG5ld0xpbmsgPSBzZXRUZXh0QW5kRnVuY3Rpb25fdW5zdWJzY3JpYmUoaWQsICQoYDxhIGhyZWY9XCJcIj5gKVswXSlcbiAgICAgICAgfVxuICAgICAgICAkKGxpbmtzKS5hcHBlbmQoJG5ld0xpbmspXG4gICAgfSlcbn1cblxuZnVuY3Rpb24gd2FpdEZvckFkZGVkTm9kZV93aXRoTWluQXR0VmFsdWUoaWQsIHBhcmVudCwgYXR0cmlidXRlLCBtaW5BdHRyaWJ1dGVWYWx1ZSwgZG9uZSkge1xuICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucykge1xuICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgIGlmIChlbCAmJiBlbC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSA+PSBtaW5BdHRyaWJ1dGVWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH1cbiAgICB9KS5vYnNlcnZlKHBhcmVudCB8fCBkb2N1bWVudCwge1xuICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZmluZElEc0ZvclVzZXJBbmRNYXJrKHN0b3JhZ2UsIHVzZXIsIGlzVXNlclBhZ2UpIHtcbiAgICBjb25zdCBzZWVuX3JlbW92ZWRfaWRzID0gZ2V0SURzSGFzaEZyb21TZWxlY3RvcignLmNvbW1lbnQucmVtb3ZlZCwgLnBvc3QucmVtb3ZlZCwgLmNvbW1lbnQuZGVsZXRlZCwgLnBvc3QuZGVsZXRlZCcpXG4gICAgY29uc3Qgc2Vlbl9hcHByb3ZlZF9pZHMgPSBnZXRJRHNIYXNoRnJvbVNlbGVjdG9yKCcuY29tbWVudDpub3QoLnJlbW92ZWQpLCAucG9zdDpub3QoLnJlbW92ZWQpJylcbiAgICBjb25zdCBzZWVuX2xvY2tlZF9pZHMgPSBnZXRJRHNIYXNoRnJvbVNlbGVjdG9yKCcuY29tbWVudC5sb2NrZWQsIC5wb3N0LmxvY2tlZCcpXG4gICAgY29uc3Qgc2Vlbl91bmxvY2tlZF9pZHMgPSBnZXRJRHNIYXNoRnJvbVNlbGVjdG9yKCcuY29tbWVudDpub3QoLmxvY2tlZCknLCAnLnBvc3Q6bm90KC5sb2NrZWQpJylcbiAgICBtYXJrSURzQXNTZWVuSWZTdWJzY3JpYmVkKHN0b3JhZ2UsIHVzZXIsIGlzVXNlclBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWVuX3JlbW92ZWRfaWRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vlbl9hcHByb3ZlZF9pZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWVuX2xvY2tlZF9pZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWVuX3VubG9ja2VkX2lkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzKSA9PiB7XG4gICAgICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHthY3Rpb246ICd1cGRhdGUtYmFkZ2UnfSlcbiAgICB9KVxufVxuXG5mdW5jdGlvbiBnZXRJRHNIYXNoRnJvbVNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgY29uc3QgaGFzaCA9IHt9XG4gICAgJChzZWxlY3RvcikuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmdldEF0dHJpYnV0ZSgnaWQnKVxuICAgICAgICBoYXNoW2lkXSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWNyZWF0ZWRfdXRjJylcbiAgICB9KVxuICAgIHJldHVybiBoYXNoXG59XG4iLCJpbXBvcnQge2dldFN1YnNjcmliZWRVc2Vyc193aXRoU2VlbkFuZFVuc2VlbklEcywgc3Vic2NyaWJlVXNlcn0gZnJvbSAnLi9zdG9yYWdlLmpzJ1xuaW1wb3J0IHtyZWRkaXRNb2RpZmljYXRpb25zfSBmcm9tICcuL2NvbnRlbnQtcmVkZGl0LmpzJ1xuaW1wb3J0IHtyZXZkZGl0TW9kaWZpY2F0aW9uc30gZnJvbSAnLi9jb250ZW50LXJldmRkaXQuanMnXG5pbXBvcnQge2dldExvZ2dlZGluVXNlcn0gZnJvbSAnLi9yZXF1ZXN0cy5qcydcblxuXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gcXVlcnlVc2VyIChtZXNzYWdlLCBzZW5kZXIsIHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmFjdGlvbiA9PT0gJ3F1ZXJ5LXVzZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0TG9nZ2VkaW5Vc2VyKClcbiAgICAgICAgICAgIC50aGVuKCh1c2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmliZVVzZXIodXNlciwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWY9YGh0dHBzOi8vd3d3LnJldmVkZGl0LmNvbS91c2VyLyR7dXNlcn0/YWxsPXRydWVgXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnZmFpbGVkJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuICAgICQuZXh0ZW5kKCQuZXhwcltcIjpcIl0sIHtcbiAgICAgICAgXCJlcXVhbHNpXCI6IChlbGVtLCBpLCBtYXRjaCwgYXJyYXkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoZWxlbS50ZXh0Q29udGVudCB8fCBlbGVtLmlubmVyVGV4dCB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gbWF0Y2hbM10udG9Mb3dlckNhc2UoKS50cmltKClcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaGFzU2Vlbkxhbmd1YWdlTW9kYWwnLCB0cnVlKVxuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaGFzTm90aWZpZXJFeHRlbnNpb24nLCB0cnVlKVxuICAgIGJyb3dzZXIucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIocXVlcnlVc2VyKVxuXG4gICAgY29uc3QgZXh0ZW5zaW9uU2F5c05vU3Vic2NyaXB0aW9ucyA9ICdleHRlbnNpb25TYXlzTm9TdWJzY3JpcHRpb25zJ1xuICAgIGxldCB1c2VyID0gJ290aGVyJ1xuICAgIGxldCBpc1VzZXJQYWdlID0gZmFsc2VcbiAgICBsZXQgaXNJbmZvUGFnZSA9IGZhbHNlXG4gICAgbGV0IGlzUmVkZGl0ID0gZmFsc2VcbiAgICBqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKC9eaHR0cHM/OlxcL1xcL1teL10qKHJlZGRpdFxcLmNvbXxyZXZlZGRpdFxcLmNvbXxsb2NhbGhvc3QpLylcbiAgICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgICAgIGlzUmVkZGl0ID0gbWF0Y2hlc1sxXSA9PT0gJ3JlZGRpdC5jb20nXG4gICAgICAgICAgICBjb25zdCBwYXRoUGFydHMgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoJy8nKVxuICAgICAgICAgICAgaWYgKHBhdGhQYXJ0c1sxXSA9PT0gJ3VzZXInICYmIHBhdGhQYXJ0cy5sZW5ndGggPj0gMyAmJiBwYXRoUGFydHNbMl0pIHtcbiAgICAgICAgICAgICAgICB1c2VyID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcvJylbMl07XG4gICAgICAgICAgICAgICAgaXNVc2VyUGFnZSA9IHRydWVcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGF0aFBhcnRzWzFdID09PSAnaW5mbycpIHtcbiAgICAgICAgICAgICAgICBpc0luZm9QYWdlID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdldFN1YnNjcmliZWRVc2Vyc193aXRoU2VlbkFuZFVuc2VlbklEcygodXNlcnMsIHN0b3JhZ2UpID0+IHtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh1c2VycykuZmlsdGVyKHggPT4geCAhPT0gJ290aGVyJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGV4dGVuc2lvblNheXNOb1N1YnNjcmlwdGlvbnMsIHRydWUpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShleHRlbnNpb25TYXlzTm9TdWJzY3JpcHRpb25zKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzUmVkZGl0KSB7XG4gICAgICAgICAgICAgICAgcmVkZGl0TW9kaWZpY2F0aW9ucyhzdG9yYWdlLm90aGVyX3N1YnNjcmlwdGlvbnMpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldmRkaXRNb2RpZmljYXRpb25zKHN0b3JhZ2UsIHVzZXIsIGlzVXNlclBhZ2UsIGlzSW5mb1BhZ2UpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSk7XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==