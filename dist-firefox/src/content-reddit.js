!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=314)}({1:function(e,t,n){"use strict";n.r(t),n.d(t,"INTERVAL_DEFAULT",function(){return u}),n.d(t,"MAX_SYNC_STORAGE_ITEMS_PER_OBJECT",function(){return m}),n.d(t,"MAX_SYNC_STORAGE_CHANGES",function(){return g}),n.d(t,"MAX_OTHER_SUBSCRIPTIONS",function(){return l}),n.d(t,"REMOVED",function(){return d}),n.d(t,"APPROVED",function(){return f}),n.d(t,"LOCKED",function(){return h}),n.d(t,"UNLOCKED",function(){return p}),n.d(t,"EDITED",function(){return A}),n.d(t,"DELETED",function(){return b}),n.d(t,"getObjectNamesForThing",function(){return _}),n.d(t,"markEverythingAsSeen",function(){return k}),n.d(t,"markThingAsSeen",function(){return O}),n.d(t,"setStorageUpdateBadge",function(){return j}),n.d(t,"markIDsAsSeenIfSubscribed",function(){return T}),n.d(t,"subscribeId",function(){return S}),n.d(t,"unsubscribeId",function(){return P}),n.d(t,"getSubscribedIds",function(){return I}),n.d(t,"subscribeUser",function(){return C}),n.d(t,"unsubscribeUser",function(){return D}),n.d(t,"initStorage",function(){return R}),n.d(t,"getSubscribedUsers_withSeenAndUnseenIDs",function(){return M}),n.d(t,"getSubscribedUsers_withUnseenIDs",function(){return $}),n.d(t,"getUnseenIDs_thing",function(){return L}),n.d(t,"getIDs_thing",function(){return F}),n.d(t,"getLocalStorageItems",function(){return N}),n.d(t,"saveLocalStorageItems",function(){return U}),n.d(t,"addLocalStorageItems",function(){return q}),n.d(t,"getItemFromLocalStorage",function(){return B}),n.d(t,"getAllChanges",function(){return V}),n.d(t,"getOptions",function(){return G}),n.d(t,"saveOptions",function(){return z});var r=n(2),o=n(3),i=n.n(o);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=1,m=130,g=100,l=100,d=1,f=2,h=3,p=4,A=5,b=6,v={changes:[],removed:{},approved:{},locked:{},unlocked:{}},y=function(e,t,n){return n?e+"_u_"+t:e+"_"+t},x=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object.keys(v).forEach(function(r){e[y(r,t,n)]=v[r]})},_=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={};return Object.keys(v).forEach(function(r){n[r]=y(r,e,t)}),n},w=function(e){var t={};return x(t,e,!0),t},k=function(){return i.a.storage.sync.get(null).then(function(e){return Object.keys(e.user_subscriptions).forEach(function(t){O(e,t,!0)}),O(e,"other",!1),j(e)})},O=function(e,t,n){var r=_(t,n);delete r.changes;var o=[];Object.values(r).forEach(function(e){o.push(e)}),o.forEach(function(t){Object.values(e[t]).forEach(function(e){e.u=!1})})},j=function(e){return i.a.storage.sync.set(e).then(function(e){return i.a.runtime.sendMessage({action:"update-badge"})})},E=function(e,t,n,o,i){var s=e[t[n]];Object.keys(o).forEach(function(e){e in s?s[e].u=!1:i&&(s[e]=new r.ItemForStorage(o[e],!1))})},T=function(e,t,n,r,o,i,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(){},c=_(t,n);delete c.changes;var u=e.user_subscriptions[t];!u&&n||(E(e,c,"removed",r,n),E(e,c,"approved",o,n),E(e,c,"locked",i,n),E(e,c,"unlocked",s,n),chrome.storage.sync.set(e,a))},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n="other_subscriptions";chrome.storage.sync.get(n,function(o){o[n][e]={t:Math.floor((new Date).getTime()/1e3)};var i=Object(r.trimDict_by_numberValuedAttribute)(o[n],l,"t");chrome.storage.sync.set(c({},n,i),t)})},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n="other_subscriptions",r=_("other",!1);delete r.changes,chrome.storage.sync.get(Object.values(r).concat(n),function(o){delete o[n][e],Object.values(r).forEach(function(t){e in o[t]&&delete o[t][e]}),chrome.storage.sync.set(o,function(){chrome.runtime.sendMessage({action:"update-badge"},t)})})},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t="other_subscriptions";chrome.storage.sync.get(t,function(n){e(Object.keys(n[t]))})},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=w(e);chrome.storage.sync.get("user_subscriptions",function(o){var i=o.user_subscriptions;e in i?n("already subscribed to this user"):Object.keys(i).length<5?(i[e]=!0,chrome.storage.sync.set(a({user_subscriptions:i},r),t)):n("maximum number of subscriptions reached")})},D=function(e,t){var n=Object.keys(w(e));chrome.storage.sync.get("user_subscriptions",function(r){var o=r.user_subscriptions;delete o[e],chrome.storage.sync.set({user_subscriptions:o},function(){chrome.storage.sync.remove(n,function(){var n=y("items",e,!0);chrome.runtime.sendMessage({action:"update-badge"}),chrome.storage.local.remove(n,t)})})})},R=function(e){chrome.storage.sync.get(null,function(t){var n;0===Object.keys(t).length?chrome.storage.sync.set((x(n={user_subscriptions:{},other_subscriptions:{},options:{interval:u,custom_clientid:"",removal_status:{track:!0,notify:!0},lock_status:{track:!0,notify:!0},monitor_quarantined:!1},last_check:null,last_check_quarantined:null},"other",!1),n),e):e()})},M=function(e){chrome.storage.sync.get(null,function(t){var n=Object.keys(t.user_subscriptions),r={};n.forEach(function(e){r[e]=F(e,!0,t)}),r.other=F("other",!1,t),e(r,t)})},$=function(e){chrome.storage.sync.get(null,function(t){var n=Object.keys(t.user_subscriptions),r={};n.forEach(function(e){r[e]=L(e,!0,t)}),r.other=L("other",!1,t),e(r)})},L=function(e,t,n){return F(e,t,n).unseen},F=function(e,t,n){var r=n.options.removal_status.track,o=n.options.lock_status.track,i={},s={},a=[],c=_(e,t);return r&&a.push(c.removed,c.approved),o&&a.push(c.locked,c.unlocked),a.forEach(function(e){Object.keys(n[e]).forEach(function(t){n[e][t].u?i[t]=!0:s[t]=!0})}),{unseen:Object.keys(i),seen:Object.keys(s)}},N=function(e,t){var n=y("items",e,t);return i.a.storage.local.get(c({},n,{})).then(function(e){return e[n]})},U=function(e,t,n){var r=y("items",e,t);return i.a.storage.local.set(c({},r,n))},q=function(e,t,n){var r=y("items",t,n);return chrome.storage.local.get(c({},r,{}),function(t){var n=t[r];Object.keys(e).forEach(function(t){n[t]=e[t]});var o=n;return Object.keys(n).length>500&&(o=trimDictOfItems_by_utcAttribute(n,500,"o")),i.a.storage.local.set(c({},r,o))})},B=function(e,t,n,o){var i=y("items",e,t);return i in o&&n in o[i]?new r.LocalStorageItem({object:o[i][n]}):""},V=function(e){chrome.storage.sync.get("user_subscriptions",function(t){var n=[y("changes","other",!1)],r={changes_other:"other"};Object.keys(t.user_subscriptions).forEach(function(e){var t=y("changes",e,!0);n.push(t),r[t]=e}),chrome.storage.sync.get(n,function(t){var o={};n.forEach(function(e){e in t&&t[e].length&&(o[r[e]]=t[e])}),e(o)})})},G=function(e){return i.a.storage.sync.get(["user_subscriptions","other_subscriptions","options"]).then(function(t){var n=Object.keys(t.user_subscriptions),r=Object.keys(t.other_subscriptions),o=t.options;return e(n,r,o)}).catch(console.log)},z=function(e,t,n,r,o,i,s,a,c){chrome.storage.sync.set({options:{interval:e,custom_clientid:t,removal_status:{track:n,notify:r},lock_status:{track:o,notify:i},hide_subscribe:s,monitor_quarantined:a}},c)}},2:function(e,t,n){"use strict";n.r(t),n.d(t,"ALARM_NAME",function(){return a}),n.d(t,"createTab",function(){return c}),n.d(t,"getFullIDsFromURL",function(){return u}),n.d(t,"getFullIDsFromPath",function(){return l}),n.d(t,"reformatRedditText",function(){return d}),n.d(t,"isRemovedItem",function(){return f}),n.d(t,"isComment",function(){return h}),n.d(t,"isRemovedComment",function(){return p}),n.d(t,"isUserDeletedComment",function(){return A}),n.d(t,"isUserDeletedPost",function(){return b}),n.d(t,"isUserDeletedItem",function(){return v}),n.d(t,"isRemovedPost",function(){return y}),n.d(t,"trimDict_by_numberValuedAttribute",function(){return x}),n.d(t,"sortDict_by_numberValuedAttribute",function(){return _}),n.d(t,"ItemForStorage",function(){return w}),n.d(t,"ChangeForStorage",function(){return k}),n.d(t,"LocalStorageItem",function(){return O}),n.d(t,"setAlarm",function(){return j}),n.d(t,"alphaLowerSort",function(){return E}),n.d(t,"goToOptions",function(){return T}),n.d(t,"showError",function(){return S}),n.d(t,"pprint",function(){return P}),n.d(t,"getPrettyTimeLength",function(){return I}),n.d(t,"getPrettyDate",function(){return C}),n.d(t,"createNotification",function(){return D}),n.d(t,"updateBadgeUnseenCount",function(){return R});var r=n(1);n(3);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var a="notifyme",c=function(e){chrome.tabs.create({url:e},function(t){t?chrome.windows.update(t.windowId,{focused:!0}):chrome.windows.create({url:e},function(e){chrome.windows.update(e.id,{focused:!0})})})},u=function(e){var t=e.replace(/https:\/\/[^/]*re(ve)?ddit.com/,"");return l(t)},m=/^\/(v|r|user)\/([^/]+)\/comments\/([^/]+)\/[^/]*(?:\/([^/?&#]+))?/,g=/^\/(?:user|y|u)\/([^/?&#]+)\/?/,l=function(e){var t=void 0,n=void 0,r=void 0,o=void 0,i=e.match(m),s=e.match(g);i?("user"===i[1]?r=i[2]:o=i[2],i[3]&&(t="t3_"+i[3]),i[4]&&(n="t1_"+i[4])):s&&(r=s[1]);return[t,n,r,o]},d=function(e){return e.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/\s+/g," ").substr(0,300)},f=function(e){return h(e.name)?p(e):y(e)},h=function(e){return"t1"===e.substr(0,2)},p=function(e){return("[removed]"===e.body.replace(/\\/g,"")||"[deleted]"===e.body.replace(/\\/g,""))&&"[deleted]"===e.author.replace(/\\/g,"")},A=function(e){return"[deleted]"===e.body.replace(/\\/g,"")&&"[deleted]"===e.author.replace(/\\/g,"")},b=function(e){return!e.is_robot_indexable&&"[deleted]"===e.author.replace(/\\/g,"")},v=function(e){return h(e.name)?A(e):b(e)},y=function(e){return!e.is_robot_indexable},x=function(e,t,n){var r=_(e,n).slice(0,t),o={};return r.forEach(function(e){o[e[0]]=e[1]}),o},_=function(e,t){var n=Object.keys(e).map(function(t){return[t,e[t]]});return n.sort(function(e,n){return n[1][t]-e[1][t]}),n},w=function(){function e(t,n){o(this,e),this.c=t,this.u=n}return s(e,[{key:"getCreatedUTC",value:function(){return this.c}},{key:"getUnseen",value:function(){return this.u}}]),e}(),k=function(){function e(t){var n=t.id,r=void 0===n?null:n,i=t.observed_utc,s=void 0===i?null:i,a=t.change_type,c=void 0===a?null:a,u=t.object,m=void 0===u?null:u;o(this,e),m?(this.i=m.i,this.o=m.o,this.g=m.g):(this.i=r,this.o=s,this.g=c)}return s(e,[{key:"getID",value:function(){return this.i}},{key:"getObservedUTC",value:function(){return this.o}},{key:"getChangeType",value:function(){switch(this.g){case r.REMOVED:return"mod removed";case r.DELETED:return"user deleted";case r.APPROVED:return"approved";case r.LOCKED:return"locked";case r.UNLOCKED:return"unlocked";case r.EDITED:return"edited"}}}]),e}(),O=function(){function e(t){var n=t.item,r=void 0===n?null:n,i=t.observed_utc,s=void 0===i?null:i,a=t.object,c=void 0===a?null:a;if(o(this,e),c)this.t=c.t,this.o=c.o,this.c=c.c;else{var u="";u=h(r.name)?d(r.body):r.title,this.t=u,this.o=s,this.c=r.created_utc}}return s(e,[{key:"setText",value:function(e){this.t=d(e)}},{key:"getText",value:function(){return this.t}},{key:"getObservedUTC",value:function(){return this.o}},{key:"getCreatedUTC",value:function(){return this.c}}]),e}();function j(e){chrome.alarms.clear(a),chrome.alarms.create(a,{delayInMinutes:1,periodInMinutes:e})}function E(e,t){var n=e.toLowerCase(),r=t.toLowerCase();return n<r?-1:n>r?1:0}function T(){chrome.runtime.openOptionsPage?(chrome.runtime.openOptionsPage(),window.close()):window.open(chrome.runtime.getURL("/src/options.html"))}function S(e,t){$('<div class="rr-error">'+e+"</div>").appendTo(t).delay(2400).fadeTo(400,0,function(){$(this).remove()})}function P(e){console.log(JSON.stringify(e,null,"\t"))}var I=function(e){var t=[[60,"second","seconds"],[60,"minute","minutes"],[24,"hour","hours"],[7,"day","days"],[365/12/7,"week","weeks"],[12,"month","months"],[10,"year","years"],[10,"decade","decades"],[10,"century","centuries"],[10,"millenium","millenia"]];if(e<60)return e+" seconds";for(var n=e,r=0;r<t.length;r++){var o=t[r][0],i=t[r][1],s=t[r][2];if(n<o){var a=n-Math.floor(n),c=Math.round(a*t[r-1][0]);if(t[r-1][0]===c&&(n+=1,c=0),(Math.floor(n)>1||0==Math.floor(n))&&(i=s),r>1&&c>0){var u=t[r-1][1];c>1&&(u=t[r-1][2]),i+=", "+String(c)+" "+u}return String(Math.floor(n))+" "+i}n/=o}},C=function(e){var t=Math.floor((new Date).getTime()/1e3)-e;return I(t)+" ago"},D=function(e){var t=e.notificationId,n=e.title,r=e.message;location.protocol.match(/^http/)?chrome.runtime.sendMessage({action:"create-notification",options:{notificationId:t,title:n,message:r}}):chrome.notifications.create(t,{type:"basic",iconUrl:"/icons/128.png",title:n,message:r})},R=function(){location.protocol.match(/^http/)?chrome.runtime.sendMessage({action:"update-badge"}):Object(r.getSubscribedUsers_withUnseenIDs)(function(e){var t=0;Object.values(e).forEach(function(e){t+=e.length});var n=t.toString();0==t&&(n=""),chrome.browserAction.setBadgeBackgroundColor({color:"red"}),chrome.browserAction.setBadgeText({text:n})})}},29:function(e,t,n){"use strict";n.r(t),n.d(t,"lookupItemsByID",function(){return g}),n.d(t,"lookupItemsByUser",function(){return p}),n.d(t,"handleFetchErrors",function(){return A}),n.d(t,"getRedditData",function(){return b}),n.d(t,"getRedditToken",function(){return v}),n.d(t,"getAuth",function(){return y}),n.d(t,"getLocalAuth",function(){return x}),n.d(t,"getCookie",function(){return _}),n.d(t,"getLocalOrAppAuth",function(){return k}),n.d(t,"getLoggedinUser",function(){return O});var r=n(1),o=n(3),i=n.n(o);function s(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={id:e,raw_json:1},i="?"+Object.keys(o).map(function(e){return"".concat(e,"=").concat(o[e])}).join("&");return h.apply(void 0,m(w("api/info",i,t,r)).concat([n]))},l={name:"reddit_session",url:"https://reddit.com"},d=["name","value","domain","path","secure","httpOnly","storeId"],f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://reddit.com";if(!e)return e;var n=Object.keys(e).filter(function(e){return d.includes(e)}).reduce(function(t,n){return c({},t,u({},n,e[n]))},{});return n.url=t,n},h=function(){var e,t=(e=regeneratorRuntime.mark(function e(t,n){var r,o,s,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.next=3,i.a.cookies.set({domain:"reddit.com",url:"https://reddit.com",name:"_options",value:"{%22pref_quarantine_optin%22:true}"});case 3:if(!r){e.next=12;break}return e.t0=f,e.next=7,i.a.cookies.get(l);case 7:if(e.t1=e.sent,!(o=(0,e.t0)(e.t1))){e.next=12;break}return e.next=12,i.a.cookies.remove(l);case 12:if(n||(n={}),n.cache="reload",s=fetch(t,n).then(A).then(b).catch(console.log),!o){e.next=18;break}return e.next=18,i.a.cookies.set(o);case 18:return e.abrupt("return",s);case 19:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)})});return function(e,n){return t.apply(this,arguments)}}(),p=function(e,t,n,r,o,i,s){var a={limit:100,sort:n,raw_json:1};t&&(a.after=t),r&&(a.t=r);var c="user/".concat(e,"/overview.json"),u="?"+Object.keys(a).map(function(e){return"".concat(e,"=").concat(a[e])}).join("&");return h.apply(void 0,m(w(c,u,s,i)).concat([o]))},A=function(e){if(!e.ok)throw Error(e.statusText);return e.json()},b=function(e){if(!e||!e.data||!e.data.children)throw Error("reddit data is not defined");return e.data.children},v=function(e){if(!e||!e.access_token)throw Error("access token is not defined");return e.access_token},y=function(){return Object(r.getOptions)(function(e,t,n){var r="SEw1uvRd6kxFEw";if(n.custom_clientid&&"testing"===(r=n.custom_clientid))return"none";var o={headers:{Authorization:"Basic ".concat(btoa("".concat(r,":"))),"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},method:"POST",body:"grant_type=".concat(encodeURIComponent("https://oauth.reddit.com/grants/installed_client"),"&device_id=DO_NOT_TRACK_THIS_DEVICE")};return fetch("https://www.reddit.com/api/v1/access_token",o).then(A).then(v).then(function(e){return{headers:{Authorization:"bearer ".concat(e)}}}).catch(console.log)})},x=function(){return fetch("https://mod.reddit.com/mail/all").then(function(e){_({url:"https://mod.reddit.com",name:"token"}).then(function(e){if(e){var t=new RegExp("[^A-Za-z0-9+/].*?$"),n=e.value.replace(t,""),r=atob(n),o=JSON.parse(r);return"accessToken"in o&&o.accessToken?{headers:{Authorization:"bearer ".concat(o.accessToken)}}:null}return null})})},_=function(e){var t=e.url,n=e.name;return location.protocol.match(/^http/)?i.a.runtime.sendMessage({action:"get-cookie",options:{url:t,name:n}}).then(function(e){return e.cookie}):i.a.cookies.get({url:t,name:n})},w=function(e,t,n,r){if(n&&"none"!==n)return[(r?"https://ored.reveddit.com/":"https://oauth.reddit.com/")+e+t,n];var o=(r?"https://wred.reveddit.com/":"https://www.reddit.com/")+e;return"api/info"===e&&(o+=".json"),[o+=t]},k=function(){return x().then(function(e){return e||y()}).catch(console.log)},O=function(){return fetch("https://www.reddit.com/api/me.json").then(A).then(j).catch(console.log)},j=function(e){if(!e||!e.data||!e.data.name)throw Error("reddit username is not defined");return e.data.name}},3:function(e,t,n){var r,o,i;o=[e],void 0===(i="function"==typeof(r=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const t="The message port closed before a response was received.",n="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");const o=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(e.runtime.lastError):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},i=e=>1==e?"argument":"arguments",s=(e,t,n)=>new Proxy(t,{apply:(t,r,o)=>n.call(r,e,...o)});let a=Function.call.bind(Object.prototype.hasOwnProperty);const c=(e,t={},n={})=>{let r=Object.create(null),u={has:(t,n)=>n in e||n in r,get(u,m,g){if(m in r)return r[m];if(!(m in e))return;let l=e[m];if("function"==typeof l)if("function"==typeof t[m])l=s(e,e[m],t[m]);else if(a(n,m)){let t=((e,t)=>(function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise((i,s)=>{if(t.fallbackToNoCallback)try{n[e](...r,o({resolve:i,reject:s},t))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, `+"falling back to call it without a callback: ",o),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,i()}else t.noCallback?(n[e](...r),i()):n[e](...r,o({resolve:i,reject:s},t))})}))(m,n[m]);l=s(e,e[m],t)}else l=l.bind(e);else{if("object"!=typeof l||null===l||!a(t,m)&&!a(n,m))return Object.defineProperty(r,m,{configurable:!0,enumerable:!0,get:()=>e[m],set(t){e[m]=t}}),l;l=c(l,t[m],n[m])}return r[m]=l,l},set:(t,n,o,i)=>(n in r?r[n]=o:e[n]=o,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},m=Object.create(e);return new Proxy(m,u)},u=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}});let m=!1;const g=new class extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}(e=>"function"!=typeof e?e:function(t,r,o){let i,s,a=!1,c=new Promise(e=>{i=function(t){m||(console.warn(n,(new Error).stack),m=!0),a=!0,e(t)}});try{s=e(t,r,i)}catch(e){s=Promise.reject(e)}const u=!0!==s&&(e=>e&&"object"==typeof e&&"function"==typeof e.then)(s);if(!0!==s&&!u&&!a)return!1;const g=e=>{e.then(e=>{o(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",o({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})};return g(u?s:c),!0}),l=(n,r,o,...s)=>{if(s.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${i(r.minArgs)} for ${n}(), got ${s.length}`);if(s.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${i(r.maxArgs)} for ${n}(), got ${s.length}`);return new Promise((n,r)=>{const i=(({reject:n,resolve:r},o)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(e.runtime.lastError):o&&o.__mozWebExtensionPolyfillReject__?n(new Error(o.message)):r(o)}).bind(null,{resolve:n,reject:r});s.push(i),o.sendMessage(...s)})},d={runtime:{onMessage:u(g),onMessageExternal:u(g),sendMessage:l.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:l.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},f={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{networkPredictionEnabled:f,webRTCIPHandlingPolicy:f},services:{passwordSavingEnabled:f},websites:{hyperlinkAuditingEnabled:f,referrersEnabled:f}},c(e,d,r)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");e.exports=r(chrome)}else e.exports=browser})?r.apply(t,o):r)||(e.exports=i)},314:function(e,t,n){"use strict";n.r(t),n.d(t,"redditModifications",function(){return g});var r=n(29),o=n(2),i=n(64),s=n(3),a=n.n(s);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u=/^t1_.+/,m=/^t3_.+/,g=function(e,t,n){var r=null!==document.querySelector("#SHORTCUT_FOCUSABLE_DIV");if(l(r,n),!t)if(r){p($(".Comment"),e),$(document).arrive(".Comment",function(t){p([t],e)});b($(".Post"),e),$(document).arrive(".Post",function(t){b([t],e)});$(document).arrive('.Post div[data-test-id="post-content"]',function(e){f(e,n)})}else{var o=".thing.link, .thing.comment";v($(o),e),$(document).arrive(o,function(t){v([t],e)})}},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".Post",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Object(o.getFullIDsFromPath)(window.location.pathname),s=c(i,4),u=s[0],m=s[1];s[2],s[3];e&&m&&0===Object.keys(r).length?a.a.runtime.sendMessage({action:"get-reddit-items-by-id",ids:[u],monitor_quarantined:t}).then(function(t){t&&t.items&&t.items.length&&(r=t.items[0].data,d({isNewReddit:e,newRedditTarget:n,postData:r}))}):d({isNewReddit:e,newRedditTarget:n,postData:r})},d=function(e){var t=e.isNewReddit,n=e.newRedditTarget,r=void 0===n?".Post":n,i=e.postData,s=void 0===i?{}:i,u=c(Object(o.getFullIDsFromPath)(window.location.pathname),4),m=u[0],g=(u[1],u[2],u[3]),l=void 0,d=void 0;if(m&&($('meta[name="robots"][content="noindex,nofollow"]').length||"is_robot_indexable"in s&&!s.is_robot_indexable)){var f=s.author||$(".link .top-matter .author").first().text()||$('.link .top-matter .tagline span:contains("[deleted]")').text()||$('.Post span:contains("u/[deleted]")').first().text();"[deleted]"!==f&&"u/[deleted]"!==f||"moderator"===s.removed_by_category?(l="rev-mod-removed",d="This post is unapproved. It is either waiting to be approved, or it was removed by someone or some robot."):(l="rev-user-deleted",d="This post was either deleted by the person who posted it, or removed by a moderator and then deleted by the person who posted it.")}if(d){var h=" It is not currently visible in r/".concat(g," and may not appear in web search results."),p='<div class="rev-from"><a id="'.concat("goto-options-from-content",'" href="#">Reveddit Real-Time</a> note</div>'),A=window.location.pathname.split("/",6).join("/"),b='<p><a href="https://www.reveddit.com'.concat(A,'/">View the post on Reveddit.com</a></p>');if(t){d+=" More details may appear in a message above from reddit.";var v=$('<div class="rev-new-reddit-message-wrap '.concat(l,'">').concat(p,"</div>")),y=$('<div class="rev-new-reddit-message-content"></div>'),x=$('<div class="rev-new-reddit-message-content-description">'.concat(d).concat(h,"</div>"));y.append(x),y.append(b),v.append(y),$(r).first().after(v)}else{d+=' View the post <a href="https://new.reddit.com'.concat(A,'/">on new reddit</a> for more details.'),$('<div class="reddit-infobar md-container-small '.concat(l,'">')).append(p).append('<div class="md"><p>'.concat(d).concat(h,"</p>").concat(b,"</div>")).prependTo('div.content[role="main"]')}$("#".concat("goto-options-from-content")).click(function(){return a.a.runtime.sendMessage({action:"open-options"})})}},f=function(e,t){var n=c(Object(o.getFullIDsFromPath)(window.location.pathname),4),i=n[0];n[1],n[2],n[3];Object(r.getAuth)().then(function(e){return Object(r.lookupItemsByID)([i],e,t)}).then(function(n){if(n){var r=n[0].data;l(!0,t,e.parentNode,r)}})},h=function(e,t){var n=e.id;return n&&n.match(t)?n:(n=$(e).attr("class").split(/\s+/).filter(function(e){return e.match(t)})[0])&&n.match(t)?n:(n=e.parentNode.id)&&n.match(t)?n:n=$(e).closest("div[tabindex=-1]").attr("id")},p=function(e,t){$(e).each(function(e,n){var r=$(n).closest(".Comment")[0],o=h(r,u);if(o&&o.match(u)){var s=A(r,"save"),a=s.parent();s.length||(a=(s=A(r,"share")).parent(),s.length||(s=$("<button>...</button>"),a=r));var c=s.clone(),m="",g=r.querySelector(".RichTextJSON-root");g&&(m=g.textContent),o in t?Object(i.setTextAndFunction_unsubscribe)(o,c,m).appendTo(a):Object(i.setTextAndFunction_subscribe)(o,c,m).appendTo(a)}})},A=function(e,t){return $(e).find('button:equalsi("'.concat(t,'")')).first()},b=function(e,t){$(e).each(function(e,n){var r=h(n,m);if(r&&r.match(m)){var o=$(n).find('button :equalsi("save")').first().parent(),s=o.clone();s.find("i.icon").first().parent().remove();var a=o.parent().children("button").last();r in t?Object(i.setTextAndFunction_unsubscribe)(r,s).insertAfter(a):Object(i.setTextAndFunction_subscribe)(r,s).insertAfter(a)}})},v=function(e,t){$(e).each(function(e,n){var r=n.getAttribute("data-fullname");if(!r){var s=c(Object(o.getFullIDsFromPath)(n.getAttribute("data-permalink")||""),4),a=s[0],u=s[1];s[2],s[3];u?r=u:a&&(r=a)}if(r){var m=n.querySelector("ul.buttons");if(m){var g="",l=n.querySelector(".usertext-body");l&&r.match(/^t1_/)&&(g=l.textContent);var d=Object(i.setTextAndFunction_subscribe)(r,$('<a href="">')[0],g);r in t&&(d=Object(i.setTextAndFunction_unsubscribe)(r,$('<a href="">')[0],g)),$(m).append(d.wrap("<li>").parent())}}})}},64:function(e,t,n){"use strict";n.r(t),n.d(t,"setTextAndFunction_subscribe",function(){return m}),n.d(t,"setTextAndFunction_unsubscribe",function(){return g});var r=n(1),o=n(2),i=n(65);n(3);function s(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)})}}var c="unsubscribe-rev",u="subscribe-rev";location.hostname.match(/reveddit\.com$/)&&(c="unsubscribe",u="subscribe");var m=function(e,t,n){return $(t).text(u).off("click").click(function(t){return l(e,t.target,n)})},g=function(e,t,n){return $(t).text(c).off("click").click(function(t){return d(e,t.target,n)})},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object(r.subscribeId)(e,a(regeneratorRuntime.mark(function s(){return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return g(e,t,n),s.next=3,Object(i.b)(e,window.location.href);case 3:n&&Object(r.getLocalStorageItems)("other",!1).then(function(t){var i=t[e];if(i){var s=new o.LocalStorageItem({object:i});s.setText(n),t[e]=s,Object(r.saveLocalStorageItems)("other",!1,t)}});case 4:case"end":return s.stop()}},s)}))),!1},d=function(e,t,n){return Object(r.unsubscribeId)(e,function(){m(e,t,n)}),!1}},65:function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return h});var r=n(29),o=n(1),i=n(2),s=n(3),a=n.n(s);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){u(i,r,o,s,a,"next",e)}function a(e){u(i,r,o,s,a,"throw",e)}s(void 0)})}}var g=0,l=1,d=2,f=function(e,t){var n=g;return t.match(/^https:\/\/www.reveddit.com/)&&(n=l),chrome.storage.sync.get(null,function(t){Object(r.getAuth)().then(function(r){return A([e],"other",!1,r,t,n,{})})})},h=function(){chrome.storage.sync.get(null,function(e){var t=Object.keys(e.user_subscriptions),n=Object.keys(e.other_subscriptions);if(t.length||n.length){var o=Math.floor(new Date/1e3);e.options.monitor_quarantined||e.last_check_quarantined&&!(o-e.last_check_quarantined>432e3)||(e.tempVar_monitor_quarantined=!0),Object(r.getAuth)().then(function(n){return function(e,t){var n=Object.keys(t.other_subscriptions);n.length&&A(n,"other",!1,e,t,d)}(n,e),p(t,n,e)}).then(function(){var t={last_check:o};(e.tempVar_monitor_quarantined||e.options.monitor_quarantined)&&(t.last_check_quarantined=o),e.tempVar_quarantined_content_found&&(t.options=e.options,t.options.monitor_quarantined=!0),chrome.storage.sync.set(t)})}})},p=function(){var e=m(regeneratorRuntime.mark(function e(t,n,o){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.length){e.next=3;break}return i=t[0],e.abrupt("return",Object(r.lookupItemsByUser)(i,"","new","",o.options.monitor_quarantined,o.tempVar_monitor_quarantined,n).then(function(e){if(e){var r=[],s={};return e.forEach(function(e){r.push(e.data.name),s[e.data.name]=e.data,e.data.quarantine&&(o.tempVar_quarantined_content_found=!0)}),A(r,i,!0,n,o,d,s).then(function(){return p(t.slice(1),n,o)})}}));case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}();var A=function(){var e=m(regeneratorRuntime.mark(function e(t,n,s,u,m,g){var l,d,f,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=h.length>6&&void 0!==h[6]?h[6]:{},f=m.options.monitor_quarantined,d=location.protocol.match(/^http/)?a.a.runtime.sendMessage({action:"get-reddit-items-by-id",ids:t,monitor_quarantined:f}):Object(r.lookupItemsByID)(t,u,f,m.tempVar_monitor_quarantined),e.abrupt("return",d.then(function(e){if(e){var t=Array.isArray(e)?e:e.items;if(t){var r=m.options.removal_status,a=m.options.lock_status,u=Object(o.getObjectNamesForThing)(n,s),d=m[u.removed]||{},f=m[u.approved]||{},h=m[u.locked]||{},p=m[u.unlocked]||{},A=m[u.changes]||[];s||(l={});var v=[],y=[],x=[],_=[];t.forEach(function(e){var t=e.data;s||(l[t.name]=t),Object(i.isRemovedItem)(t)?v.push(t.name):y.push(t.name),t.locked?x.push(t.name):_.push(t.name)});var w={},k=[],O=0;return Object(o.getLocalStorageItems)(n,s).then(function(e){var t;return r.track&&(O+=b(v,o.REMOVED,"mod removed",d,y,o.APPROVED,"approved",f,A,l,r.notify,w,k,s,g,e)),a.track&&(O+=b(x,o.LOCKED,"locked",h,_,o.UNLOCKED,"unlocked",p,A,l,a.notify,w,k,s,g,e)),O&&k.length&&Object(i.createNotification)({notificationId:n,title:n,message:"".concat(O," new [").concat(k.join(", "),"] actions, click to view")}),chrome.storage.sync.set((c(t={},u.removed,Object(i.trimDict_by_numberValuedAttribute)(d,o.MAX_SYNC_STORAGE_ITEMS_PER_OBJECT,"c")),c(t,u.approved,Object(i.trimDict_by_numberValuedAttribute)(f,o.MAX_SYNC_STORAGE_ITEMS_PER_OBJECT,"c")),c(t,u.locked,Object(i.trimDict_by_numberValuedAttribute)(h,o.MAX_SYNC_STORAGE_ITEMS_PER_OBJECT,"c")),c(t,u.unlocked,Object(i.trimDict_by_numberValuedAttribute)(p,o.MAX_SYNC_STORAGE_ITEMS_PER_OBJECT,"c")),c(t,u.changes,A.slice(-o.MAX_SYNC_STORAGE_CHANGES)),t),function(){return Object(i.updateBadgeUnseenCount)(),Object(o.addLocalStorageItems)(w,n,s)})})}}}));case 4:case"end":return e.stop()}},e)}));return function(t,n,r,o,i,s){return e.apply(this,arguments)}}();function b(e,t,n,r,s,a,c,u,m,d,f,h,p,A,b,v){var y=[],x=[],_=[],w=Math.floor(new Date/1e3);e.forEach(function(e){var n=d[e];if(A||v[e]||(h[e]=new i.LocalStorageItem({item:n,observed_utc:w})),!(e in r)){var s=!0;if((b===g&&t!==o.REMOVED||b===l)&&(s=!1),r[e]=new i.ItemForStorage(n.created_utc,s),delete u[e],s){var a=t;Object(i.isUserDeletedItem)(n)?(a=o.DELETED,_.push(e)):y.push(e),m.push(new i.ChangeForStorage({id:e,observed_utc:w,change_type:a}))}A&&(h[e]=new i.LocalStorageItem({item:n,observed_utc:w}))}}),s.forEach(function(e){var t=d[e];A||v[e]||(h[e]=new i.LocalStorageItem({item:t,observed_utc:w})),e in r?(u[e]=new i.ItemForStorage(t.created_utc,!0),delete r[e],m.push(new i.ChangeForStorage({id:e,observed_utc:w,change_type:a})),x.push(e),h[e]=new i.LocalStorageItem({item:t,observed_utc:w})):u[e]=new i.ItemForStorage(t.created_utc,!1)});var k=y.length+x.length+_.length;return f&&k&&(y.length&&p.push(n),_.length&&p.push("user deleted"),x.length&&p.push(c)),k}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NyYy9zdG9yYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy9zcmMvY29tbW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9zcmMvcmVxdWVzdHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dlYmV4dGVuc2lvbi1wb2x5ZmlsbC9kaXN0L2Jyb3dzZXItcG9seWZpbGwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NyYy9jb250ZW50LXJlZGRpdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3JjL2NvbnRlbnQtY29tbW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9zcmMvbW9uaXRvcmluZy5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIklOVEVSVkFMX0RFRkFVTFQiLCJNQVhfU1lOQ19TVE9SQUdFX0lURU1TX1BFUl9PQkpFQ1QiLCJNQVhfU1lOQ19TVE9SQUdFX0NIQU5HRVMiLCJNQVhfT1RIRVJfU1VCU0NSSVBUSU9OUyIsIlJFTU9WRUQiLCJBUFBST1ZFRCIsIkxPQ0tFRCIsIlVOTE9DS0VEIiwiRURJVEVEIiwiREVMRVRFRCIsInRyYWNrVHlwZXMiLCJjaGFuZ2VzIiwicmVtb3ZlZCIsImFwcHJvdmVkIiwibG9ja2VkIiwidW5sb2NrZWQiLCJnZXRPYmplY3ROYW1lIiwidHlwZSIsInRoaW5nIiwiaXNVc2VyIiwiYWRkVHJhY2tUeXBlcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImtleXMiLCJmb3JFYWNoIiwiZ2V0T2JqZWN0TmFtZXNGb3JUaGluZyIsIm5hbWVzIiwiZ2V0VXNlckluaXQiLCJ1c2VyIiwicmVzdWx0IiwibWFya0V2ZXJ5dGhpbmdBc1NlZW4iLCJicm93c2VyIiwic3RvcmFnZSIsInN5bmMiLCJ0aGVuIiwidXNlcl9zdWJzY3JpcHRpb25zIiwibWFya1RoaW5nQXNTZWVuIiwic2V0U3RvcmFnZVVwZGF0ZUJhZGdlIiwiZnVsbEtleW5hbWVzIiwidmFsdWVzIiwiZnVsbEtleW5hbWUiLCJwdXNoIiwiaXRlbSIsInUiLCJzZXQiLCJyZXMiLCJydW50aW1lIiwic2VuZE1lc3NhZ2UiLCJhY3Rpb24iLCJtYXJrU2VlbkZvclN0b3JhZ2VLZXkiLCJzdG9yYWdlX2tleXMiLCJpZHMiLCJpc191c2VyIiwic3RvcmFnZV9pdGVtIiwiaWQiLCJJdGVtRm9yU3RvcmFnZSIsIm1hcmtJRHNBc1NlZW5JZlN1YnNjcmliZWQiLCJyZW1vdmVkX2lkcyIsImFwcHJvdmVkX2lkcyIsImxvY2tlZF9pZHMiLCJ1bmxvY2tlZF9pZHMiLCJjYWxsYmFjayIsInVzZXJfc3Vic2NyaWJlZCIsImNocm9tZSIsInN1YnNjcmliZUlkIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsImdldFRpbWUiLCJpdGVtc1RvU2F2ZSIsInRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZSIsIl9kZWZpbmVQcm9wZXJ0eSIsInVuc3Vic2NyaWJlSWQiLCJtYWluS2V5Iiwib3RoZXJLZXlzIiwiY29uY2F0IiwiZ2V0U3Vic2NyaWJlZElkcyIsInN1YnNjcmliZVVzZXIiLCJjYWxsYmFja1N1Y2Nlc3MiLCJjYWxsYmFja0Vycm9yIiwidXNlckluaXQiLCJfb2JqZWN0U3ByZWFkIiwidW5zdWJzY3JpYmVVc2VyIiwidXNlcktleXMiLCJyZW1vdmUiLCJ1c2VyS2V5X2xvY2FsU3RvcmFnZSIsImxvY2FsIiwiaW5pdFN0b3JhZ2UiLCJvdGhlcl9zdWJzY3JpcHRpb25zIiwib3B0aW9ucyIsImludGVydmFsIiwiY3VzdG9tX2NsaWVudGlkIiwicmVtb3ZhbF9zdGF0dXMiLCJ0cmFjayIsIm5vdGlmeSIsImxvY2tfc3RhdHVzIiwibW9uaXRvcl9xdWFyYW50aW5lZCIsImxhc3RfY2hlY2siLCJsYXN0X2NoZWNrX3F1YXJhbnRpbmVkIiwiZ2V0U3Vic2NyaWJlZFVzZXJzX3dpdGhTZWVuQW5kVW5zZWVuSURzIiwidXNlcnMiLCJ1c2Vyc193aXRoSURzIiwiZ2V0SURzX3RoaW5nIiwiZ2V0U3Vic2NyaWJlZFVzZXJzX3dpdGhVbnNlZW5JRHMiLCJnZXRVbnNlZW5JRHNfdGhpbmciLCJ0cmFja19yZW1vdmFsIiwidHJhY2tfbG9jayIsInVuc2VlbklEcyIsInNlZW5JRHMiLCJ0eXBlcyIsInVuc2VlbiIsInNlZW4iLCJnZXRMb2NhbFN0b3JhZ2VJdGVtcyIsImtleV9sb2NhbFN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2VJdGVtcyIsInNhdmVMb2NhbFN0b3JhZ2VJdGVtcyIsImFkZExvY2FsU3RvcmFnZUl0ZW1zIiwiaXRlbXMiLCJzdG9yZWRJdGVtcyIsInRyaW1EaWN0T2ZJdGVtc19ieV91dGNBdHRyaWJ1dGUiLCJnZXRJdGVtRnJvbUxvY2FsU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsIkxvY2FsU3RvcmFnZUl0ZW0iLCJnZXRBbGxDaGFuZ2VzIiwia2V5VG9Vc2VyX2xvb2t1cCIsImNoYW5nZXNfb3RoZXIiLCJyZXMyIiwiY2hhbmdlc0J5VXNlciIsImdldE9wdGlvbnMiLCJvdGhlcnMiLCJjb25zb2xlIiwibG9nIiwic2F2ZU9wdGlvbnMiLCJyZW1vdmVkX3RyYWNrIiwicmVtb3ZlZF9ub3RpZnkiLCJsb2NrZWRfdHJhY2siLCJsb2NrZWRfbm90aWZ5IiwiaGlkZV9zdWJzY3JpYmUiLCJBTEFSTV9OQU1FIiwiY3JlYXRlVGFiIiwidXJsIiwidGFicyIsInRhYiIsIndpbmRvd3MiLCJ1cGRhdGUiLCJ3aW5kb3dJZCIsImZvY3VzZWQiLCJ3aW4iLCJnZXRGdWxsSURzRnJvbVVSTCIsInBhdGgiLCJyZXBsYWNlIiwiZ2V0RnVsbElEc0Zyb21QYXRoIiwicmVnZXhfcGMiLCJyZWdleF91c2VyIiwicG9zdElEIiwiY29tbWVudElEIiwic3VicmVkZGl0IiwibWF0Y2hlc19wYyIsIm1hdGNoIiwibWF0Y2hlc191c2VyIiwicmVmb3JtYXRSZWRkaXRUZXh0IiwiYm9keSIsInN1YnN0ciIsImlzUmVtb3ZlZEl0ZW0iLCJpc0NvbW1lbnQiLCJpc1JlbW92ZWRDb21tZW50IiwiaXNSZW1vdmVkUG9zdCIsImF1dGhvciIsImlzVXNlckRlbGV0ZWRDb21tZW50IiwiaXNVc2VyRGVsZXRlZFBvc3QiLCJpc19yb2JvdF9pbmRleGFibGUiLCJpc1VzZXJEZWxldGVkSXRlbSIsImRpY3QiLCJtYXhOdW1JdGVtcyIsIm51bWJlclZhbHVlZEF0dHJpYnV0ZSIsInNob3J0ZW5lZEFycmF5Iiwic29ydERpY3RfYnlfbnVtYmVyVmFsdWVkQXR0cmlidXRlIiwic2xpY2UiLCJuZXdEaWN0IiwiYXJyYXkiLCJtYXAiLCJzb3J0IiwiYSIsImIiLCJjcmVhdGVkX3V0YyIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfY3JlYXRlQ2xhc3MiLCJDaGFuZ2VGb3JTdG9yYWdlIiwiX3JlZiIsIl9yZWYkaWQiLCJfcmVmJG9ic2VydmVkX3V0YyIsIm9ic2VydmVkX3V0YyIsIl9yZWYkY2hhbmdlX3R5cGUiLCJjaGFuZ2VfdHlwZSIsIl9yZWYkb2JqZWN0IiwiZyIsIl9yZWYyIiwiX3JlZjIkaXRlbSIsIl9yZWYyJG9ic2VydmVkX3V0YyIsIl9yZWYyJG9iamVjdCIsInRleHQiLCJ0aXRsZSIsInNldEFsYXJtIiwicGVyaW9kSW5NaW51dGVzIiwiYWxhcm1zIiwiY2xlYXIiLCJkZWxheUluTWludXRlcyIsImFscGhhTG93ZXJTb3J0IiwidGV4dEEiLCJ0b0xvd2VyQ2FzZSIsInRleHRCIiwiZ29Ub09wdGlvbnMiLCJvcGVuT3B0aW9uc1BhZ2UiLCJ3aW5kb3ciLCJjbG9zZSIsIm9wZW4iLCJnZXRVUkwiLCJzaG93RXJyb3IiLCJtZXNzYWdlIiwic2VsZWN0b3IiLCIkIiwiYXBwZW5kVG8iLCJkZWxheSIsImZhZGVUbyIsInBwcmludCIsIm9iaiIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRQcmV0dHlUaW1lTGVuZ3RoIiwic2Vjb25kcyIsInRocmVzaG9sZHMiLCJ0aW1lIiwiZGl2aXNvciIsInRleHRQbHVyYWwiLCJleHRyYSIsInByZXZVbml0VGltZSIsInJvdW5kIiwicmVtYWluVGV4dCIsIlN0cmluZyIsImdldFByZXR0eURhdGUiLCJjcmVhdGVkVVRDIiwiY3JlYXRlTm90aWZpY2F0aW9uIiwiX3JlZjMiLCJub3RpZmljYXRpb25JZCIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJub3RpZmljYXRpb25zIiwiaWNvblVybCIsInVwZGF0ZUJhZGdlVW5zZWVuQ291bnQiLCJ1c2Vyc1Vuc2VlbklEcyIsInRvdGFsIiwidG9TdHJpbmciLCJzZXRCYWRnZUJhY2tncm91bmRDb2xvciIsImNvbG9yIiwic2V0QmFkZ2VUZXh0IiwibG9va3VwSXRlbXNCeUlEIiwiYXV0aCIsIm1vbml0b3JfcXVhcmFudGluZWRfcmVtb3RlIiwicGFyYW1zIiwicmF3X2pzb24iLCJzZWFyY2giLCJrIiwiam9pbiIsImZldGNoX2ZvclJlZGRpdCIsImFwcGx5IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiZ2V0RmV0Y2hQYXJhbXMiLCJjb29raWVEZXRhaWxzX3JlZGRpdFNlc3Npb24iLCJhY2NlcHRhYmxlX3NldENvb2tpZURldGFpbHMiLCJnZXRTZXR0YWJsZUNvb2tpZSIsImNvb2tpZSIsImZpbHRlcmVkIiwiZmlsdGVyIiwiaW5jbHVkZXMiLCJyZWR1Y2UiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZSIsImNvb2tpZV9yZWRkaXRTZXNzaW9uIiwiX2FyZ3MiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImNvb2tpZXMiLCJkb21haW4iLCJ0MCIsInQxIiwic2VudCIsImZldGNoIiwiaGFuZGxlRmV0Y2hFcnJvcnMiLCJnZXRSZWRkaXREYXRhIiwiYWJydXB0Iiwic3RvcCIsIl94IiwiX3gyIiwibG9va3VwSXRlbXNCeVVzZXIiLCJhZnRlciIsInRpbWVTcGFuIiwibGltaXQiLCJyZXNwb25zZSIsIm9rIiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwianNvbiIsImRhdGEiLCJjaGlsZHJlbiIsImdldFJlZGRpdFRva2VuIiwiYWNjZXNzX3Rva2VuIiwiZ2V0QXV0aCIsInVzZV90aGlzX2NsaWVudElEIiwidG9rZW5Jbml0IiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJidG9hIiwiQ29udGVudC1UeXBlIiwibWV0aG9kIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidG9rZW4iLCJnZXRMb2NhbEF1dGgiLCJnZXRDb29raWUiLCJpbnZhbGlkQ2hhciIsIlJlZ0V4cCIsImJhc2U2NENvb2tpZSIsInRva2VuRGF0YSIsImF0b2IiLCJ0b2tlbnMiLCJwYXJzZSIsImFjY2Vzc1Rva2VuIiwiZ2V0TG9jYWxPckFwcEF1dGgiLCJnZXRMb2dnZWRpblVzZXIiLCJnZXRSZWRkaXRVc2VybmFtZSIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsImdldFByb3RvdHlwZU9mIiwiQ0hST01FX1NFTkRfTUVTU0FHRV9DQUxMQkFDS19OT19SRVNQT05TRV9NRVNTQUdFIiwiU0VORF9SRVNQT05TRV9ERVBSRUNBVElPTl9XQVJOSU5HIiwid3JhcEFQSXMiLCJleHRlbnNpb25BUElzIiwiYXBpTWV0YWRhdGEiLCJtaW5BcmdzIiwibWF4QXJncyIsImNsZWFyQWxsIiwiZ2V0QWxsIiwiYm9va21hcmtzIiwiZ2V0Q2hpbGRyZW4iLCJnZXRSZWNlbnQiLCJnZXRTdWJUcmVlIiwiZ2V0VHJlZSIsIm1vdmUiLCJyZW1vdmVUcmVlIiwiYnJvd3NlckFjdGlvbiIsImRpc2FibGUiLCJmYWxsYmFja1RvTm9DYWxsYmFjayIsImVuYWJsZSIsImdldEJhZGdlQmFja2dyb3VuZENvbG9yIiwiZ2V0QmFkZ2VUZXh0IiwiZ2V0UG9wdXAiLCJnZXRUaXRsZSIsIm9wZW5Qb3B1cCIsInNldEljb24iLCJzZXRQb3B1cCIsInNldFRpdGxlIiwiYnJvd3NpbmdEYXRhIiwicmVtb3ZlQ2FjaGUiLCJyZW1vdmVDb29raWVzIiwicmVtb3ZlRG93bmxvYWRzIiwicmVtb3ZlRm9ybURhdGEiLCJyZW1vdmVIaXN0b3J5IiwicmVtb3ZlTG9jYWxTdG9yYWdlIiwicmVtb3ZlUGFzc3dvcmRzIiwicmVtb3ZlUGx1Z2luRGF0YSIsInNldHRpbmdzIiwiY29tbWFuZHMiLCJjb250ZXh0TWVudXMiLCJyZW1vdmVBbGwiLCJnZXRBbGxDb29raWVTdG9yZXMiLCJkZXZ0b29scyIsImluc3BlY3RlZFdpbmRvdyIsImV2YWwiLCJzaW5nbGVDYWxsYmFja0FyZyIsInBhbmVscyIsImRvd25sb2FkcyIsImNhbmNlbCIsImRvd25sb2FkIiwiZXJhc2UiLCJnZXRGaWxlSWNvbiIsInBhdXNlIiwicmVtb3ZlRmlsZSIsInJlc3VtZSIsInNob3ciLCJleHRlbnNpb24iLCJpc0FsbG93ZWRGaWxlU2NoZW1lQWNjZXNzIiwiaXNBbGxvd2VkSW5jb2duaXRvQWNjZXNzIiwiaGlzdG9yeSIsImFkZFVybCIsImRlbGV0ZUFsbCIsImRlbGV0ZVJhbmdlIiwiZGVsZXRlVXJsIiwiZ2V0VmlzaXRzIiwiaTE4biIsImRldGVjdExhbmd1YWdlIiwiZ2V0QWNjZXB0TGFuZ3VhZ2VzIiwiaWRlbnRpdHkiLCJsYXVuY2hXZWJBdXRoRmxvdyIsImlkbGUiLCJxdWVyeVN0YXRlIiwibWFuYWdlbWVudCIsImdldFNlbGYiLCJzZXRFbmFibGVkIiwidW5pbnN0YWxsU2VsZiIsImdldFBlcm1pc3Npb25MZXZlbCIsInBhZ2VBY3Rpb24iLCJoaWRlIiwicGVybWlzc2lvbnMiLCJjb250YWlucyIsInJlcXVlc3QiLCJnZXRCYWNrZ3JvdW5kUGFnZSIsImdldFBsYXRmb3JtSW5mbyIsInJlcXVlc3RVcGRhdGVDaGVjayIsInNlbmROYXRpdmVNZXNzYWdlIiwic2V0VW5pbnN0YWxsVVJMIiwic2Vzc2lvbnMiLCJnZXREZXZpY2VzIiwiZ2V0UmVjZW50bHlDbG9zZWQiLCJyZXN0b3JlIiwiZ2V0Qnl0ZXNJblVzZSIsIm1hbmFnZWQiLCJjYXB0dXJlVmlzaWJsZVRhYiIsImRpc2NhcmQiLCJkdXBsaWNhdGUiLCJleGVjdXRlU2NyaXB0IiwiZ2V0Q3VycmVudCIsImdldFpvb20iLCJnZXRab29tU2V0dGluZ3MiLCJoaWdobGlnaHQiLCJpbnNlcnRDU1MiLCJxdWVyeSIsInJlbG9hZCIsInJlbW92ZUNTUyIsInNldFpvb20iLCJzZXRab29tU2V0dGluZ3MiLCJ0b3BTaXRlcyIsIndlYk5hdmlnYXRpb24iLCJnZXRBbGxGcmFtZXMiLCJnZXRGcmFtZSIsIndlYlJlcXVlc3QiLCJoYW5kbGVyQmVoYXZpb3JDaGFuZ2VkIiwiZ2V0TGFzdEZvY3VzZWQiLCJtYWtlQ2FsbGJhY2siLCJwcm9taXNlIiwibWV0YWRhdGEiLCJjYWxsYmFja0FyZ3MiLCJsYXN0RXJyb3IiLCJyZWplY3QiLCJyZXNvbHZlIiwicGx1cmFsaXplQXJndW1lbnRzIiwibnVtQXJncyIsIndyYXBNZXRob2QiLCJ0YXJnZXQiLCJ3cmFwcGVyIiwiUHJveHkiLCJ0YXJnZXRNZXRob2QiLCJ0aGlzT2JqIiwiYXJncyIsIkZ1bmN0aW9uIiwid3JhcE9iamVjdCIsIndyYXBwZXJzIiwiY2FjaGUiLCJoYW5kbGVycyIsImhhcyIsInByb3h5VGFyZ2V0IiwicHJvcCIsIltvYmplY3QgT2JqZWN0XSIsInJlY2VpdmVyIiwiUHJvbWlzZSIsImNiRXJyb3IiLCJ3YXJuIiwibm9DYWxsYmFjayIsIndyYXBBc3luY0Z1bmN0aW9uIiwiY29uZmlndXJhYmxlIiwiZGVzYyIsIlJlZmxlY3QiLCJkZWxldGVQcm9wZXJ0eSIsIndyYXBFdmVudCIsIndyYXBwZXJNYXAiLCJsaXN0ZW5lciIsImFkZExpc3RlbmVyIiwiaGFzTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImxvZ2dlZFNlbmRSZXNwb25zZURlcHJlY2F0aW9uV2FybmluZyIsIm9uTWVzc2FnZVdyYXBwZXJzIiwiV2Vha01hcCIsImNyZWF0ZUl0ZW0iLCJzdXBlciIsInNlbmRlciIsInNlbmRSZXNwb25zZSIsIndyYXBwZWRTZW5kUmVzcG9uc2UiLCJkaWRDYWxsU2VuZFJlc3BvbnNlIiwic2VuZFJlc3BvbnNlUHJvbWlzZSIsInN0YWNrIiwiZXJyIiwiaXNSZXN1bHRUaGVuYWJsZSIsImlzVGhlbmFibGUiLCJzZW5kUHJvbWlzZWRSZXN1bHQiLCJtc2ciLCJlcnJvciIsIl9fbW96V2ViRXh0ZW5zaW9uUG9seWZpbGxSZWplY3RfXyIsImNhdGNoIiwid3JhcHBlZFNlbmRNZXNzYWdlIiwiYXBpTmFtZXNwYWNlT2JqIiwid3JhcHBlZENiIiwicmVwbHkiLCJzdGF0aWNXcmFwcGVycyIsIm9uTWVzc2FnZSIsIm9uTWVzc2FnZUV4dGVybmFsIiwic2V0dGluZ01ldGFkYXRhIiwicHJpdmFjeSIsIm5ldHdvcmsiLCJuZXR3b3JrUHJlZGljdGlvbkVuYWJsZWQiLCJ3ZWJSVENJUEhhbmRsaW5nUG9saWN5Iiwic2VydmljZXMiLCJwYXNzd29yZFNhdmluZ0VuYWJsZWQiLCJ3ZWJzaXRlcyIsImh5cGVybGlua0F1ZGl0aW5nRW5hYmxlZCIsInJlZmVycmVyc0VuYWJsZWQiLCJpZF9tYXRjaF9jb21tZW50IiwiaWRfbWF0Y2hfcG9zdCIsInJlZGRpdE1vZGlmaWNhdGlvbnMiLCJpc05ld1JlZGRpdCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImlmVGhyZWFkUGFnZV9zaG93UmVtb3ZhbFN0YXR1cyIsImFkZFN1YnNjcmliZUxpbmtzX25ld1JlZGRpdF9jb21tZW50cyIsImFycml2ZSIsImVsZW1lbnQiLCJhZGRTdWJzY3JpYmVMaW5rc19uZXdSZWRkaXRfcG9zdHMiLCJzaG93UmVtb3ZhbFN0YXR1c0ZvclRocmVhZE92ZXJsYXkiLCJhZGRTdWJzY3JpYmVMaW5rc19vbGRSZWRkaXQiLCJuZXdSZWRkaXRUYXJnZXQiLCJwb3N0RGF0YSIsIl9nZXRGdWxsSURzRnJvbVBhdGgiLCJwYXRobmFtZSIsIl9nZXRGdWxsSURzRnJvbVBhdGgyIiwiX3NsaWNlZFRvQXJyYXkiLCJzaG93UmVtb3ZhbFN0YXR1cyIsIl9yZWYkbmV3UmVkZGl0VGFyZ2V0IiwiX3JlZiRwb3N0RGF0YSIsIl9nZXRGdWxsSURzRnJvbVBhdGg0IiwiY2xhc3NOYW1lIiwibWVzc2FnZV8xIiwiZmlyc3QiLCJyZW1vdmVkX2J5X2NhdGVnb3J5IiwibWVzc2FnZV8yIiwiZnJvbSIsInBvc3RfcGF0aCIsInNwbGl0IiwicmV2ZWRkaXRfbGluayIsIiRodG1sX3dyYXAiLCIkaHRtbF9jb250ZW50IiwiJGh0bWxfZGVzY3JpcHRpb24iLCJhcHBlbmQiLCJwcmVwZW5kVG8iLCJjbGljayIsIl9nZXRGdWxsSURzRnJvbVBhdGg2IiwicGFyZW50Tm9kZSIsImdldElEX25ld1JlZGRpdCIsImlkX21hdGNoIiwiYXR0ciIsImNsb3Nlc3QiLCJlbGVtZW50cyIsInN1YnNjcmlwdGlvbnMiLCJlYWNoIiwiaWR4IiwidGFyZ2V0ZWRFbGVtZW50IiwiJGJ1dHRvbiIsImdldEJ1dHRvbiIsImFwcGVuZEJ1dHRvblRvIiwicGFyZW50IiwiJGJ1dHRvbl9jbG9uZSIsImNsb25lIiwiY29tbWVudEJvZHkiLCJib2R5RWxlbWVudCIsInRleHRDb250ZW50Iiwic2V0VGV4dEFuZEZ1bmN0aW9uX3Vuc3Vic2NyaWJlIiwic2V0VGV4dEFuZEZ1bmN0aW9uX3N1YnNjcmliZSIsImJ1dHRvbl9zZWFyY2hfdGV4dCIsImZpbmQiLCIkbGFzdF9idXR0b24iLCJsYXN0IiwiaW5zZXJ0QWZ0ZXIiLCJnZXRBdHRyaWJ1dGUiLCJfZ2V0RnVsbElEc0Zyb21QYXRoOCIsImJ1dHRvbnMiLCIkbmV3QnV0dG9uIiwiVU5TVUJTQ1JJQkVfVEVYVCIsIlNVQlNDUklCRV9URVhUIiwiaG9zdG5hbWUiLCJvZmYiLCJldmVudE9iaiIsInN1YnNjcmliZUlkX2NoYW5nZVRleHQiLCJ1bnN1YnNjcmliZUlkX2NoYW5nZVRleHQiLCJfYXN5bmNUb0dlbmVyYXRvciIsInNldEN1cnJlbnRTdGF0ZUZvcklkIiwiaHJlZiIsIml0ZW1PYmoiLCJzZXRUZXh0IiwiU1VCU0NSSUJFRF9GUk9NX1JFRERJVCIsIlNVQlNDUklCRURfRlJPTV9SRVZFRERJVCIsIlNVQlNDUklCRURfRlJPTV9OQSIsInN1YnNjcmliZWRGcm9tVVJMIiwic3Vic2NyaWJlZEZyb20iLCJjaGVja0ZvckNoYW5nZXNfdGhpbmdfYnlJZCIsImNoZWNrRm9yQ2hhbmdlcyIsIm90aGVyIiwibm93IiwidGVtcFZhcl9tb25pdG9yX3F1YXJhbnRpbmVkIiwiY2hlY2tGb3JDaGFuZ2VzX290aGVyIiwiY2hlY2tGb3JDaGFuZ2VzX3VzZXJzIiwibmV3U3RvcmFnZSIsInRlbXBWYXJfcXVhcmFudGluZWRfY29udGVudF9mb3VuZCIsIml0ZW1Mb29rdXAiLCJxdWFyYW50aW5lIiwiX3gzIiwiX2NhbGxlZTIiLCJfYXJnczIiLCJfY29udGV4dDIiLCJBcnJheSIsImlzQXJyYXkiLCJrbm93bl9yZW1vdmVkIiwia25vd25fYXBwcm92ZWQiLCJrbm93bl9sb2NrZWQiLCJrbm93bl91bmxvY2tlZCIsIml0ZW1XcmFwIiwibmV3TG9jYWxTdG9yYWdlSXRlbXMiLCJjaGFuZ2VUeXBlcyIsIm51bV9jaGFuZ2VzIiwiZXhpc3RpbmdMb2NhbFN0b3JhZ2VJdGVtcyIsIl9jaHJvbWUkc3RvcmFnZSRzeW5jJCIsIm1hcmtDaGFuZ2VzIiwiX3g0IiwiX3g1IiwiX3g2IiwiX3g3IiwiX3g4IiwiX3g5IiwiYWxlcnRfY3VycmVudF9saXN0IiwiYWxlcnRfdHlwZSIsImFsZXJ0X3RleHQiLCJhbGVydF9rbm93bl9oYXNoIiwibm9ybWFsX2N1cnJlbnRfbGlzdCIsIm5vcm1hbF90eXBlIiwibm9ybWFsX3RleHQiLCJub3JtYWxfa25vd25faGFzaCIsImFsZXJ0X3Vuc2Vlbl9pZHMiLCJub3JtYWxfdW5zZWVuX2lkcyIsImFsZXJ0X3VzZXJEZWxldGVkX3Vuc2Vlbl9pZHMiLCJtYXJrVW5zZWVuIiwiYWxlcnRfdHlwZV92YXIiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFX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QTBCenBCLEtBQ3hDc3BCLEVBQXFCdHBCLEdBQVEsSUFBSW9KLG1CQUFpQixDQUFDaEYsS0FBTUEsRUFBTXNKLGFBQWN5YSxLQUU3RW5vQixLQUFRcXFCLEdBQ1JJLEVBQWtCenFCLEdBQVEsSUFBSWlGLGlCQUFlYixFQUFLOEksYUFBYSxVQUN4RG1kLEVBQWlCcnFCLEdBRXhCb0MsRUFBUStCLEtBQUssSUFBSW1KLG1CQUFpQixDQUFDdEksR0FBSWhGLEVBQU0wTixhQUFjeWEsRUFBS3ZhLFlBQWEyYyxLQUM3RUksRUFBa0J4bUIsS0FBS25FLEdBRXZCc3BCLEVBQXFCdHBCLEdBQVEsSUFBSW9KLG1CQUFpQixDQUFDaEYsS0FBTUEsRUFBTXNKLGFBQWN5YSxLQUU3RXNDLEVBQWtCenFCLEdBQVEsSUFBSWlGLGlCQUFlYixFQUFLOEksYUFBYSxLQUd2RSxJQUFNc2MsRUFBY2tCLEVBQWlCM25CLE9BQVM0bkIsRUFBa0I1bkIsT0FBUzZuQixFQUE2QjduQixPQU10RyxPQUxJeUUsR0FBVWdpQixJQUNOa0IsRUFBaUIzbkIsUUFBUXdtQixFQUFZcGxCLEtBQUtpbUIsR0FDMUNRLEVBQTZCN25CLFFBQVF3bUIsRUFBWXBsQixLQUFLLGdCQUN0RHdtQixFQUFrQjVuQixRQUFRd21CLEVBQVlwbEIsS0FBS3FtQixJQUU1Q2hCIiwiZmlsZSI6InNyYy9jb250ZW50LXJlZGRpdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzMTQpO1xuIiwiaW1wb3J0IHthbHBoYUxvd2VyU29ydCwgSXRlbUZvclN0b3JhZ2UsIExvY2FsU3RvcmFnZUl0ZW0sIHRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZX0gZnJvbSAnLi9jb21tb24uanMnXG5pbXBvcnQgYnJvd3NlciBmcm9tICd3ZWJleHRlbnNpb24tcG9seWZpbGwnXG5cbmV4cG9ydCBjb25zdCBJTlRFUlZBTF9ERUZBVUxUID0gMTtcblxuLy8gVGhlc2UgbGltaXRzIGFyZSBzZXQgd2l0aCBjb25zaWRlcmF0aW9uIGZvciBDaHJvbWUncyBzeW5jICYgbG9jYWwgc3RvcmFnZSBsaW1pdHMsXG4vLyBhbmQgZm9yIHRoZSBvYmplY3RzIHN0b3JlZCBieSB0aGUgZXh0ZW5zaW9uXG5jb25zdCBNQVhfU1VCU0NSSVBUSU9OUyA9IDU7XG5jb25zdCBNQVhfTE9DQUxfU1RPUkFHRV9JVEVNU19QRVJfT0JKRUNUID0gNTAwXG5leHBvcnQgY29uc3QgTUFYX1NZTkNfU1RPUkFHRV9JVEVNU19QRVJfT0JKRUNUID0gMTMwXG5leHBvcnQgY29uc3QgTUFYX1NZTkNfU1RPUkFHRV9DSEFOR0VTID0gMTAwXG5leHBvcnQgY29uc3QgTUFYX09USEVSX1NVQlNDUklQVElPTlMgPSAxMDBcblxuZXhwb3J0IGNvbnN0IFJFTU9WRUQgPSAxXG5leHBvcnQgY29uc3QgQVBQUk9WRUQgPSAyXG5leHBvcnQgY29uc3QgTE9DS0VEID0gM1xuZXhwb3J0IGNvbnN0IFVOTE9DS0VEID0gNFxuZXhwb3J0IGNvbnN0IEVESVRFRCA9IDVcbmV4cG9ydCBjb25zdCBERUxFVEVEID0gNlxuXG5jb25zdCB0cmFja1R5cGVzID0geydjaGFuZ2VzJzogW10sICdyZW1vdmVkJzoge30sICdhcHByb3ZlZCc6IHt9LCAnbG9ja2VkJzoge30sICd1bmxvY2tlZCc6IHt9fTtcblxuY29uc3QgZ2V0T2JqZWN0TmFtZSA9ICh0eXBlLCB0aGluZywgaXNVc2VyKSA9PiB7XG4gICAgaWYgKGlzVXNlcikge1xuICAgICAgICByZXR1cm4gdHlwZSsnX3VfJyt0aGluZ1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0eXBlKydfJyt0aGluZ1xuICAgIH1cbn1cblxuY29uc3QgYWRkVHJhY2tUeXBlcyA9IChvYmplY3QsIHRoaW5nLCBpc1VzZXI9dHJ1ZSkgPT4ge1xuICAgIE9iamVjdC5rZXlzKHRyYWNrVHlwZXMpLmZvckVhY2godHlwZSA9PiB7XG4gICAgICAgIG9iamVjdFtnZXRPYmplY3ROYW1lKHR5cGUsIHRoaW5nLCBpc1VzZXIpXSA9IHRyYWNrVHlwZXNbdHlwZV1cbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgZ2V0T2JqZWN0TmFtZXNGb3JUaGluZyA9ICh0aGluZywgaXNVc2VyPXRydWUpID0+IHtcbiAgICBjb25zdCBuYW1lcyA9IHt9XG4gICAgT2JqZWN0LmtleXModHJhY2tUeXBlcykuZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgICAgbmFtZXNbdHlwZV0gPSBnZXRPYmplY3ROYW1lKHR5cGUsIHRoaW5nLCBpc1VzZXIpXG4gICAgfSlcbiAgICByZXR1cm4gbmFtZXNcbn1cblxuY29uc3QgZ2V0VXNlckluaXQgPSAodXNlcikgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9XG4gICAgYWRkVHJhY2tUeXBlcyhyZXN1bHQsIHVzZXIsIHRydWUpXG4gICAgcmV0dXJuIHJlc3VsdFxufVxuXG5jb25zdCBnZXRTdG9yYWdlSW5pdCA9ICgpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIHVzZXJfc3Vic2NyaXB0aW9uczoge30sXG4gICAgICAgIG90aGVyX3N1YnNjcmlwdGlvbnM6IHt9LFxuICAgICAgICBvcHRpb25zOiB7aW50ZXJ2YWw6IElOVEVSVkFMX0RFRkFVTFQsXG4gICAgICAgICAgICAgICAgICBjdXN0b21fY2xpZW50aWQ6ICcnLFxuICAgICAgICAgICAgICAgICAgcmVtb3ZhbF9zdGF0dXM6IHt0cmFjazogdHJ1ZSwgbm90aWZ5OiB0cnVlfSxcbiAgICAgICAgICAgICAgICAgIGxvY2tfc3RhdHVzOiB7dHJhY2s6IHRydWUsIG5vdGlmeTogdHJ1ZX0sXG4gICAgICAgICAgICAgICAgICBtb25pdG9yX3F1YXJhbnRpbmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgbGFzdF9jaGVjazogbnVsbCxcbiAgICAgICAgbGFzdF9jaGVja19xdWFyYW50aW5lZDogbnVsbCxcbiAgICB9XG4gICAgYWRkVHJhY2tUeXBlcyhyZXN1bHQsICdvdGhlcicsIGZhbHNlKVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBjb25zdCBtYXJrRXZlcnl0aGluZ0FzU2VlbiA9ICgpID0+IHtcbiAgICByZXR1cm4gYnJvd3Nlci5zdG9yYWdlLnN5bmMuZ2V0KG51bGwpXG4gICAgLnRoZW4oc3RvcmFnZSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJzID0gT2JqZWN0LmtleXMoc3RvcmFnZS51c2VyX3N1YnNjcmlwdGlvbnMpO1xuICAgICAgICBjb25zdCBhbGxLZXlzID0gW11cbiAgICAgICAgdXNlcnMuZm9yRWFjaCh1c2VyID0+IHtcbiAgICAgICAgICAgIG1hcmtUaGluZ0FzU2VlbihzdG9yYWdlLCB1c2VyLCB0cnVlKVxuICAgICAgICB9KVxuICAgICAgICBtYXJrVGhpbmdBc1NlZW4oc3RvcmFnZSwgJ290aGVyJywgZmFsc2UpXG4gICAgICAgIHJldHVybiBzZXRTdG9yYWdlVXBkYXRlQmFkZ2Uoc3RvcmFnZSlcbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgbWFya1RoaW5nQXNTZWVuID0gKHN0b3JhZ2UsIHRoaW5nLCBpc1VzZXIpID0+IHtcbiAgICBjb25zdCBrZXlzID0gZ2V0T2JqZWN0TmFtZXNGb3JUaGluZyh0aGluZywgaXNVc2VyKVxuICAgIGRlbGV0ZSBrZXlzWydjaGFuZ2VzJ11cbiAgICBjb25zdCBmdWxsS2V5bmFtZXMgPSBbXVxuICAgIE9iamVjdC52YWx1ZXMoa2V5cykuZm9yRWFjaChmdWxsS2V5bmFtZSA9PiB7XG4gICAgICAgIGZ1bGxLZXluYW1lcy5wdXNoKGZ1bGxLZXluYW1lKVxuICAgIH0pXG4gICAgZnVsbEtleW5hbWVzLmZvckVhY2goZnVsbEtleW5hbWUgPT4ge1xuICAgICAgICBPYmplY3QudmFsdWVzKHN0b3JhZ2VbZnVsbEtleW5hbWVdKS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaXRlbS51ID0gZmFsc2VcbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3Qgc2V0U3RvcmFnZVVwZGF0ZUJhZGdlID0gKHN0b3JhZ2UpID0+IHtcbiAgICByZXR1cm4gYnJvd3Nlci5zdG9yYWdlLnN5bmMuc2V0KHN0b3JhZ2UpXG4gICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgcmV0dXJuIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7YWN0aW9uOiAndXBkYXRlLWJhZGdlJ30pXG4gICAgfSlcbn1cblxuY29uc3QgbWFya1NlZW5Gb3JTdG9yYWdlS2V5ID0gKHN0b3JhZ2UsIHN0b3JhZ2Vfa2V5cywga2V5LCBpZHMsIGlzX3VzZXIpID0+IHtcbiAgICBjb25zdCBzdG9yYWdlX2l0ZW0gPSBzdG9yYWdlW3N0b3JhZ2Vfa2V5c1trZXldXVxuICAgIE9iamVjdC5rZXlzKGlkcykuZm9yRWFjaChpZCA9PiB7XG4gICAgICAgIGlmIChpZCBpbiBzdG9yYWdlX2l0ZW0pIHtcbiAgICAgICAgICAgIHN0b3JhZ2VfaXRlbVtpZF0udSA9IGZhbHNlXG4gICAgICAgIH0gZWxzZSBpZiAoaXNfdXNlcikge1xuICAgICAgICAgICAgc3RvcmFnZV9pdGVtW2lkXSA9IG5ldyBJdGVtRm9yU3RvcmFnZShpZHNbaWRdLCBmYWxzZSlcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBtYXJrSURzQXNTZWVuSWZTdWJzY3JpYmVkID0gKHN0b3JhZ2UsIHVzZXIsIGlzX3VzZXIsIHJlbW92ZWRfaWRzLCBhcHByb3ZlZF9pZHMsIGxvY2tlZF9pZHMsIHVubG9ja2VkX2lkcywgY2FsbGJhY2sgPSAoKSA9PiB7fSkgPT4ge1xuICAgIGNvbnN0IHN0b3JhZ2Vfa2V5cyA9IGdldE9iamVjdE5hbWVzRm9yVGhpbmcodXNlciwgaXNfdXNlcilcbiAgICBkZWxldGUgc3RvcmFnZV9rZXlzWydjaGFuZ2VzJ11cbiAgICBjb25zdCB1c2VyX3N1YnNjcmliZWQgPSBzdG9yYWdlLnVzZXJfc3Vic2NyaXB0aW9uc1t1c2VyXVxuICAgIGlmICh1c2VyX3N1YnNjcmliZWQgfHwgISBpc191c2VyKSB7XG4gICAgICAgIG1hcmtTZWVuRm9yU3RvcmFnZUtleShzdG9yYWdlLCBzdG9yYWdlX2tleXMsICdyZW1vdmVkJywgcmVtb3ZlZF9pZHMsIGlzX3VzZXIpXG4gICAgICAgIG1hcmtTZWVuRm9yU3RvcmFnZUtleShzdG9yYWdlLCBzdG9yYWdlX2tleXMsICdhcHByb3ZlZCcsIGFwcHJvdmVkX2lkcywgaXNfdXNlcilcbiAgICAgICAgbWFya1NlZW5Gb3JTdG9yYWdlS2V5KHN0b3JhZ2UsIHN0b3JhZ2Vfa2V5cywgJ2xvY2tlZCcsIGxvY2tlZF9pZHMsIGlzX3VzZXIpXG4gICAgICAgIG1hcmtTZWVuRm9yU3RvcmFnZUtleShzdG9yYWdlLCBzdG9yYWdlX2tleXMsICd1bmxvY2tlZCcsIHVubG9ja2VkX2lkcywgaXNfdXNlcilcbiAgICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoc3RvcmFnZSwgY2FsbGJhY2spXG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBzdWJzY3JpYmVJZCA9IChpZCwgY2FsbGJhY2sgPSAoKSA9PiB7fSkgPT4ge1xuICAgIGNvbnN0IGtleSA9ICdvdGhlcl9zdWJzY3JpcHRpb25zJ1xuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KGtleSwgKHJlc3VsdCkgPT4ge1xuICAgICAgICByZXN1bHRba2V5XVtpZF0gPSB7dDogTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKS8xMDAwKX1cbiAgICAgICAgY29uc3QgaXRlbXNUb1NhdmUgPSB0cmltRGljdF9ieV9udW1iZXJWYWx1ZWRBdHRyaWJ1dGUocmVzdWx0W2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1BWF9PVEhFUl9TVUJTQ1JJUFRJT05TLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndCcpXG4gICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHtba2V5XTogaXRlbXNUb1NhdmV9LCBjYWxsYmFjaylcbiAgICB9KVxufVxuZXhwb3J0IGNvbnN0IHVuc3Vic2NyaWJlSWQgPSAoaWQsIGNhbGxiYWNrID0gKCkgPT4ge30pID0+IHtcbiAgICBjb25zdCBtYWluS2V5ID0gJ290aGVyX3N1YnNjcmlwdGlvbnMnXG4gICAgY29uc3Qgb3RoZXJLZXlzID0gZ2V0T2JqZWN0TmFtZXNGb3JUaGluZygnb3RoZXInLCBmYWxzZSlcbiAgICBkZWxldGUgb3RoZXJLZXlzWydjaGFuZ2VzJ11cbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChPYmplY3QudmFsdWVzKG90aGVyS2V5cykuY29uY2F0KG1haW5LZXkpLCAocmVzdWx0KSA9PiB7XG4gICAgICAgIGRlbGV0ZSByZXN1bHRbbWFpbktleV1baWRdXG4gICAgICAgIE9iamVjdC52YWx1ZXMob3RoZXJLZXlzKS5mb3JFYWNoKGZ1bGxLZXluYW1lID0+IHtcbiAgICAgICAgICAgIGlmIChpZCBpbiByZXN1bHRbZnVsbEtleW5hbWVdKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlc3VsdFtmdWxsS2V5bmFtZV1baWRdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHJlc3VsdCwgKCkgPT4ge1xuICAgICAgICAgICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe2FjdGlvbjogJ3VwZGF0ZS1iYWRnZSd9LCBjYWxsYmFjaylcbiAgICAgICAgfSlcbiAgICB9KVxufVxuZXhwb3J0IGNvbnN0IGdldFN1YnNjcmliZWRJZHMgPSAoY2FsbGJhY2sgPSAoKSA9PiB7fSkgPT4ge1xuICAgIGNvbnN0IGtleSA9ICdvdGhlcl9zdWJzY3JpcHRpb25zJ1xuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KGtleSwgKHJlc3VsdCkgPT4ge1xuICAgICAgICBjYWxsYmFjayhPYmplY3Qua2V5cyhyZXN1bHRba2V5XSkpXG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IHN1YnNjcmliZVVzZXIgPSAodXNlciwgY2FsbGJhY2tTdWNjZXNzID0gKCkgPT4ge30sIGNhbGxiYWNrRXJyb3IgPSAoKSA9PiB7fSkgPT4ge1xuICAgIGNvbnN0IHVzZXJJbml0ID0gZ2V0VXNlckluaXQodXNlcilcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldCgndXNlcl9zdWJzY3JpcHRpb25zJywgKHJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zdCB1c2VyX3N1YnNjcmlwdGlvbnMgPSByZXN1bHQudXNlcl9zdWJzY3JpcHRpb25zXG4gICAgICAgIGlmICghICh1c2VyIGluIHVzZXJfc3Vic2NyaXB0aW9ucykpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh1c2VyX3N1YnNjcmlwdGlvbnMpLmxlbmd0aCA8IE1BWF9TVUJTQ1JJUFRJT05TKSB7XG4gICAgICAgICAgICAgICAgdXNlcl9zdWJzY3JpcHRpb25zW3VzZXJdID0gdHJ1ZVxuICAgICAgICAgICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHt1c2VyX3N1YnNjcmlwdGlvbnMsIC4uLnVzZXJJbml0fSwgY2FsbGJhY2tTdWNjZXNzKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja0Vycm9yKCdtYXhpbXVtIG51bWJlciBvZiBzdWJzY3JpcHRpb25zIHJlYWNoZWQnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2tFcnJvcignYWxyZWFkeSBzdWJzY3JpYmVkIHRvIHRoaXMgdXNlcicpXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgdW5zdWJzY3JpYmVVc2VyID0gKHVzZXIsIGNhbGxiYWNrKSA9PiB7XG4gICAgY29uc3QgdXNlcktleXMgPSBPYmplY3Qua2V5cyhnZXRVc2VySW5pdCh1c2VyKSlcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldCgndXNlcl9zdWJzY3JpcHRpb25zJywgKHJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zdCB1c2VyX3N1YnNjcmlwdGlvbnMgPSByZXN1bHQudXNlcl9zdWJzY3JpcHRpb25zXG4gICAgICAgIGRlbGV0ZSB1c2VyX3N1YnNjcmlwdGlvbnNbdXNlcl1cbiAgICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoe3VzZXJfc3Vic2NyaXB0aW9uc30sICgpID0+IHtcbiAgICAgICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMucmVtb3ZlKHVzZXJLZXlzLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlcktleV9sb2NhbFN0b3JhZ2UgPSBnZXRPYmplY3ROYW1lKCdpdGVtcycsIHVzZXIsIHRydWUpXG4gICAgICAgICAgICAgICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe2FjdGlvbjogJ3VwZGF0ZS1iYWRnZSd9KVxuICAgICAgICAgICAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLnJlbW92ZSh1c2VyS2V5X2xvY2FsU3RvcmFnZSwgY2FsbGJhY2spXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBpbml0U3RvcmFnZSA9IChjYWxsYmFjaykgPT4ge1xuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KG51bGwsIChzdG9yYWdlKSA9PiB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhzdG9yYWdlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KGdldFN0b3JhZ2VJbml0KCksIGNhbGxiYWNrKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2soKVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGdldFN1YnNjcmliZWRVc2Vyc193aXRoU2VlbkFuZFVuc2VlbklEcyA9IChjYWxsYmFjaykgPT4ge1xuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KG51bGwsIChzdG9yYWdlKSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJzID0gT2JqZWN0LmtleXMoc3RvcmFnZS51c2VyX3N1YnNjcmlwdGlvbnMpO1xuICAgICAgICBjb25zdCB1c2Vyc193aXRoSURzID0ge31cbiAgICAgICAgdXNlcnMuZm9yRWFjaCh1c2VyID0+IHtcbiAgICAgICAgICAgIHVzZXJzX3dpdGhJRHNbdXNlcl0gPSBnZXRJRHNfdGhpbmcodXNlciwgdHJ1ZSwgc3RvcmFnZSlcbiAgICAgICAgfSlcbiAgICAgICAgdXNlcnNfd2l0aElEc1snb3RoZXInXSA9IGdldElEc190aGluZygnb3RoZXInLCBmYWxzZSwgc3RvcmFnZSlcbiAgICAgICAgY2FsbGJhY2sodXNlcnNfd2l0aElEcywgc3RvcmFnZSlcbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgZ2V0U3Vic2NyaWJlZFVzZXJzX3dpdGhVbnNlZW5JRHMgPSAoY2FsbGJhY2spID0+IHtcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChudWxsLCAoc3RvcmFnZSkgPT4ge1xuICAgICAgICBjb25zdCB1c2VycyA9IE9iamVjdC5rZXlzKHN0b3JhZ2UudXNlcl9zdWJzY3JpcHRpb25zKTtcbiAgICAgICAgY29uc3QgdXNlcnNfd2l0aElEcyA9IHt9XG4gICAgICAgIHVzZXJzLmZvckVhY2godXNlciA9PiB7XG4gICAgICAgICAgICB1c2Vyc193aXRoSURzW3VzZXJdID0gZ2V0VW5zZWVuSURzX3RoaW5nKHVzZXIsIHRydWUsIHN0b3JhZ2UpXG4gICAgICAgIH0pXG4gICAgICAgIHVzZXJzX3dpdGhJRHNbJ290aGVyJ10gPSBnZXRVbnNlZW5JRHNfdGhpbmcoJ290aGVyJywgZmFsc2UsIHN0b3JhZ2UpXG4gICAgICAgIGNhbGxiYWNrKHVzZXJzX3dpdGhJRHMpXG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGdldFVuc2VlbklEc190aGluZyA9ICh0aGluZywgaXNVc2VyLCBzdG9yYWdlKSA9PiB7XG4gICAgcmV0dXJuIGdldElEc190aGluZyh0aGluZywgaXNVc2VyLCBzdG9yYWdlKVsndW5zZWVuJ11cbn1cblxuLy8gR2V0IElEcyBvZiBpdGVtcyB3aG9zZSBzdGF0dXMgaGFzIGNoYW5nZWRcbmV4cG9ydCBjb25zdCBnZXRJRHNfdGhpbmcgPSAodGhpbmcsIGlzVXNlciwgc3RvcmFnZSkgPT4ge1xuICAgIGNvbnN0IHRyYWNrX3JlbW92YWwgPSBzdG9yYWdlLm9wdGlvbnMucmVtb3ZhbF9zdGF0dXMudHJhY2tcbiAgICBjb25zdCB0cmFja19sb2NrID0gc3RvcmFnZS5vcHRpb25zLmxvY2tfc3RhdHVzLnRyYWNrXG4gICAgY29uc3QgdW5zZWVuSURzID0ge31cbiAgICBjb25zdCBzZWVuSURzID0ge31cbiAgICBsZXQgdHlwZXMgPSBbXVxuICAgIGNvbnN0IGtleXMgPSBnZXRPYmplY3ROYW1lc0ZvclRoaW5nKHRoaW5nLCBpc1VzZXIpXG4gICAgaWYgKHRyYWNrX3JlbW92YWwpIHR5cGVzLnB1c2goa2V5c1sncmVtb3ZlZCddLCBrZXlzWydhcHByb3ZlZCddKVxuICAgIGlmICh0cmFja19sb2NrKSB0eXBlcy5wdXNoKGtleXNbJ2xvY2tlZCddLCBrZXlzWyd1bmxvY2tlZCddKVxuXG4gICAgdHlwZXMuZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgICAgT2JqZWN0LmtleXMoc3RvcmFnZVt0eXBlXSkuZm9yRWFjaChpZCA9PiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gc3RvcmFnZVt0eXBlXVtpZF1cbiAgICAgICAgICAgIGlmIChpdGVtLnUpIHVuc2VlbklEc1tpZF0gPSB0cnVlXG4gICAgICAgICAgICBlbHNlIHNlZW5JRHNbaWRdID0gdHJ1ZVxuICAgICAgICB9KVxuICAgIH0pXG4gICAgcmV0dXJuIHt1bnNlZW46IE9iamVjdC5rZXlzKHVuc2VlbklEcyksIHNlZW46IE9iamVjdC5rZXlzKHNlZW5JRHMpfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0TG9jYWxTdG9yYWdlSXRlbXMgPSAodGhpbmcsIGlzVXNlcikgPT4ge1xuICAgIGNvbnN0IGtleV9sb2NhbFN0b3JhZ2UgPSBnZXRPYmplY3ROYW1lKCdpdGVtcycsIHRoaW5nLCBpc1VzZXIpXG4gICAgcmV0dXJuIGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5nZXQoe1trZXlfbG9jYWxTdG9yYWdlXToge319KVxuICAgIC50aGVuKGxvY2FsU3RvcmFnZUl0ZW1zID0+IHtcbiAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZUl0ZW1zW2tleV9sb2NhbFN0b3JhZ2VdXG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IHNhdmVMb2NhbFN0b3JhZ2VJdGVtcyA9ICh0aGluZywgaXNVc2VyLCBpdGVtc1RvU2F2ZSkgPT4ge1xuICAgIGNvbnN0IGtleV9sb2NhbFN0b3JhZ2UgPSBnZXRPYmplY3ROYW1lKCdpdGVtcycsIHRoaW5nLCBpc1VzZXIpXG4gICAgcmV0dXJuIGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5zZXQoe1trZXlfbG9jYWxTdG9yYWdlXTogaXRlbXNUb1NhdmV9KVxufVxuXG5leHBvcnQgY29uc3QgYWRkTG9jYWxTdG9yYWdlSXRlbXMgPSAoaXRlbXMsIHRoaW5nLCBpc1VzZXIpID0+IHtcbiAgICBjb25zdCBrZXlfbG9jYWxTdG9yYWdlID0gZ2V0T2JqZWN0TmFtZSgnaXRlbXMnLCB0aGluZywgaXNVc2VyKVxuICAgIHJldHVybiBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoe1trZXlfbG9jYWxTdG9yYWdlXToge319LCAobG9jYWxTdG9yYWdlSXRlbXMpID0+IHtcbiAgICAgICAgY29uc3Qgc3RvcmVkSXRlbXMgPSBsb2NhbFN0b3JhZ2VJdGVtc1trZXlfbG9jYWxTdG9yYWdlXVxuICAgICAgICBPYmplY3Qua2V5cyhpdGVtcykuZm9yRWFjaChpZCA9PiB7XG4gICAgICAgICAgICBzdG9yZWRJdGVtc1tpZF0gPSBpdGVtc1tpZF1cbiAgICAgICAgfSlcbiAgICAgICAgbGV0IGl0ZW1zVG9TYXZlID0gc3RvcmVkSXRlbXNcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHN0b3JlZEl0ZW1zKS5sZW5ndGggPiBNQVhfTE9DQUxfU1RPUkFHRV9JVEVNU19QRVJfT0JKRUNUKSB7XG4gICAgICAgICAgICBpdGVtc1RvU2F2ZSA9IHRyaW1EaWN0T2ZJdGVtc19ieV91dGNBdHRyaWJ1dGUoc3RvcmVkSXRlbXMsIE1BWF9MT0NBTF9TVE9SQUdFX0lURU1TX1BFUl9PQkpFQ1QsICdvJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldCh7W2tleV9sb2NhbFN0b3JhZ2VdOiBpdGVtc1RvU2F2ZX0pXG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGdldEl0ZW1Gcm9tTG9jYWxTdG9yYWdlID0gKHRoaW5nLCBpc1VzZXIsIGlkLCBsb2NhbFN0b3JhZ2UpID0+IHtcbiAgICBjb25zdCBrZXkgPSBnZXRPYmplY3ROYW1lKCdpdGVtcycsIHRoaW5nLCBpc1VzZXIpXG4gICAgaWYgKGtleSBpbiBsb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgaWYgKGlkIGluIGxvY2FsU3RvcmFnZVtrZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExvY2FsU3RvcmFnZUl0ZW0oe29iamVjdDogbG9jYWxTdG9yYWdlW2tleV1baWRdfSlcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJydcbn1cblxuZXhwb3J0IGNvbnN0IGdldEFsbENoYW5nZXMgPSAoY2FsbGJhY2spID0+IHtcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldCgndXNlcl9zdWJzY3JpcHRpb25zJywgKHJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zdCBrZXlzID0gW2dldE9iamVjdE5hbWUoJ2NoYW5nZXMnLCAnb3RoZXInLCBmYWxzZSldXG4gICAgICAgIGNvbnN0IGtleVRvVXNlcl9sb29rdXAgPSB7Y2hhbmdlc19vdGhlcjogJ290aGVyJ31cblxuICAgICAgICBPYmplY3Qua2V5cyhyZXN1bHQudXNlcl9zdWJzY3JpcHRpb25zKS5mb3JFYWNoKHVzZXIgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2V0T2JqZWN0TmFtZSgnY2hhbmdlcycsIHVzZXIsIHRydWUpXG4gICAgICAgICAgICBrZXlzLnB1c2goa2V5KVxuICAgICAgICAgICAga2V5VG9Vc2VyX2xvb2t1cFtrZXldID0gdXNlclxuICAgICAgICB9KVxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChrZXlzLCAocmVzMikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hhbmdlc0J5VXNlciA9IHt9XG4gICAgICAgICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoKGtleSBpbiByZXMyKSAmJiByZXMyW2tleV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZXNCeVVzZXJba2V5VG9Vc2VyX2xvb2t1cFtrZXldXSA9IHJlczJba2V5XVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjYWxsYmFjayhjaGFuZ2VzQnlVc2VyKVxuICAgICAgICB9KVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRPcHRpb25zID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgcmV0dXJuIGJyb3dzZXIuc3RvcmFnZS5zeW5jLmdldChbJ3VzZXJfc3Vic2NyaXB0aW9ucycsICdvdGhlcl9zdWJzY3JpcHRpb25zJywgJ29wdGlvbnMnXSlcbiAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICBjb25zdCB1c2VycyA9IE9iamVjdC5rZXlzKHJlc3VsdC51c2VyX3N1YnNjcmlwdGlvbnMpXG4gICAgICAgIGNvbnN0IG90aGVycyA9IE9iamVjdC5rZXlzKHJlc3VsdC5vdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICBjb25zdCBvcHRpb25zID0gcmVzdWx0Lm9wdGlvbnNcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHVzZXJzLCBvdGhlcnMsIG9wdGlvbnMpXG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpXG59XG5leHBvcnQgY29uc3Qgc2F2ZU9wdGlvbnMgPSAoaW50ZXJ2YWwsIGN1c3RvbV9jbGllbnRpZCwgcmVtb3ZlZF90cmFjaywgcmVtb3ZlZF9ub3RpZnksIGxvY2tlZF90cmFjaywgbG9ja2VkX25vdGlmeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlX3N1YnNjcmliZSwgbW9uaXRvcl9xdWFyYW50aW5lZCwgY2FsbGJhY2spID0+IHtcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7b3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tX2NsaWVudGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmFsX3N0YXR1czoge3RyYWNrOiByZW1vdmVkX3RyYWNrLCBub3RpZnk6IHJlbW92ZWRfbm90aWZ5fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9ja19zdGF0dXM6ICAgIHt0cmFjazogbG9ja2VkX3RyYWNrLCAgbm90aWZ5OiBsb2NrZWRfbm90aWZ5fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZV9zdWJzY3JpYmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbml0b3JfcXVhcmFudGluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2spXG59XG4iLCJpbXBvcnQge1JFTU9WRUQsIERFTEVURUQsIEFQUFJPVkVELCBMT0NLRUQsIFVOTE9DS0VELCBFRElURUQsXG4gICAgICAgIGdldFN1YnNjcmliZWRVc2Vyc193aXRoVW5zZWVuSURzIH0gZnJvbSAnLi9zdG9yYWdlLmpzJ1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnd2ViZXh0ZW5zaW9uLXBvbHlmaWxsJ1xuXG5leHBvcnQgY29uc3QgQUxBUk1fTkFNRSA9ICdub3RpZnltZSdcbmNvbnN0IG1heFJlZGRpdENvbnRlbnRMZW5ndGggPSAzMDBcbmNvbnN0IEFDVElPTl9BUEkgPSBfX0JVSUxUX0ZPUl9fID09PSAnY2hyb21lJyA/ICdhY3Rpb24nIDogJ2Jyb3dzZXJBY3Rpb24nXG5cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI1OTMzNTU2L2Nocm9tZS1leHRlbnNpb24tb3Blbi1uZXctdGFiLXdoZW4tYnJvd3Nlci1vcGVuZWQtaW4tYmFja2dyb3VuZC1tYWMvMjU5MzM5NjQjMjU5MzM5NjRcbmV4cG9ydCBjb25zdCBjcmVhdGVUYWIgPSAodXJsKSA9PiB7XG4gICAgY2hyb21lLnRhYnMuY3JlYXRlKHt1cmw6dXJsfSwgKHRhYikgPT4ge1xuICAgICAgICBpZighIHRhYikge1xuICAgICAgICAgICAgLy8gcHJvYmFibHkgbm8gd2luZG93IGF2YWlsYWJsZVxuICAgICAgICAgICAgY2hyb21lLndpbmRvd3MuY3JlYXRlKHt1cmw6dXJsfSwgKHdpbikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGJldHRlciB0byBmb2N1cyBhZnRlciB3aW5kb3cgY3JlYXRpb24gY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBjaHJvbWUud2luZG93cy51cGRhdGUod2luLmlkLCB7Zm9jdXNlZDogdHJ1ZX0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gYmV0dGVyIHRvIGZvY3VzIGFmdGVyIHRhYiBjcmVhdGlvbiBjYWxsYmFja1xuICAgICAgICAgICAgY2hyb21lLndpbmRvd3MudXBkYXRlKHRhYi53aW5kb3dJZCwge2ZvY3VzZWQ6IHRydWV9KVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGdldEZ1bGxJRHNGcm9tVVJMID0gKHVybCkgPT4ge1xuICAgIGNvbnN0IHBhdGggPSB1cmwucmVwbGFjZSgvaHR0cHM6XFwvXFwvW14vXSpyZSh2ZSk/ZGRpdC5jb20vLCAnJylcbiAgICByZXR1cm4gZ2V0RnVsbElEc0Zyb21QYXRoKHBhdGgpXG59XG5cbmNvbnN0IHJlZ2V4X3BjID0gL15cXC8odnxyfHVzZXIpXFwvKFteL10rKVxcL2NvbW1lbnRzXFwvKFteL10rKVxcL1teL10qKD86XFwvKFteLz8mI10rKSk/L1xuY29uc3QgcmVnZXhfdXNlciA9IC9eXFwvKD86dXNlcnx5fHUpXFwvKFteLz8mI10rKVxcLz8vXG5cbmV4cG9ydCBjb25zdCBnZXRGdWxsSURzRnJvbVBhdGggPSAocGF0aCkgPT4ge1xuICAgIGxldCBwb3N0SUQgPSB1bmRlZmluZWQsIGNvbW1lbnRJRCA9IHVuZGVmaW5lZCwgdXNlciA9IHVuZGVmaW5lZCwgc3VicmVkZGl0ID0gdW5kZWZpbmVkXG4gICAgY29uc3QgbWF0Y2hlc19wYyA9IHBhdGgubWF0Y2gocmVnZXhfcGMpXG4gICAgY29uc3QgbWF0Y2hlc191c2VyID0gcGF0aC5tYXRjaChyZWdleF91c2VyKVxuICAgIGlmIChtYXRjaGVzX3BjKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBtYXRjaGVzX3BjWzFdXG4gICAgICAgIGlmICh0eXBlID09PSAndXNlcicpIHtcbiAgICAgICAgICAgIHVzZXIgPSBtYXRjaGVzX3BjWzJdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdWJyZWRkaXQgPSBtYXRjaGVzX3BjWzJdXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoZXNfcGNbM10pIHBvc3RJRCA9ICd0M18nK21hdGNoZXNfcGNbM11cbiAgICAgICAgaWYgKG1hdGNoZXNfcGNbNF0pIGNvbW1lbnRJRCA9ICd0MV8nK21hdGNoZXNfcGNbNF1cbiAgICB9IGVsc2UgaWYgKG1hdGNoZXNfdXNlcikge1xuICAgICAgICB1c2VyID0gbWF0Y2hlc191c2VyWzFdXG4gICAgfVxuICAgIHJldHVybiBbcG9zdElELCBjb21tZW50SUQsIHVzZXIsIHN1YnJlZGRpdF1cbn1cblxuZXhwb3J0IGNvbnN0IHJlZm9ybWF0UmVkZGl0VGV4dCA9IChib2R5KSA9PiB7XG4gICAgcmV0dXJuIGJvZHkucmVwbGFjZSgvJmFtcDsvZywgJyYnKS5yZXBsYWNlKC8mZ3Q7L2csICc+JykucmVwbGFjZSgvJmx0Oy9nLCAnPCcpXG4gICAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJykuc3Vic3RyKDAsIG1heFJlZGRpdENvbnRlbnRMZW5ndGgpXG59XG5cbmV4cG9ydCBjb25zdCBpc1JlbW92ZWRJdGVtID0gKGl0ZW0pID0+IHtcbiAgICBpZiAoaXNDb21tZW50KGl0ZW0ubmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIGlzUmVtb3ZlZENvbW1lbnQoaXRlbSlcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaXNSZW1vdmVkUG9zdChpdGVtKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGlzQ29tbWVudCA9IChuYW1lKSA9PiB7XG4gICAgcmV0dXJuIG5hbWUuc3Vic3RyKDAsMikgPT09ICd0MSdcbn1cbmV4cG9ydCBjb25zdCBpc1JlbW92ZWRDb21tZW50ID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gKChpdGVtLmJvZHkucmVwbGFjZSgvXFxcXC9nLCAnJykgPT09ICdbcmVtb3ZlZF0nIHx8XG4gICAgICAgICAgICAgaXRlbS5ib2R5LnJlcGxhY2UoL1xcXFwvZywgJycpID09PSAnW2RlbGV0ZWRdJykgJiZcbiAgICAgICAgICAgIGl0ZW0uYXV0aG9yLnJlcGxhY2UoL1xcXFwvZywgJycpID09PSAnW2RlbGV0ZWRdJylcbn1cbmV4cG9ydCBjb25zdCBpc1VzZXJEZWxldGVkQ29tbWVudCA9IChpdGVtKSA9PiB7XG4gICAgcmV0dXJuIChpdGVtLmJvZHkucmVwbGFjZSgvXFxcXC9nLCAnJykgPT09ICdbZGVsZXRlZF0nICYmXG4gICAgICAgICAgICBpdGVtLmF1dGhvci5yZXBsYWNlKC9cXFxcL2csICcnKSA9PT0gJ1tkZWxldGVkXScpXG59XG5leHBvcnQgY29uc3QgaXNVc2VyRGVsZXRlZFBvc3QgPSAoaXRlbSkgPT4ge1xuICAgIHJldHVybiAoISBpdGVtLmlzX3JvYm90X2luZGV4YWJsZSkgJiYgaXRlbS5hdXRob3IucmVwbGFjZSgvXFxcXC9nLCAnJykgPT09ICdbZGVsZXRlZF0nXG59XG5leHBvcnQgY29uc3QgaXNVc2VyRGVsZXRlZEl0ZW0gPSAoaXRlbSkgPT4ge1xuICAgIGlmIChpc0NvbW1lbnQoaXRlbS5uYW1lKSkge1xuICAgICAgICByZXR1cm4gaXNVc2VyRGVsZXRlZENvbW1lbnQoaXRlbSlcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaXNVc2VyRGVsZXRlZFBvc3QoaXRlbSlcbiAgICB9XG59XG5leHBvcnQgY29uc3QgaXNSZW1vdmVkUG9zdCA9IChpdGVtKSA9PiB7XG4gICAgcmV0dXJuICEgaXRlbS5pc19yb2JvdF9pbmRleGFibGVcbn1cblxuZXhwb3J0IGNvbnN0IHRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZSA9IChkaWN0LCBtYXhOdW1JdGVtcywgbnVtYmVyVmFsdWVkQXR0cmlidXRlKSA9PiB7XG4gICAgY29uc3QgYXJyYXkgPSBzb3J0RGljdF9ieV9udW1iZXJWYWx1ZWRBdHRyaWJ1dGUoZGljdCwgbnVtYmVyVmFsdWVkQXR0cmlidXRlKVxuXG4gICAgY29uc3Qgc2hvcnRlbmVkQXJyYXkgPSBhcnJheS5zbGljZSgwLCBtYXhOdW1JdGVtcylcbiAgICBjb25zdCBuZXdEaWN0ID0ge31cbiAgICBzaG9ydGVuZWRBcnJheS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBuZXdEaWN0W2l0ZW1bMF1dID0gaXRlbVsxXVxuICAgIH0pXG4gICAgcmV0dXJuIG5ld0RpY3Rcbn1cblxuZXhwb3J0IGNvbnN0IHNvcnREaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZSA9IChkaWN0LCBudW1iZXJWYWx1ZWRBdHRyaWJ1dGUpID0+IHtcbiAgICBsZXQgYXJyYXkgPSBPYmplY3Qua2V5cyhkaWN0KS5tYXAoa2V5ID0+IHtcbiAgICAgICAgcmV0dXJuIFtrZXksIGRpY3Rba2V5XV1cbiAgICB9KVxuICAgIGFycmF5LnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgcmV0dXJuIGJbMV1bbnVtYmVyVmFsdWVkQXR0cmlidXRlXSAtIGFbMV1bbnVtYmVyVmFsdWVkQXR0cmlidXRlXVxuICAgIH0pXG4gICAgcmV0dXJuIGFycmF5XG59XG5cbmV4cG9ydCBjbGFzcyBJdGVtRm9yU3RvcmFnZSB7XG4gICAgY29uc3RydWN0b3IoY3JlYXRlZF91dGMsIHVuc2Vlbikge1xuICAgICAgICB0aGlzLmMgPSBjcmVhdGVkX3V0Y1xuICAgICAgICB0aGlzLnUgPSB1bnNlZW5cbiAgICB9XG4gICAgZ2V0Q3JlYXRlZFVUQygpIHsgcmV0dXJuIHRoaXMuYyB9XG4gICAgZ2V0VW5zZWVuKCkgeyByZXR1cm4gdGhpcy51IH1cbn1cblxuZXhwb3J0IGNsYXNzIENoYW5nZUZvclN0b3JhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKHsgaWQgPSBudWxsLCBvYnNlcnZlZF91dGMgPSBudWxsLCBjaGFuZ2VfdHlwZSA9IG51bGwsIG9iamVjdCA9IG51bGwgfSkge1xuICAgICAgICBpZiAob2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmkgPSBvYmplY3QuaVxuICAgICAgICAgICAgdGhpcy5vID0gb2JqZWN0Lm9cbiAgICAgICAgICAgIHRoaXMuZyA9IG9iamVjdC5nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmkgPSBpZFxuICAgICAgICAgICAgdGhpcy5vID0gb2JzZXJ2ZWRfdXRjXG4gICAgICAgICAgICB0aGlzLmcgPSBjaGFuZ2VfdHlwZVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldElEKCkgeyByZXR1cm4gdGhpcy5pIH1cbiAgICBnZXRPYnNlcnZlZFVUQygpIHsgcmV0dXJuIHRoaXMubyB9XG4gICAgZ2V0Q2hhbmdlVHlwZSgpIHtcbiAgICAgICAgc3dpdGNoKHRoaXMuZykge1xuICAgICAgICAgICAgY2FzZSBSRU1PVkVEOiByZXR1cm4gJ21vZCByZW1vdmVkJ1xuICAgICAgICAgICAgY2FzZSBERUxFVEVEOiByZXR1cm4gJ3VzZXIgZGVsZXRlZCdcbiAgICAgICAgICAgIGNhc2UgQVBQUk9WRUQ6IHJldHVybiAnYXBwcm92ZWQnXG4gICAgICAgICAgICBjYXNlIExPQ0tFRDogcmV0dXJuICdsb2NrZWQnXG4gICAgICAgICAgICBjYXNlIFVOTE9DS0VEOiByZXR1cm4gJ3VubG9ja2VkJ1xuICAgICAgICAgICAgY2FzZSBFRElURUQ6IHJldHVybiAnZWRpdGVkJ1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9jYWxTdG9yYWdlSXRlbSB7XG4gICAgY29uc3RydWN0b3IoeyBpdGVtID0gbnVsbCwgb2JzZXJ2ZWRfdXRjID0gbnVsbCwgb2JqZWN0ID0gbnVsbCB9KSB7XG4gICAgICAgIGlmIChvYmplY3QpIHtcbiAgICAgICAgICAgIHRoaXMudCA9IG9iamVjdC50XG4gICAgICAgICAgICB0aGlzLm8gPSBvYmplY3Qub1xuICAgICAgICAgICAgdGhpcy5jID0gb2JqZWN0LmNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gJydcbiAgICAgICAgICAgIGlmIChpc0NvbW1lbnQoaXRlbS5uYW1lKSkge1xuICAgICAgICAgICAgICAgIHRleHQgPSByZWZvcm1hdFJlZGRpdFRleHQoaXRlbS5ib2R5KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gaXRlbS50aXRsZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50ID0gdGV4dFxuICAgICAgICAgICAgdGhpcy5vID0gb2JzZXJ2ZWRfdXRjXG4gICAgICAgICAgICB0aGlzLmMgPSBpdGVtLmNyZWF0ZWRfdXRjXG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0VGV4dCh0ZXh0KSB7dGhpcy50ID0gcmVmb3JtYXRSZWRkaXRUZXh0KHRleHQpfVxuICAgIGdldFRleHQoKSB7IHJldHVybiB0aGlzLnQgfVxuICAgIGdldE9ic2VydmVkVVRDKCkgeyByZXR1cm4gdGhpcy5vIH1cbiAgICBnZXRDcmVhdGVkVVRDKCkgeyByZXR1cm4gdGhpcy5jIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEFsYXJtKHBlcmlvZEluTWludXRlcykge1xuICAgIGNocm9tZS5hbGFybXMuY2xlYXIoQUxBUk1fTkFNRSlcbiAgICBjaHJvbWUuYWxhcm1zLmNyZWF0ZShBTEFSTV9OQU1FLCB7ZGVsYXlJbk1pbnV0ZXM6IDEsIHBlcmlvZEluTWludXRlczogcGVyaW9kSW5NaW51dGVzfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFscGhhTG93ZXJTb3J0IChhLCBiKSB7XG4gICAgdmFyIHRleHRBID0gYS50b0xvd2VyQ2FzZSgpXG4gICAgdmFyIHRleHRCID0gYi50b0xvd2VyQ2FzZSgpXG5cbiAgICBpZiAodGV4dEEgPCB0ZXh0QikgcmV0dXJuIC0xXG4gICAgaWYgKHRleHRBID4gdGV4dEIpIHJldHVybiAxXG4gICAgcmV0dXJuIDBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdvVG9PcHRpb25zICgpIHtcbiAgICBpZiAoY2hyb21lLnJ1bnRpbWUub3Blbk9wdGlvbnNQYWdlKSB7XG4gICAgICAgIGNocm9tZS5ydW50aW1lLm9wZW5PcHRpb25zUGFnZSgpXG4gICAgICAgIHdpbmRvdy5jbG9zZSgpIC8vY2xvc2VzIHRoZSBwb3B1cCB3aGljaCBwZXJzaXN0cyBpbiBGRlxuICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5vcGVuKGNocm9tZS5ydW50aW1lLmdldFVSTCgnL3NyYy9vcHRpb25zLmh0bWwnKSlcbiAgICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dFcnJvcihtZXNzYWdlLCBzZWxlY3Rvcikge1xuICAgICQoJzxkaXYgY2xhc3M9XCJyci1lcnJvclwiPicrbWVzc2FnZSsnPC9kaXY+JykuYXBwZW5kVG8oc2VsZWN0b3IpLmRlbGF5KDI0MDApLmZhZGVUbyg0MDAsIDAsIGZ1bmN0aW9uKCkgeyQodGhpcykucmVtb3ZlKCl9KVxufVxuXG4vL25vaW5zcGVjdGlvbiBKU1VudXNlZExvY2FsU3ltYm9sc1xuZXhwb3J0IGZ1bmN0aW9uIHBwcmludChvYmopIHtcbiAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShvYmosIG51bGwsICdcXHQnKSlcbn1cblxuXG5leHBvcnQgY29uc3QgZ2V0UHJldHR5VGltZUxlbmd0aCA9IChzZWNvbmRzKSA9PiB7XG4gICAgY29uc3QgdGhyZXNob2xkcyA9IFtbNjAsICdzZWNvbmQnLCAnc2Vjb25kcyddLCBbNjAsICdtaW51dGUnLCAnbWludXRlcyddLCBbMjQsICdob3VyJywgJ2hvdXJzJ10sIFs3LCAnZGF5JywgJ2RheXMnXSxcbiAgICBbMzY1LzEyLzcsICd3ZWVrJywgJ3dlZWtzJ10sIFsxMiwgJ21vbnRoJywgJ21vbnRocyddLCBbMTAsICd5ZWFyJywgJ3llYXJzJ10sXG4gICAgWzEwLCAnZGVjYWRlJywgJ2RlY2FkZXMnXSwgWzEwLCAnY2VudHVyeScsICdjZW50dXJpZXMnXSwgWzEwLCAnbWlsbGVuaXVtJywgJ21pbGxlbmlhJ11dXG4gICAgaWYgKHNlY29uZHMgPCA2MCkgcmV0dXJuIHNlY29uZHMgKyAnIHNlY29uZHMnXG4gICAgbGV0IHRpbWUgPSBzZWNvbmRzXG4gICAgZm9yICh2YXIgaT0wOyBpPHRocmVzaG9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGRpdmlzb3IgPSB0aHJlc2hvbGRzW2ldWzBdXG4gICAgICAgIGxldCB0ZXh0ID0gdGhyZXNob2xkc1tpXVsxXVxuICAgICAgICBsZXQgdGV4dFBsdXJhbCA9IHRocmVzaG9sZHNbaV1bMl1cbiAgICAgICAgaWYgKHRpbWUgPCBkaXZpc29yKSB7XG4gICAgICAgICAgICBsZXQgZXh0cmEgPSAodGltZSAtIE1hdGguZmxvb3IodGltZSkpXG4gICAgICAgICAgICBsZXQgcHJldlVuaXRUaW1lID0gTWF0aC5yb3VuZChleHRyYSp0aHJlc2hvbGRzW2ktMV1bMF0pXG4gICAgICAgICAgICBpZiAodGhyZXNob2xkc1tpLTFdWzBdID09PSBwcmV2VW5pdFRpbWUpIHtcbiAgICAgICAgICAgICAgICB0aW1lICs9IDFcbiAgICAgICAgICAgICAgICBwcmV2VW5pdFRpbWUgPSAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTWF0aC5mbG9vcih0aW1lKSA+IDEgfHwgTWF0aC5mbG9vcih0aW1lKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHRQbHVyYWxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpID4gMSAmJiBwcmV2VW5pdFRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlbWFpblRleHQgPSB0aHJlc2hvbGRzW2ktMV1bMV1cbiAgICAgICAgICAgICAgICBpZiAocHJldlVuaXRUaW1lID4gMSkge1xuICAgICAgICAgICAgICAgICAgICByZW1haW5UZXh0ID0gdGhyZXNob2xkc1tpLTFdWzJdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRleHQgKz0gJywgJyArIFN0cmluZyhwcmV2VW5pdFRpbWUpICsgJyAnICsgcmVtYWluVGV4dFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhNYXRoLmZsb29yKHRpbWUpKSArICcgJyArIHRleHRcbiAgICAgICAgfVxuICAgICAgICB0aW1lID0gdGltZSAvIGRpdmlzb3JcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRQcmV0dHlEYXRlID0gKGNyZWF0ZWRVVEMpID0+IHtcbiAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcigobmV3IERhdGUpLmdldFRpbWUoKS8xMDAwKS1jcmVhdGVkVVRDXG4gICAgcmV0dXJuIGdldFByZXR0eVRpbWVMZW5ndGgoc2Vjb25kcykgKyAnIGFnbydcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU5vdGlmaWNhdGlvbiA9ICh7bm90aWZpY2F0aW9uSWQsIHRpdGxlLCBtZXNzYWdlfSkgPT4ge1xuICAgIGlmIChsb2NhdGlvbi5wcm90b2NvbC5tYXRjaCgvXmh0dHAvKSkge1xuICAgICAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICBhY3Rpb246ICdjcmVhdGUtbm90aWZpY2F0aW9uJyxcbiAgICAgICAgICAgIG9wdGlvbnM6IHtub3RpZmljYXRpb25JZCwgdGl0bGUsIG1lc3NhZ2V9XG4gICAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKF9fQlVJTFRfRk9SX18gPT09ICdjaHJvbWUnKSB7XG4gICAgICAgICAgICByZWdpc3RyYXRpb24uc2hvd05vdGlmaWNhdGlvbih0aXRsZSwge1xuICAgICAgICAgICAgICAgIGJvZHk6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgZGF0YTogbm90aWZpY2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgaWNvbjogJy9pY29ucy8xMjgucG5nJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbm90aWZpY2F0aW9ucy5jcmVhdGUgZG9lcyBub3Qgd29yayBpbiBjaHJvbWUncyBtYW5pZmVzdCB2Mywgc29tZXRoaW5nIHdyb25nIHdpdGggcmVhZGluZyBpbWFnZSBkYXRhXG4gICAgICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82NTU3MDMzMi9nb29nbGUtY2hyb21lLWV4dGVuc2lvbnMtdjMtZXJyb3ItaW4tZXZlbnQtaGFuZGxlci1yZWZlcmVuY2VlcnJvci1pbWFnZS1pcy1uXG4gICAgICAgICAgICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0xMTY4NDc3JnE9aW1hZ2UlMjBpcyUyMG5vdCUyMGRlZmluZWQlMjBub3RpZmljYXRpb24lMjBtYW5pZmVzdCUyMHYzJmNhbj0yXG4gICAgICAgICAgICBjaHJvbWUubm90aWZpY2F0aW9ucy5jcmVhdGUobm90aWZpY2F0aW9uSWQsXG4gICAgICAgICAgICAgICAge3R5cGU6ICdiYXNpYycsXG4gICAgICAgICAgICAgICAgIGljb25Vcmw6ICcvaWNvbnMvMTI4LnBuZycsXG4gICAgICAgICAgICAgICAgIHRpdGxlLCBtZXNzYWdlfSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUJhZGdlVW5zZWVuQ291bnQgPSAoKSA9PiB7XG4gICAgaWYgKGxvY2F0aW9uLnByb3RvY29sLm1hdGNoKC9eaHR0cC8pKSB7XG4gICAgICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgIGFjdGlvbjogJ3VwZGF0ZS1iYWRnZSdcbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXRTdWJzY3JpYmVkVXNlcnNfd2l0aFVuc2VlbklEcyh1c2Vyc1Vuc2VlbklEcyA9PiB7XG4gICAgICAgICAgICBsZXQgdG90YWwgPSAwXG4gICAgICAgICAgICBPYmplY3QudmFsdWVzKHVzZXJzVW5zZWVuSURzKS5mb3JFYWNoKGlkcyA9PiB7XG4gICAgICAgICAgICAgICAgdG90YWwgKz0gaWRzLmxlbmd0aFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gdG90YWwudG9TdHJpbmcoKVxuICAgICAgICAgICAgaWYgKHRvdGFsID09IDApIHRleHQgPSAnJ1xuICAgICAgICAgICAgY2hyb21lW0FDVElPTl9BUEldLnNldEJhZGdlQmFja2dyb3VuZENvbG9yKHtjb2xvcjogXCJyZWRcIn0pXG4gICAgICAgICAgICBjaHJvbWVbQUNUSU9OX0FQSV0uc2V0QmFkZ2VUZXh0KHt0ZXh0OiB0ZXh0fSlcbiAgICAgICAgfSlcbiAgICB9XG59XG4iLCJpbXBvcnQge2dldE9wdGlvbnN9IGZyb20gJy4vc3RvcmFnZS5qcydcbmltcG9ydCBicm93c2VyIGZyb20gJ3dlYmV4dGVuc2lvbi1wb2x5ZmlsbCdcblxuY29uc3QgY2xpZW50SUQgPSAnU0V3MXV2UmQ2a3hGRXcnXG5jb25zdCBvYXV0aF9yZWRkaXQgPSAnaHR0cHM6Ly9vYXV0aC5yZWRkaXQuY29tLydcbmNvbnN0IHd3d19yZWRkaXQgPSAnaHR0cHM6Ly93d3cucmVkZGl0LmNvbS8nXG5jb25zdCBPQVVUSF9SRVZFRERJVCA9ICdodHRwczovL29yZWQucmV2ZWRkaXQuY29tLydcbmNvbnN0IFdXV19SRVZFRERJVCA9ICdodHRwczovL3dyZWQucmV2ZWRkaXQuY29tLydcblxuY29uc3QgTk9fQVVUSCA9ICdub25lJ1xuXG5leHBvcnQgY29uc3QgbG9va3VwSXRlbXNCeUlEID0gKGlkcywgYXV0aCwgbW9uaXRvcl9xdWFyYW50aW5lZCA9IGZhbHNlLCBtb25pdG9yX3F1YXJhbnRpbmVkX3JlbW90ZSA9IGZhbHNlKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0ge2lkOmlkcywgcmF3X2pzb246MX1cbiAgICBjb25zdCBzZWFyY2ggPSAnPycrT2JqZWN0LmtleXMocGFyYW1zKS5tYXAoayA9PiBgJHtrfT0ke3BhcmFtc1trXX1gKS5qb2luKCcmJylcblxuICAgIHJldHVybiBmZXRjaF9mb3JSZWRkaXQoLi4uZ2V0RmV0Y2hQYXJhbXMoJ2FwaS9pbmZvJywgc2VhcmNoLCBhdXRoLCBtb25pdG9yX3F1YXJhbnRpbmVkX3JlbW90ZSksIG1vbml0b3JfcXVhcmFudGluZWQpXG59XG5cbmNvbnN0IGNvb2tpZURldGFpbHNfcmVkZGl0U2Vzc2lvbiA9IHtuYW1lOiAncmVkZGl0X3Nlc3Npb24nLCB1cmw6ICdodHRwczovL3JlZGRpdC5jb20nfVxuXG5jb25zdCBhY2NlcHRhYmxlX3NldENvb2tpZURldGFpbHMgPSBbJ25hbWUnLCAndmFsdWUnLCAnZG9tYWluJywgJ3BhdGgnLCAnc2VjdXJlJywgJ2h0dHBPbmx5JywgJ3N0b3JlSWQnXVxuXG5jb25zdCBnZXRTZXR0YWJsZUNvb2tpZSA9IChjb29raWUsIHVybCA9ICdodHRwczovL3JlZGRpdC5jb20nKSA9PiB7XG4gICAgaWYgKCEgY29va2llKSB7XG4gICAgICAgIHJldHVybiBjb29raWVcbiAgICB9XG4gICAgY29uc3QgZmlsdGVyZWQgPSBPYmplY3Qua2V5cyhjb29raWUpXG4gICAgICAgIC5maWx0ZXIoa2V5ID0+IGFjY2VwdGFibGVfc2V0Q29va2llRGV0YWlscy5pbmNsdWRlcyhrZXkpKVxuICAgICAgICAucmVkdWNlKChvYmosIGtleSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5vYmosXG4gICAgICAgICAgICAgICAgW2tleV06IGNvb2tpZVtrZXldXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCB7fSk7XG4gICAgZmlsdGVyZWQudXJsID0gdXJsXG4gICAgcmV0dXJuIGZpbHRlcmVkXG59XG5cblxuLy9tb25pdG9yX3F1YXJhbnRpbmVkIC0+IHdoZW4gdHJ1ZSwgY2xpZW50IHNldHMgY29va2llICh1c2VkIGZvciBldmVyeSBsb29rIHVwKVxuLy9tb25pdG9yX3F1YXJhbnRpbmVkX3JlbW90ZSAtPiB3aGVuIHRydWUsIHJlbW90ZSBzZXJ2ZXIgc2V0cyBjb29raWUgKHVzZWQgb25jZSBpbiBhd2hpbGUpXG5jb25zdCBmZXRjaF9mb3JSZWRkaXQgPSBhc3luYyAodXJsLCBvcHRpb25zLCBtb25pdG9yX3F1YXJhbnRpbmVkID0gZmFsc2UpID0+IHtcbiAgICBsZXQgY29va2llX3JlZGRpdFNlc3Npb25cbiAgICBhd2FpdCBicm93c2VyLmNvb2tpZXMuc2V0KHtkb21haW46ICdyZWRkaXQuY29tJywgdXJsOiAnaHR0cHM6Ly9yZWRkaXQuY29tJywgbmFtZTogJ19vcHRpb25zJywgdmFsdWU6ICd7JTIycHJlZl9xdWFyYW50aW5lX29wdGluJTIyOnRydWV9J30pXG4gICAgaWYgKG1vbml0b3JfcXVhcmFudGluZWQpIHtcbiAgICAgICAgY29va2llX3JlZGRpdFNlc3Npb24gPSBnZXRTZXR0YWJsZUNvb2tpZShhd2FpdCBicm93c2VyLmNvb2tpZXMuZ2V0KGNvb2tpZURldGFpbHNfcmVkZGl0U2Vzc2lvbikpXG4gICAgICAgIGlmIChjb29raWVfcmVkZGl0U2Vzc2lvbikge1xuICAgICAgICAgICAgYXdhaXQgYnJvd3Nlci5jb29raWVzLnJlbW92ZShjb29raWVEZXRhaWxzX3JlZGRpdFNlc3Npb24pXG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCEgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0ge31cbiAgICB9XG4gICAgb3B0aW9uc1snY2FjaGUnXSA9ICdyZWxvYWQnXG4gICAgY29uc3QgcmVzdWx0ID0gZmV0Y2godXJsLCBvcHRpb25zKVxuICAgIC50aGVuKGhhbmRsZUZldGNoRXJyb3JzKVxuICAgIC50aGVuKGdldFJlZGRpdERhdGEpXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxuICAgIGlmIChjb29raWVfcmVkZGl0U2Vzc2lvbikge1xuICAgICAgICBhd2FpdCBicm93c2VyLmNvb2tpZXMuc2V0KGNvb2tpZV9yZWRkaXRTZXNzaW9uKVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG59XG5cbmV4cG9ydCBjb25zdCBsb29rdXBJdGVtc0J5VXNlciA9ICh1c2VyLCBhZnRlciwgc29ydCwgdGltZVNwYW4sIG1vbml0b3JfcXVhcmFudGluZWQsIG1vbml0b3JfcXVhcmFudGluZWRfcmVtb3RlLCBhdXRoKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0ge2xpbWl0OiAxMDAsIHNvcnQsIHJhd19qc29uOjF9XG4gICAgaWYgKGFmdGVyKSBwYXJhbXMuYWZ0ZXIgPSBhZnRlclxuICAgIGlmICh0aW1lU3BhbikgcGFyYW1zLnQgPSB0aW1lU3BhblxuICAgIGNvbnN0IHBhdGggPSBgdXNlci8ke3VzZXJ9L292ZXJ2aWV3Lmpzb25gXG4gICAgY29uc3Qgc2VhcmNoID0gJz8nK09iamVjdC5rZXlzKHBhcmFtcykubWFwKGsgPT4gYCR7a309JHtwYXJhbXNba119YCkuam9pbignJicpXG4gICAgcmV0dXJuIGZldGNoX2ZvclJlZGRpdCguLi5nZXRGZXRjaFBhcmFtcyhwYXRoLCBzZWFyY2gsIGF1dGgsIG1vbml0b3JfcXVhcmFudGluZWRfcmVtb3RlKSwgbW9uaXRvcl9xdWFyYW50aW5lZClcbn1cblxuZXhwb3J0IGNvbnN0IGhhbmRsZUZldGNoRXJyb3JzID0gKHJlc3BvbnNlKSA9PiB7XG4gICAgaWYgKCEgcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dClcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKVxufVxuXG5leHBvcnQgY29uc3QgZ2V0UmVkZGl0RGF0YSA9IChkYXRhKSA9PiB7XG4gICAgaWYgKCEgZGF0YSB8fCAhIGRhdGEuZGF0YSB8fCAhIGRhdGEuZGF0YS5jaGlsZHJlbikge1xuICAgICAgICB0aHJvdyBFcnJvcigncmVkZGl0IGRhdGEgaXMgbm90IGRlZmluZWQnKVxuICAgIH1cbiAgICByZXR1cm4gZGF0YS5kYXRhLmNoaWxkcmVuXG59XG5cbmV4cG9ydCBjb25zdCBnZXRSZWRkaXRUb2tlbiA9IChkYXRhKSA9PiB7XG4gICAgaWYgKCEgZGF0YSB8fCAhIGRhdGEuYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdhY2Nlc3MgdG9rZW4gaXMgbm90IGRlZmluZWQnKVxuICAgIH1cbiAgICByZXR1cm4gZGF0YS5hY2Nlc3NfdG9rZW5cbn1cblxuZXhwb3J0IGNvbnN0IGdldEF1dGggPSAoKSA9PiB7XG4gICAgcmV0dXJuIGdldE9wdGlvbnMoKHVzZXJzLCBvdGhlcnMsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgdmFyIHVzZV90aGlzX2NsaWVudElEID0gY2xpZW50SURcbiAgICAgICAgaWYgKG9wdGlvbnMuY3VzdG9tX2NsaWVudGlkKSB7XG4gICAgICAgICAgICB1c2VfdGhpc19jbGllbnRJRCA9IG9wdGlvbnMuY3VzdG9tX2NsaWVudGlkXG4gICAgICAgICAgICBpZiAodXNlX3RoaXNfY2xpZW50SUQgPT09ICd0ZXN0aW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBOT19BVVRIXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW5Jbml0ID0ge1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCYXNpYyAke2J0b2EoYCR7dXNlX3RoaXNfY2xpZW50SUR9OmApfWAsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9dXRmLTgnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBib2R5OiBgZ3JhbnRfdHlwZT0ke2VuY29kZVVSSUNvbXBvbmVudCgnaHR0cHM6Ly9vYXV0aC5yZWRkaXQuY29tL2dyYW50cy9pbnN0YWxsZWRfY2xpZW50Jyl9JmRldmljZV9pZD1ET19OT1RfVFJBQ0tfVEhJU19ERVZJQ0VgXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHBzOi8vd3d3LnJlZGRpdC5jb20vYXBpL3YxL2FjY2Vzc190b2tlbicsIHRva2VuSW5pdClcbiAgICAgICAgLnRoZW4oaGFuZGxlRmV0Y2hFcnJvcnMpXG4gICAgICAgIC50aGVuKGdldFJlZGRpdFRva2VuKVxuICAgICAgICAudGhlbih0b2tlbiA9PiAoe1xuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBiZWFyZXIgJHt0b2tlbn1gXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKVxuICAgICAgICAuY2F0Y2goY29uc29sZS5sb2cpXG4gICAgfSlcblxufVxuXG4vLyBjb2RlOiBodHRwczovL2dpdGh1Yi5jb20vdG9vbGJveC10ZWFtL3JlZGRpdC1tb2RlcmF0b3ItdG9vbGJveC9ibG9iLzQzNGVjMGJiNzFlYmJhMmZjZjBjYjVlNGNhZDUyOTAzNWExYWU3NDIvZXh0ZW5zaW9uL2RhdGEvYmFja2dyb3VuZC9oYW5kbGVycy93ZWJyZXF1ZXN0LmpzI0wzNFxuLy8gZGlzY3Vzc2lvbjogaHR0cHM6Ly93d3cucmVkZGl0LmNvbS9yL3JlZGRpdGRldi9jb21tZW50cy81amY0eWcvYXBpX25ld19tb2RtYWlsL2RiZm53OTgvXG5leHBvcnQgY29uc3QgZ2V0TG9jYWxBdXRoID0gKCkgPT4ge1xuICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9tb2QucmVkZGl0LmNvbS9tYWlsL2FsbCcpXG4gICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgZ2V0Q29va2llKHt1cmw6ICdodHRwczovL21vZC5yZWRkaXQuY29tJywgbmFtZTogJ3Rva2VuJ30pXG4gICAgICAgIC50aGVuKGNvb2tpZSA9PiB7XG4gICAgICAgICAgICBpZiAoY29va2llKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGludmFsaWQgY2hhcnMgYXQgdGhlIGVuZCBwZXIgZGlzY3Vzc2lvblxuICAgICAgICAgICAgICAgIGNvbnN0IGludmFsaWRDaGFyID0gbmV3IFJlZ0V4cCgnW15BLVphLXowLTkrL10uKj8kJylcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlNjRDb29raWUgPSBjb29raWUudmFsdWUucmVwbGFjZShpbnZhbGlkQ2hhciwgJycpXG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW5EYXRhID0gYXRvYihiYXNlNjRDb29raWUpXG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gSlNPTi5wYXJzZSh0b2tlbkRhdGEpXG4gICAgICAgICAgICAgICAgaWYgKCdhY2Nlc3NUb2tlbicgaW4gdG9rZW5zICYmIHRva2Vucy5hY2Nlc3NUb2tlbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdXRoID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBiZWFyZXIgJHt0b2tlbnMuYWNjZXNzVG9rZW59YFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhdXRoXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgZ2V0Q29va2llID0gKHt1cmwsIG5hbWV9KSA9PiB7XG4gICAgaWYgKGxvY2F0aW9uLnByb3RvY29sLm1hdGNoKC9eaHR0cC8pKSB7XG4gICAgICAgIHJldHVybiBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgYWN0aW9uOiAnZ2V0LWNvb2tpZScsXG4gICAgICAgICAgICBvcHRpb25zOiB7dXJsLCBuYW1lfVxuICAgICAgICB9KVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuY29va2llXG4gICAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGJyb3dzZXIuY29va2llcy5nZXQoe3VybCwgbmFtZX0pXG4gICAgfVxufVxuXG5jb25zdCBnZXRGZXRjaFBhcmFtcyA9IChwYXRoLCBzZWFyY2gsIGF1dGgsIG1vbml0b3JfcXVhcmFudGluZWRfcmVtb3RlKSA9PiB7XG4gICAgaWYgKCEgYXV0aCB8fCBhdXRoID09PSBOT19BVVRIKSB7XG4gICAgICAgIGxldCB1cmwgPSAobW9uaXRvcl9xdWFyYW50aW5lZF9yZW1vdGUgPyBXV1dfUkVWRURESVQgOiB3d3dfcmVkZGl0KStwYXRoXG4gICAgICAgIGlmIChwYXRoID09PSAnYXBpL2luZm8nKSB7XG4gICAgICAgICAgICB1cmwgKz0gJy5qc29uJ1xuICAgICAgICB9XG4gICAgICAgIHVybCArPSBzZWFyY2hcbiAgICAgICAgcmV0dXJuIFt1cmxdXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdXJsID0gKG1vbml0b3JfcXVhcmFudGluZWRfcmVtb3RlID8gT0FVVEhfUkVWRURESVQgOiBvYXV0aF9yZWRkaXQpK3BhdGgrc2VhcmNoXG4gICAgICAgIHJldHVybiBbdXJsLCBhdXRoXVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldExvY2FsT3JBcHBBdXRoID0gKCkgPT4ge1xuICAgIHJldHVybiBnZXRMb2NhbEF1dGgoKVxuICAgIC50aGVuKGF1dGggPT4ge1xuICAgICAgICBpZiAoYXV0aCkgcmV0dXJuIGF1dGhcbiAgICAgICAgcmV0dXJuIGdldEF1dGgoKVxuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxufVxuXG5leHBvcnQgY29uc3QgZ2V0TG9nZ2VkaW5Vc2VyID0gKCkgPT4ge1xuICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly93d3cucmVkZGl0LmNvbS9hcGkvbWUuanNvbicpXG4gICAgLnRoZW4oaGFuZGxlRmV0Y2hFcnJvcnMpXG4gICAgLnRoZW4oZ2V0UmVkZGl0VXNlcm5hbWUpXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxufVxuXG5jb25zdCBnZXRSZWRkaXRVc2VybmFtZSA9IChkYXRhKSA9PiB7XG4gICAgaWYgKCEgZGF0YSB8fCAhIGRhdGEuZGF0YSB8fCAhIGRhdGEuZGF0YS5uYW1lKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdyZWRkaXQgdXNlcm5hbWUgaXMgbm90IGRlZmluZWQnKVxuICAgIH1cbiAgICByZXR1cm4gZGF0YS5kYXRhLm5hbWVcbn1cbiIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiLCBbXCJtb2R1bGVcIl0sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgZmFjdG9yeShtb2R1bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciBtb2QgPSB7XG4gICAgICBleHBvcnRzOiB7fVxuICAgIH07XG4gICAgZmFjdG9yeShtb2QpO1xuICAgIGdsb2JhbC5icm93c2VyID0gbW9kLmV4cG9ydHM7XG4gIH1cbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgLyogd2ViZXh0ZW5zaW9uLXBvbHlmaWxsIC0gdjAuNS4wIC0gVGh1IFNlcCAyNiAyMDE5IDIyOjIyOjI2ICovXG4gIC8qIC0qLSBNb2RlOiBpbmRlbnQtdGFicy1tb2RlOiBuaWw7IGpzLWluZGVudC1sZXZlbDogMiAtKi0gKi9cbiAgLyogdmltOiBzZXQgc3RzPTIgc3c9MiBldCB0dz04MDogKi9cbiAgLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICAgKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gICAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGlmICh0eXBlb2YgYnJvd3NlciA9PT0gXCJ1bmRlZmluZWRcIiB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYnJvd3NlcikgIT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICBjb25zdCBDSFJPTUVfU0VORF9NRVNTQUdFX0NBTExCQUNLX05PX1JFU1BPTlNFX01FU1NBR0UgPSBcIlRoZSBtZXNzYWdlIHBvcnQgY2xvc2VkIGJlZm9yZSBhIHJlc3BvbnNlIHdhcyByZWNlaXZlZC5cIjtcbiAgICBjb25zdCBTRU5EX1JFU1BPTlNFX0RFUFJFQ0FUSU9OX1dBUk5JTkcgPSBcIlJldHVybmluZyBhIFByb21pc2UgaXMgdGhlIHByZWZlcnJlZCB3YXkgdG8gc2VuZCBhIHJlcGx5IGZyb20gYW4gb25NZXNzYWdlL29uTWVzc2FnZUV4dGVybmFsIGxpc3RlbmVyLCBhcyB0aGUgc2VuZFJlc3BvbnNlIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBzcGVjcyAoU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvTW96aWxsYS9BZGQtb25zL1dlYkV4dGVuc2lvbnMvQVBJL3J1bnRpbWUvb25NZXNzYWdlKVwiO1xuXG4gICAgLy8gV3JhcHBpbmcgdGhlIGJ1bGsgb2YgdGhpcyBwb2x5ZmlsbCBpbiBhIG9uZS10aW1lLXVzZSBmdW5jdGlvbiBpcyBhIG1pbm9yXG4gICAgLy8gb3B0aW1pemF0aW9uIGZvciBGaXJlZm94LiBTaW5jZSBTcGlkZXJtb25rZXkgZG9lcyBub3QgZnVsbHkgcGFyc2UgdGhlXG4gICAgLy8gY29udGVudHMgb2YgYSBmdW5jdGlvbiB1bnRpbCB0aGUgZmlyc3QgdGltZSBpdCdzIGNhbGxlZCwgYW5kIHNpbmNlIGl0IHdpbGxcbiAgICAvLyBuZXZlciBhY3R1YWxseSBuZWVkIHRvIGJlIGNhbGxlZCwgdGhpcyBhbGxvd3MgdGhlIHBvbHlmaWxsIHRvIGJlIGluY2x1ZGVkXG4gICAgLy8gaW4gRmlyZWZveCBuZWFybHkgZm9yIGZyZWUuXG4gICAgY29uc3Qgd3JhcEFQSXMgPSBleHRlbnNpb25BUElzID0+IHtcbiAgICAgIC8vIE5PVEU6IGFwaU1ldGFkYXRhIGlzIGFzc29jaWF0ZWQgdG8gdGhlIGNvbnRlbnQgb2YgdGhlIGFwaS1tZXRhZGF0YS5qc29uIGZpbGVcbiAgICAgIC8vIGF0IGJ1aWxkIHRpbWUgYnkgcmVwbGFjaW5nIHRoZSBmb2xsb3dpbmcgXCJpbmNsdWRlXCIgd2l0aCB0aGUgY29udGVudCBvZiB0aGVcbiAgICAgIC8vIEpTT04gZmlsZS5cbiAgICAgIGNvbnN0IGFwaU1ldGFkYXRhID0ge1xuICAgICAgICBcImFsYXJtc1wiOiB7XG4gICAgICAgICAgXCJjbGVhclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImNsZWFyQWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYm9va21hcmtzXCI6IHtcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldENoaWxkcmVuXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UmVjZW50XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0U3ViVHJlZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFRyZWVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlVHJlZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlYXJjaFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImJyb3dzZXJBY3Rpb25cIjoge1xuICAgICAgICAgIFwiZGlzYWJsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImVuYWJsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEJhZGdlQmFja2dyb3VuZENvbG9yXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QmFkZ2VUZXh0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRUaXRsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm9wZW5Qb3B1cFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldEJhZGdlQmFja2dyb3VuZENvbG9yXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0QmFkZ2VUZXh0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0SWNvblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJicm93c2luZ0RhdGFcIjoge1xuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlQ2FjaGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVDb29raWVzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlRG93bmxvYWRzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlRm9ybURhdGFcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVIaXN0b3J5XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlTG9jYWxTdG9yYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlUGFzc3dvcmRzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlUGx1Z2luRGF0YVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldHRpbmdzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiY29tbWFuZHNcIjoge1xuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiY29udGV4dE1lbnVzXCI6IHtcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImNvb2tpZXNcIjoge1xuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsQ29va2llU3RvcmVzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGV2dG9vbHNcIjoge1xuICAgICAgICAgIFwiaW5zcGVjdGVkV2luZG93XCI6IHtcbiAgICAgICAgICAgIFwiZXZhbFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMixcbiAgICAgICAgICAgICAgXCJzaW5nbGVDYWxsYmFja0FyZ1wiOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJwYW5lbHNcIjoge1xuICAgICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMyxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDMsXG4gICAgICAgICAgICAgIFwic2luZ2xlQ2FsbGJhY2tBcmdcIjogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJkb3dubG9hZHNcIjoge1xuICAgICAgICAgIFwiY2FuY2VsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZG93bmxvYWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJlcmFzZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEZpbGVJY29uXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwib3BlblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInBhdXNlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlRmlsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlc3VtZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlYXJjaFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNob3dcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJleHRlbnNpb25cIjoge1xuICAgICAgICAgIFwiaXNBbGxvd2VkRmlsZVNjaGVtZUFjY2Vzc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImlzQWxsb3dlZEluY29nbml0b0FjY2Vzc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImhpc3RvcnlcIjoge1xuICAgICAgICAgIFwiYWRkVXJsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGVsZXRlQWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGVsZXRlUmFuZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZWxldGVVcmxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRWaXNpdHNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZWFyY2hcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpMThuXCI6IHtcbiAgICAgICAgICBcImRldGVjdExhbmd1YWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWNjZXB0TGFuZ3VhZ2VzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiaWRlbnRpdHlcIjoge1xuICAgICAgICAgIFwibGF1bmNoV2ViQXV0aEZsb3dcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpZGxlXCI6IHtcbiAgICAgICAgICBcInF1ZXJ5U3RhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJtYW5hZ2VtZW50XCI6IHtcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFNlbGZcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRFbmFibGVkXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwidW5pbnN0YWxsU2VsZlwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIm5vdGlmaWNhdGlvbnNcIjoge1xuICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRQZXJtaXNzaW9uTGV2ZWxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJwYWdlQWN0aW9uXCI6IHtcbiAgICAgICAgICBcImdldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJoaWRlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0SWNvblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzaG93XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicGVybWlzc2lvbnNcIjoge1xuICAgICAgICAgIFwiY29udGFpbnNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZXF1ZXN0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicnVudGltZVwiOiB7XG4gICAgICAgICAgXCJnZXRCYWNrZ3JvdW5kUGFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFBsYXRmb3JtSW5mb1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm9wZW5PcHRpb25zUGFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlcXVlc3RVcGRhdGVDaGVja1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlbmRNZXNzYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDNcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2VuZE5hdGl2ZU1lc3NhZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRVbmluc3RhbGxVUkxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXNzaW9uc1wiOiB7XG4gICAgICAgICAgXCJnZXREZXZpY2VzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UmVjZW50bHlDbG9zZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZXN0b3JlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic3RvcmFnZVwiOiB7XG4gICAgICAgICAgXCJsb2NhbFwiOiB7XG4gICAgICAgICAgICBcImNsZWFyXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm1hbmFnZWRcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic3luY1wiOiB7XG4gICAgICAgICAgICBcImNsZWFyXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInRhYnNcIjoge1xuICAgICAgICAgIFwiY2FwdHVyZVZpc2libGVUYWJcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZXRlY3RMYW5ndWFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImRpc2NhcmRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkdXBsaWNhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJleGVjdXRlU2NyaXB0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0Q3VycmVudFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFpvb21cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRab29tU2V0dGluZ3NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJoaWdobGlnaHRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJpbnNlcnRDU1NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicXVlcnlcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZWxvYWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVDU1NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZW5kTWVzc2FnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAzXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFpvb21cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRab29tU2V0dGluZ3NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0b3BTaXRlc1wiOiB7XG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ3ZWJOYXZpZ2F0aW9uXCI6IHtcbiAgICAgICAgICBcImdldEFsbEZyYW1lc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEZyYW1lXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwid2ViUmVxdWVzdFwiOiB7XG4gICAgICAgICAgXCJoYW5kbGVyQmVoYXZpb3JDaGFuZ2VkXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwid2luZG93c1wiOiB7XG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRDdXJyZW50XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0TGFzdEZvY3VzZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKE9iamVjdC5rZXlzKGFwaU1ldGFkYXRhKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXBpLW1ldGFkYXRhLmpzb24gaGFzIG5vdCBiZWVuIGluY2x1ZGVkIGluIGJyb3dzZXItcG9seWZpbGxcIik7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQSBXZWFrTWFwIHN1YmNsYXNzIHdoaWNoIGNyZWF0ZXMgYW5kIHN0b3JlcyBhIHZhbHVlIGZvciBhbnkga2V5IHdoaWNoIGRvZXNcbiAgICAgICAqIG5vdCBleGlzdCB3aGVuIGFjY2Vzc2VkLCBidXQgYmVoYXZlcyBleGFjdGx5IGFzIGFuIG9yZGluYXJ5IFdlYWtNYXBcbiAgICAgICAqIG90aGVyd2lzZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjcmVhdGVJdGVtXG4gICAgICAgKiAgICAgICAgQSBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCBpbiBvcmRlciB0byBjcmVhdGUgdGhlIHZhbHVlIGZvciBhbnlcbiAgICAgICAqICAgICAgICBrZXkgd2hpY2ggZG9lcyBub3QgZXhpc3QsIHRoZSBmaXJzdCB0aW1lIGl0IGlzIGFjY2Vzc2VkLiBUaGVcbiAgICAgICAqICAgICAgICBmdW5jdGlvbiByZWNlaXZlcywgYXMgaXRzIG9ubHkgYXJndW1lbnQsIHRoZSBrZXkgYmVpbmcgY3JlYXRlZC5cbiAgICAgICAqL1xuICAgICAgY2xhc3MgRGVmYXVsdFdlYWtNYXAgZXh0ZW5kcyBXZWFrTWFwIHtcbiAgICAgICAgY29uc3RydWN0b3IoY3JlYXRlSXRlbSwgaXRlbXMgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzdXBlcihpdGVtcyk7XG4gICAgICAgICAgdGhpcy5jcmVhdGVJdGVtID0gY3JlYXRlSXRlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldChrZXkpIHtcbiAgICAgICAgICBpZiAoIXRoaXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdGhpcy5jcmVhdGVJdGVtKGtleSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzdXBlci5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGFuIG9iamVjdCB3aXRoIGEgYHRoZW5gIG1ldGhvZCwgYW5kIGNhblxuICAgICAgICogdGhlcmVmb3JlIGJlIGFzc3VtZWQgdG8gYmVoYXZlIGFzIGEgUHJvbWlzZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0ZXN0LlxuICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHRoZW5hYmxlLlxuICAgICAgICovXG4gICAgICBjb25zdCBpc1RoZW5hYmxlID0gdmFsdWUgPT4ge1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBmdW5jdGlvbiB3aGljaCwgd2hlbiBjYWxsZWQsIHdpbGwgcmVzb2x2ZSBvciByZWplY3RcbiAgICAgICAqIHRoZSBnaXZlbiBwcm9taXNlIGJhc2VkIG9uIGhvdyBpdCBpcyBjYWxsZWQ6XG4gICAgICAgKlxuICAgICAgICogLSBJZiwgd2hlbiBjYWxsZWQsIGBjaHJvbWUucnVudGltZS5sYXN0RXJyb3JgIGNvbnRhaW5zIGEgbm9uLW51bGwgb2JqZWN0LFxuICAgICAgICogICB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCB3aXRoIHRoYXQgdmFsdWUuXG4gICAgICAgKiAtIElmIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBleGFjdGx5IG9uZSBhcmd1bWVudCwgdGhlIHByb21pc2UgaXNcbiAgICAgICAqICAgcmVzb2x2ZWQgdG8gdGhhdCB2YWx1ZS5cbiAgICAgICAqIC0gT3RoZXJ3aXNlLCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCB0byBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGVcbiAgICAgICAqICAgZnVuY3Rpb24ncyBhcmd1bWVudHMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHByb21pc2VcbiAgICAgICAqICAgICAgICBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgcmVzb2x1dGlvbiBhbmQgcmVqZWN0aW9uIGZ1bmN0aW9ucyBvZiBhXG4gICAgICAgKiAgICAgICAgcHJvbWlzZS5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHByb21pc2UucmVzb2x2ZVxuICAgICAgICogICAgICAgIFRoZSBwcm9taXNlJ3MgcmVzb2x1dGlvbiBmdW5jdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHByb21pc2UucmVqZWN0aW9uXG4gICAgICAgKiAgICAgICAgVGhlIHByb21pc2UncyByZWplY3Rpb24gZnVuY3Rpb24uXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gbWV0YWRhdGFcbiAgICAgICAqICAgICAgICBNZXRhZGF0YSBhYm91dCB0aGUgd3JhcHBlZCBtZXRob2Qgd2hpY2ggaGFzIGNyZWF0ZWQgdGhlIGNhbGxiYWNrLlxuICAgICAgICogQHBhcmFtIHtpbnRlZ2VyfSBtZXRhZGF0YS5tYXhSZXNvbHZlZEFyZ3NcbiAgICAgICAqICAgICAgICBUaGUgbWF4aW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHdoaWNoIG1heSBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICAgKiAgICAgICAgY2FsbGJhY2sgY3JlYXRlZCBieSB0aGUgd3JhcHBlZCBhc3luYyBmdW5jdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gICAgICAgKiAgICAgICAgVGhlIGdlbmVyYXRlZCBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgICAqL1xuICAgICAgY29uc3QgbWFrZUNhbGxiYWNrID0gKHByb21pc2UsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiAoLi4uY2FsbGJhY2tBcmdzKSA9PiB7XG4gICAgICAgICAgaWYgKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IpIHtcbiAgICAgICAgICAgIHByb21pc2UucmVqZWN0KGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobWV0YWRhdGEuc2luZ2xlQ2FsbGJhY2tBcmcgfHwgY2FsbGJhY2tBcmdzLmxlbmd0aCA8PSAxICYmIG1ldGFkYXRhLnNpbmdsZUNhbGxiYWNrQXJnICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKGNhbGxiYWNrQXJnc1swXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZShjYWxsYmFja0FyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHBsdXJhbGl6ZUFyZ3VtZW50cyA9IG51bUFyZ3MgPT4gbnVtQXJncyA9PSAxID8gXCJhcmd1bWVudFwiIDogXCJhcmd1bWVudHNcIjtcblxuICAgICAgLyoqXG4gICAgICAgKiBDcmVhdGVzIGEgd3JhcHBlciBmdW5jdGlvbiBmb3IgYSBtZXRob2Qgd2l0aCB0aGUgZ2l2ZW4gbmFtZSBhbmQgbWV0YWRhdGEuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgICAqICAgICAgICBUaGUgbmFtZSBvZiB0aGUgbWV0aG9kIHdoaWNoIGlzIGJlaW5nIHdyYXBwZWQuXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gbWV0YWRhdGFcbiAgICAgICAqICAgICAgICBNZXRhZGF0YSBhYm91dCB0aGUgbWV0aG9kIGJlaW5nIHdyYXBwZWQuXG4gICAgICAgKiBAcGFyYW0ge2ludGVnZXJ9IG1ldGFkYXRhLm1pbkFyZ3NcbiAgICAgICAqICAgICAgICBUaGUgbWluaW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHdoaWNoIG11c3QgYmUgcGFzc2VkIHRvIHRoZVxuICAgICAgICogICAgICAgIGZ1bmN0aW9uLiBJZiBjYWxsZWQgd2l0aCBmZXdlciB0aGFuIHRoaXMgbnVtYmVyIG9mIGFyZ3VtZW50cywgdGhlXG4gICAgICAgKiAgICAgICAgd3JhcHBlciB3aWxsIHJhaXNlIGFuIGV4Y2VwdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7aW50ZWdlcn0gbWV0YWRhdGEubWF4QXJnc1xuICAgICAgICogICAgICAgIFRoZSBtYXhpbXVtIG51bWJlciBvZiBhcmd1bWVudHMgd2hpY2ggbWF5IGJlIHBhc3NlZCB0byB0aGVcbiAgICAgICAqICAgICAgICBmdW5jdGlvbi4gSWYgY2FsbGVkIHdpdGggbW9yZSB0aGFuIHRoaXMgbnVtYmVyIG9mIGFyZ3VtZW50cywgdGhlXG4gICAgICAgKiAgICAgICAgd3JhcHBlciB3aWxsIHJhaXNlIGFuIGV4Y2VwdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7aW50ZWdlcn0gbWV0YWRhdGEubWF4UmVzb2x2ZWRBcmdzXG4gICAgICAgKiAgICAgICAgVGhlIG1heGltdW0gbnVtYmVyIG9mIGFyZ3VtZW50cyB3aGljaCBtYXkgYmUgcGFzc2VkIHRvIHRoZVxuICAgICAgICogICAgICAgIGNhbGxiYWNrIGNyZWF0ZWQgYnkgdGhlIHdyYXBwZWQgYXN5bmMgZnVuY3Rpb24uXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKG9iamVjdCwgLi4uKil9XG4gICAgICAgKiAgICAgICBUaGUgZ2VuZXJhdGVkIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IHdyYXBBc3luY0Z1bmN0aW9uID0gKG5hbWUsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBhc3luY0Z1bmN0aW9uV3JhcHBlcih0YXJnZXQsIC4uLmFyZ3MpIHtcbiAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPCBtZXRhZGF0YS5taW5BcmdzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0ICR7bWV0YWRhdGEubWluQXJnc30gJHtwbHVyYWxpemVBcmd1bWVudHMobWV0YWRhdGEubWluQXJncyl9IGZvciAke25hbWV9KCksIGdvdCAke2FyZ3MubGVuZ3RofWApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IG1ldGFkYXRhLm1heEFyZ3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXQgbW9zdCAke21ldGFkYXRhLm1heEFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1heEFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKG1ldGFkYXRhLmZhbGxiYWNrVG9Ob0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgQVBJIG1ldGhvZCBoYXMgY3VycmVudGx5IG5vIGNhbGxiYWNrIG9uIENocm9tZSwgYnV0IGl0IHJldHVybiBhIHByb21pc2Ugb24gRmlyZWZveCxcbiAgICAgICAgICAgICAgLy8gYW5kIHNvIHRoZSBwb2x5ZmlsbCB3aWxsIHRyeSB0byBjYWxsIGl0IHdpdGggYSBjYWxsYmFjayBmaXJzdCwgYW5kIGl0IHdpbGwgZmFsbGJhY2tcbiAgICAgICAgICAgICAgLy8gdG8gbm90IHBhc3NpbmcgdGhlIGNhbGxiYWNrIGlmIHRoZSBmaXJzdCBjYWxsIGZhaWxzLlxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzLCBtYWtlQ2FsbGJhY2soeyByZXNvbHZlLCByZWplY3QgfSwgbWV0YWRhdGEpKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoY2JFcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgJHtuYW1lfSBBUEkgbWV0aG9kIGRvZXNuJ3Qgc2VlbSB0byBzdXBwb3J0IHRoZSBjYWxsYmFjayBwYXJhbWV0ZXIsIGAgKyBcImZhbGxpbmcgYmFjayB0byBjYWxsIGl0IHdpdGhvdXQgYSBjYWxsYmFjazogXCIsIGNiRXJyb3IpO1xuXG4gICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdKC4uLmFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBBUEkgbWV0aG9kIG1ldGFkYXRhLCBzbyB0aGF0IHRoZSBuZXh0IEFQSSBjYWxscyB3aWxsIG5vdCB0cnkgdG9cbiAgICAgICAgICAgICAgICAvLyB1c2UgdGhlIHVuc3VwcG9ydGVkIGNhbGxiYWNrIGFueW1vcmUuXG4gICAgICAgICAgICAgICAgbWV0YWRhdGEuZmFsbGJhY2tUb05vQ2FsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YS5ub0NhbGxiYWNrID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChtZXRhZGF0YS5ub0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdKC4uLmFyZ3MsIG1ha2VDYWxsYmFjayh7IHJlc29sdmUsIHJlamVjdCB9LCBtZXRhZGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBXcmFwcyBhbiBleGlzdGluZyBtZXRob2Qgb2YgdGhlIHRhcmdldCBvYmplY3QsIHNvIHRoYXQgY2FsbHMgdG8gaXQgYXJlXG4gICAgICAgKiBpbnRlcmNlcHRlZCBieSB0aGUgZ2l2ZW4gd3JhcHBlciBmdW5jdGlvbi4gVGhlIHdyYXBwZXIgZnVuY3Rpb24gcmVjZWl2ZXMsXG4gICAgICAgKiBhcyBpdHMgZmlyc3QgYXJndW1lbnQsIHRoZSBvcmlnaW5hbCBgdGFyZ2V0YCBvYmplY3QsIGZvbGxvd2VkIGJ5IGVhY2ggb2ZcbiAgICAgICAqIHRoZSBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBvcmlnaW5hbCBtZXRob2QuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHRhcmdldFxuICAgICAgICogICAgICAgIFRoZSBvcmlnaW5hbCB0YXJnZXQgb2JqZWN0IHRoYXQgdGhlIHdyYXBwZWQgbWV0aG9kIGJlbG9uZ3MgdG8uXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtZXRob2RcbiAgICAgICAqICAgICAgICBUaGUgbWV0aG9kIGJlaW5nIHdyYXBwZWQuIFRoaXMgaXMgdXNlZCBhcyB0aGUgdGFyZ2V0IG9mIHRoZSBQcm94eVxuICAgICAgICogICAgICAgIG9iamVjdCB3aGljaCBpcyBjcmVhdGVkIHRvIHdyYXAgdGhlIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHdyYXBwZXJcbiAgICAgICAqICAgICAgICBUaGUgd3JhcHBlciBmdW5jdGlvbiB3aGljaCBpcyBjYWxsZWQgaW4gcGxhY2Ugb2YgYSBkaXJlY3QgaW52b2NhdGlvblxuICAgICAgICogICAgICAgIG9mIHRoZSB3cmFwcGVkIG1ldGhvZC5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7UHJveHk8ZnVuY3Rpb24+fVxuICAgICAgICogICAgICAgIEEgUHJveHkgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gbWV0aG9kLCB3aGljaCBpbnZva2VzIHRoZSBnaXZlbiB3cmFwcGVyXG4gICAgICAgKiAgICAgICAgbWV0aG9kIGluIGl0cyBwbGFjZS5cbiAgICAgICAqL1xuICAgICAgY29uc3Qgd3JhcE1ldGhvZCA9ICh0YXJnZXQsIG1ldGhvZCwgd3JhcHBlcikgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KG1ldGhvZCwge1xuICAgICAgICAgIGFwcGx5KHRhcmdldE1ldGhvZCwgdGhpc09iaiwgYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIuY2FsbCh0aGlzT2JqLCB0YXJnZXQsIC4uLmFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBsZXQgaGFzT3duUHJvcGVydHkgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG5cbiAgICAgIC8qKlxuICAgICAgICogV3JhcHMgYW4gb2JqZWN0IGluIGEgUHJveHkgd2hpY2ggaW50ZXJjZXB0cyBhbmQgd3JhcHMgY2VydGFpbiBtZXRob2RzXG4gICAgICAgKiBiYXNlZCBvbiB0aGUgZ2l2ZW4gYHdyYXBwZXJzYCBhbmQgYG1ldGFkYXRhYCBvYmplY3RzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXRcbiAgICAgICAqICAgICAgICBUaGUgdGFyZ2V0IG9iamVjdCB0byB3cmFwLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbd3JhcHBlcnMgPSB7fV1cbiAgICAgICAqICAgICAgICBBbiBvYmplY3QgdHJlZSBjb250YWluaW5nIHdyYXBwZXIgZnVuY3Rpb25zIGZvciBzcGVjaWFsIGNhc2VzLiBBbnlcbiAgICAgICAqICAgICAgICBmdW5jdGlvbiBwcmVzZW50IGluIHRoaXMgb2JqZWN0IHRyZWUgaXMgY2FsbGVkIGluIHBsYWNlIG9mIHRoZVxuICAgICAgICogICAgICAgIG1ldGhvZCBpbiB0aGUgc2FtZSBsb2NhdGlvbiBpbiB0aGUgYHRhcmdldGAgb2JqZWN0IHRyZWUuIFRoZXNlXG4gICAgICAgKiAgICAgICAgd3JhcHBlciBtZXRob2RzIGFyZSBpbnZva2VkIGFzIGRlc2NyaWJlZCBpbiB7QHNlZSB3cmFwTWV0aG9kfS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gW21ldGFkYXRhID0ge31dXG4gICAgICAgKiAgICAgICAgQW4gb2JqZWN0IHRyZWUgY29udGFpbmluZyBtZXRhZGF0YSB1c2VkIHRvIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVcbiAgICAgICAqICAgICAgICBQcm9taXNlLWJhc2VkIHdyYXBwZXIgZnVuY3Rpb25zIGZvciBhc3luY2hyb25vdXMuIEFueSBmdW5jdGlvbiBpblxuICAgICAgICogICAgICAgIHRoZSBgdGFyZ2V0YCBvYmplY3QgdHJlZSB3aGljaCBoYXMgYSBjb3JyZXNwb25kaW5nIG1ldGFkYXRhIG9iamVjdFxuICAgICAgICogICAgICAgIGluIHRoZSBzYW1lIGxvY2F0aW9uIGluIHRoZSBgbWV0YWRhdGFgIHRyZWUgaXMgcmVwbGFjZWQgd2l0aCBhblxuICAgICAgICogICAgICAgIGF1dG9tYXRpY2FsbHktZ2VuZXJhdGVkIHdyYXBwZXIgZnVuY3Rpb24sIGFzIGRlc2NyaWJlZCBpblxuICAgICAgICogICAgICAgIHtAc2VlIHdyYXBBc3luY0Z1bmN0aW9ufVxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtQcm94eTxvYmplY3Q+fVxuICAgICAgICovXG4gICAgICBjb25zdCB3cmFwT2JqZWN0ID0gKHRhcmdldCwgd3JhcHBlcnMgPSB7fSwgbWV0YWRhdGEgPSB7fSkgPT4ge1xuICAgICAgICBsZXQgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB7XG4gICAgICAgICAgaGFzKHByb3h5VGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcCBpbiB0YXJnZXQgfHwgcHJvcCBpbiBjYWNoZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZ2V0KHByb3h5VGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgaWYgKHByb3AgaW4gY2FjaGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlW3Byb3BdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIShwcm9wIGluIHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGFyZ2V0W3Byb3BdO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG1ldGhvZCBvbiB0aGUgdW5kZXJseWluZyBvYmplY3QuIENoZWNrIGlmIHdlIG5lZWQgdG8gZG9cbiAgICAgICAgICAgICAgLy8gYW55IHdyYXBwaW5nLlxuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygd3JhcHBlcnNbcHJvcF0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBzcGVjaWFsLWNhc2Ugd3JhcHBlciBmb3IgdGhpcyBtZXRob2QuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB3cmFwTWV0aG9kKHRhcmdldCwgdGFyZ2V0W3Byb3BdLCB3cmFwcGVyc1twcm9wXSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzT3duUHJvcGVydHkobWV0YWRhdGEsIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhbiBhc3luYyBtZXRob2QgdGhhdCB3ZSBoYXZlIG1ldGFkYXRhIGZvci4gQ3JlYXRlIGFcbiAgICAgICAgICAgICAgICAvLyBQcm9taXNlIHdyYXBwZXIgZm9yIGl0LlxuICAgICAgICAgICAgICAgIGxldCB3cmFwcGVyID0gd3JhcEFzeW5jRnVuY3Rpb24ocHJvcCwgbWV0YWRhdGFbcHJvcF0pO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gd3JhcE1ldGhvZCh0YXJnZXQsIHRhcmdldFtwcm9wXSwgd3JhcHBlcik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG1ldGhvZCB0aGF0IHdlIGRvbid0IGtub3cgb3IgY2FyZSBhYm91dC4gUmV0dXJuIHRoZVxuICAgICAgICAgICAgICAgIC8vIG9yaWdpbmFsIG1ldGhvZCwgYm91bmQgdG8gdGhlIHVuZGVybHlpbmcgb2JqZWN0LlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuYmluZCh0YXJnZXQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAoaGFzT3duUHJvcGVydHkod3JhcHBlcnMsIHByb3ApIHx8IGhhc093blByb3BlcnR5KG1ldGFkYXRhLCBwcm9wKSkpIHtcbiAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhbiBvYmplY3QgdGhhdCB3ZSBuZWVkIHRvIGRvIHNvbWUgd3JhcHBpbmcgZm9yIHRoZSBjaGlsZHJlblxuICAgICAgICAgICAgICAvLyBvZi4gQ3JlYXRlIGEgc3ViLW9iamVjdCB3cmFwcGVyIGZvciBpdCB3aXRoIHRoZSBhcHByb3ByaWF0ZSBjaGlsZFxuICAgICAgICAgICAgICAvLyBtZXRhZGF0YS5cbiAgICAgICAgICAgICAgdmFsdWUgPSB3cmFwT2JqZWN0KHZhbHVlLCB3cmFwcGVyc1twcm9wXSwgbWV0YWRhdGFbcHJvcF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBkbyBhbnkgd3JhcHBpbmcgZm9yIHRoaXMgcHJvcGVydHksXG4gICAgICAgICAgICAgIC8vIHNvIGp1c3QgZm9yd2FyZCBhbGwgYWNjZXNzIHRvIHRoZSB1bmRlcmx5aW5nIG9iamVjdC5cbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNhY2hlLCBwcm9wLCB7XG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhY2hlW3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHNldChwcm94eVRhcmdldCwgcHJvcCwgdmFsdWUsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICBpZiAocHJvcCBpbiBjYWNoZSkge1xuICAgICAgICAgICAgICBjYWNoZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkocHJveHlUYXJnZXQsIHByb3AsIGRlc2MpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlZmluZVByb3BlcnR5KGNhY2hlLCBwcm9wLCBkZXNjKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZGVsZXRlUHJvcGVydHkocHJveHlUYXJnZXQsIHByb3ApIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KGNhY2hlLCBwcm9wKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUGVyIGNvbnRyYWN0IG9mIHRoZSBQcm94eSBBUEksIHRoZSBcImdldFwiIHByb3h5IGhhbmRsZXIgbXVzdCByZXR1cm4gdGhlXG4gICAgICAgIC8vIG9yaWdpbmFsIHZhbHVlIG9mIHRoZSB0YXJnZXQgaWYgdGhhdCB2YWx1ZSBpcyBkZWNsYXJlZCByZWFkLW9ubHkgYW5kXG4gICAgICAgIC8vIG5vbi1jb25maWd1cmFibGUuIEZvciB0aGlzIHJlYXNvbiwgd2UgY3JlYXRlIGFuIG9iamVjdCB3aXRoIHRoZVxuICAgICAgICAvLyBwcm90b3R5cGUgc2V0IHRvIGB0YXJnZXRgIGluc3RlYWQgb2YgdXNpbmcgYHRhcmdldGAgZGlyZWN0bHkuXG4gICAgICAgIC8vIE90aGVyd2lzZSB3ZSBjYW5ub3QgcmV0dXJuIGEgY3VzdG9tIG9iamVjdCBmb3IgQVBJcyB0aGF0XG4gICAgICAgIC8vIGFyZSBkZWNsYXJlZCByZWFkLW9ubHkgYW5kIG5vbi1jb25maWd1cmFibGUsIHN1Y2ggYXMgYGNocm9tZS5kZXZ0b29sc2AuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBwcm94eSBoYW5kbGVycyB0aGVtc2VsdmVzIHdpbGwgc3RpbGwgdXNlIHRoZSBvcmlnaW5hbCBgdGFyZ2V0YFxuICAgICAgICAvLyBpbnN0ZWFkIG9mIHRoZSBgcHJveHlUYXJnZXRgLCBzbyB0aGF0IHRoZSBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFyZVxuICAgICAgICAvLyBkZXJlZmVyZW5jZWQgdmlhIHRoZSBvcmlnaW5hbCB0YXJnZXRzLlxuICAgICAgICBsZXQgcHJveHlUYXJnZXQgPSBPYmplY3QuY3JlYXRlKHRhcmdldCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkocHJveHlUYXJnZXQsIGhhbmRsZXJzKTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlcyBhIHNldCBvZiB3cmFwcGVyIGZ1bmN0aW9ucyBmb3IgYW4gZXZlbnQgb2JqZWN0LCB3aGljaCBoYW5kbGVzXG4gICAgICAgKiB3cmFwcGluZyBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdGhhdCB0aG9zZSBtZXNzYWdlcyBhcmUgcGFzc2VkLlxuICAgICAgICpcbiAgICAgICAqIEEgc2luZ2xlIHdyYXBwZXIgaXMgY3JlYXRlZCBmb3IgZWFjaCBsaXN0ZW5lciBmdW5jdGlvbiwgYW5kIHN0b3JlZCBpbiBhXG4gICAgICAgKiBtYXAuIFN1YnNlcXVlbnQgY2FsbHMgdG8gYGFkZExpc3RlbmVyYCwgYGhhc0xpc3RlbmVyYCwgb3IgYHJlbW92ZUxpc3RlbmVyYFxuICAgICAgICogcmV0cmlldmUgdGhlIG9yaWdpbmFsIHdyYXBwZXIsIHNvIHRoYXQgIGF0dGVtcHRzIHRvIHJlbW92ZSBhXG4gICAgICAgKiBwcmV2aW91c2x5LWFkZGVkIGxpc3RlbmVyIHdvcmsgYXMgZXhwZWN0ZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtEZWZhdWx0V2Vha01hcDxmdW5jdGlvbiwgZnVuY3Rpb24+fSB3cmFwcGVyTWFwXG4gICAgICAgKiAgICAgICAgQSBEZWZhdWx0V2Vha01hcCBvYmplY3Qgd2hpY2ggd2lsbCBjcmVhdGUgdGhlIGFwcHJvcHJpYXRlIHdyYXBwZXJcbiAgICAgICAqICAgICAgICBmb3IgYSBnaXZlbiBsaXN0ZW5lciBmdW5jdGlvbiB3aGVuIG9uZSBkb2VzIG5vdCBleGlzdCwgYW5kIHJldHJpZXZlXG4gICAgICAgKiAgICAgICAgYW4gZXhpc3Rpbmcgb25lIHdoZW4gaXQgZG9lcy5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAgICovXG4gICAgICBjb25zdCB3cmFwRXZlbnQgPSB3cmFwcGVyTWFwID0+ICh7XG4gICAgICAgIGFkZExpc3RlbmVyKHRhcmdldCwgbGlzdGVuZXIsIC4uLmFyZ3MpIHtcbiAgICAgICAgICB0YXJnZXQuYWRkTGlzdGVuZXIod3JhcHBlck1hcC5nZXQobGlzdGVuZXIpLCAuLi5hcmdzKTtcbiAgICAgICAgfSxcblxuICAgICAgICBoYXNMaXN0ZW5lcih0YXJnZXQsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgcmV0dXJuIHRhcmdldC5oYXNMaXN0ZW5lcih3cmFwcGVyTWFwLmdldChsaXN0ZW5lcikpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZUxpc3RlbmVyKHRhcmdldCwgbGlzdGVuZXIpIHtcbiAgICAgICAgICB0YXJnZXQucmVtb3ZlTGlzdGVuZXIod3JhcHBlck1hcC5nZXQobGlzdGVuZXIpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIEtlZXAgdHJhY2sgaWYgdGhlIGRlcHJlY2F0aW9uIHdhcm5pbmcgaGFzIGJlZW4gbG9nZ2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgICBsZXQgbG9nZ2VkU2VuZFJlc3BvbnNlRGVwcmVjYXRpb25XYXJuaW5nID0gZmFsc2U7XG5cbiAgICAgIGNvbnN0IG9uTWVzc2FnZVdyYXBwZXJzID0gbmV3IERlZmF1bHRXZWFrTWFwKGxpc3RlbmVyID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdyYXBzIGEgbWVzc2FnZSBsaXN0ZW5lciBmdW5jdGlvbiBzbyB0aGF0IGl0IG1heSBzZW5kIHJlc3BvbnNlcyBiYXNlZCBvblxuICAgICAgICAgKiBpdHMgcmV0dXJuIHZhbHVlLCByYXRoZXIgdGhhbiBieSByZXR1cm5pbmcgYSBzZW50aW5lbCB2YWx1ZSBhbmQgY2FsbGluZyBhXG4gICAgICAgICAqIGNhbGxiYWNrLiBJZiB0aGUgbGlzdGVuZXIgZnVuY3Rpb24gcmV0dXJucyBhIFByb21pc2UsIHRoZSByZXNwb25zZSBpc1xuICAgICAgICAgKiBzZW50IHdoZW4gdGhlIHByb21pc2UgZWl0aGVyIHJlc29sdmVzIG9yIHJlamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gbWVzc2FnZVxuICAgICAgICAgKiAgICAgICAgVGhlIG1lc3NhZ2Ugc2VudCBieSB0aGUgb3RoZXIgZW5kIG9mIHRoZSBjaGFubmVsLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gc2VuZGVyXG4gICAgICAgICAqICAgICAgICBEZXRhaWxzIGFib3V0IHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKil9IHNlbmRSZXNwb25zZVxuICAgICAgICAgKiAgICAgICAgQSBjYWxsYmFjayB3aGljaCwgd2hlbiBjYWxsZWQgd2l0aCBhbiBhcmJpdHJhcnkgYXJndW1lbnQsIHNlbmRzXG4gICAgICAgICAqICAgICAgICB0aGF0IHZhbHVlIGFzIGEgcmVzcG9uc2UuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICAgKiAgICAgICAgVHJ1ZSBpZiB0aGUgd3JhcHBlZCBsaXN0ZW5lciByZXR1cm5lZCBhIFByb21pc2UsIHdoaWNoIHdpbGwgbGF0ZXJcbiAgICAgICAgICogICAgICAgIHlpZWxkIGEgcmVzcG9uc2UuIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBvbk1lc3NhZ2UobWVzc2FnZSwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpIHtcbiAgICAgICAgICBsZXQgZGlkQ2FsbFNlbmRSZXNwb25zZSA9IGZhbHNlO1xuXG4gICAgICAgICAgbGV0IHdyYXBwZWRTZW5kUmVzcG9uc2U7XG4gICAgICAgICAgbGV0IHNlbmRSZXNwb25zZVByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHdyYXBwZWRTZW5kUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgaWYgKCFsb2dnZWRTZW5kUmVzcG9uc2VEZXByZWNhdGlvbldhcm5pbmcpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oU0VORF9SRVNQT05TRV9ERVBSRUNBVElPTl9XQVJOSU5HLCBuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgICAgICAgICAgICAgbG9nZ2VkU2VuZFJlc3BvbnNlRGVwcmVjYXRpb25XYXJuaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkaWRDYWxsU2VuZFJlc3BvbnNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbGlzdGVuZXIobWVzc2FnZSwgc2VuZGVyLCB3cmFwcGVkU2VuZFJlc3BvbnNlKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNSZXN1bHRUaGVuYWJsZSA9IHJlc3VsdCAhPT0gdHJ1ZSAmJiBpc1RoZW5hYmxlKHJlc3VsdCk7XG5cbiAgICAgICAgICAvLyBJZiB0aGUgbGlzdGVuZXIgZGlkbid0IHJldHVybmVkIHRydWUgb3IgYSBQcm9taXNlLCBvciBjYWxsZWRcbiAgICAgICAgICAvLyB3cmFwcGVkU2VuZFJlc3BvbnNlIHN5bmNocm9ub3VzbHksIHdlIGNhbiBleGl0IGVhcmxpZXJcbiAgICAgICAgICAvLyBiZWNhdXNlIHRoZXJlIHdpbGwgYmUgbm8gcmVzcG9uc2Ugc2VudCBmcm9tIHRoaXMgbGlzdGVuZXIuXG4gICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdHJ1ZSAmJiAhaXNSZXN1bHRUaGVuYWJsZSAmJiAhZGlkQ2FsbFNlbmRSZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEEgc21hbGwgaGVscGVyIHRvIHNlbmQgdGhlIG1lc3NhZ2UgaWYgdGhlIHByb21pc2UgcmVzb2x2ZXNcbiAgICAgICAgICAvLyBhbmQgYW4gZXJyb3IgaWYgdGhlIHByb21pc2UgcmVqZWN0cyAoYSB3cmFwcGVkIHNlbmRNZXNzYWdlIGhhc1xuICAgICAgICAgIC8vIHRvIHRyYW5zbGF0ZSB0aGUgbWVzc2FnZSBpbnRvIGEgcmVzb2x2ZWQgcHJvbWlzZSBvciBhIHJlamVjdGVkXG4gICAgICAgICAgLy8gcHJvbWlzZSkuXG4gICAgICAgICAgY29uc3Qgc2VuZFByb21pc2VkUmVzdWx0ID0gcHJvbWlzZSA9PiB7XG4gICAgICAgICAgICBwcm9taXNlLnRoZW4obXNnID0+IHtcbiAgICAgICAgICAgICAgLy8gc2VuZCB0aGUgbWVzc2FnZSB2YWx1ZS5cbiAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKG1zZyk7XG4gICAgICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICAgIC8vIFNlbmQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlcnJvciBpZiB0aGUgcmVqZWN0ZWQgdmFsdWVcbiAgICAgICAgICAgICAgLy8gaXMgYW4gaW5zdGFuY2Ugb2YgZXJyb3IsIG9yIHRoZSBvYmplY3QgaXRzZWxmIG90aGVyd2lzZS5cbiAgICAgICAgICAgICAgbGV0IG1lc3NhZ2U7XG4gICAgICAgICAgICAgIGlmIChlcnJvciAmJiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciB8fCB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCI7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzZW5kUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIF9fbW96V2ViRXh0ZW5zaW9uUG9seWZpbGxSZWplY3RfXzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgLy8gUHJpbnQgYW4gZXJyb3Igb24gdGhlIGNvbnNvbGUgaWYgdW5hYmxlIHRvIHNlbmQgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHNlbmQgb25NZXNzYWdlIHJlamVjdGVkIHJlcGx5XCIsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gSWYgdGhlIGxpc3RlbmVyIHJldHVybmVkIGEgUHJvbWlzZSwgc2VuZCB0aGUgcmVzb2x2ZWQgdmFsdWUgYXMgYVxuICAgICAgICAgIC8vIHJlc3VsdCwgb3RoZXJ3aXNlIHdhaXQgdGhlIHByb21pc2UgcmVsYXRlZCB0byB0aGUgd3JhcHBlZFNlbmRSZXNwb25zZVxuICAgICAgICAgIC8vIGNhbGxiYWNrIHRvIHJlc29sdmUgYW5kIHNlbmQgaXQgYXMgYSByZXNwb25zZS5cbiAgICAgICAgICBpZiAoaXNSZXN1bHRUaGVuYWJsZSkge1xuICAgICAgICAgICAgc2VuZFByb21pc2VkUmVzdWx0KHJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbmRQcm9taXNlZFJlc3VsdChzZW5kUmVzcG9uc2VQcm9taXNlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBMZXQgQ2hyb21lIGtub3cgdGhhdCB0aGUgbGlzdGVuZXIgaXMgcmVwbHlpbmcuXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgd3JhcHBlZFNlbmRNZXNzYWdlQ2FsbGJhY2sgPSAoeyByZWplY3QsIHJlc29sdmUgfSwgcmVwbHkpID0+IHtcbiAgICAgICAgaWYgKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IpIHtcbiAgICAgICAgICAvLyBEZXRlY3Qgd2hlbiBub25lIG9mIHRoZSBsaXN0ZW5lcnMgcmVwbGllZCB0byB0aGUgc2VuZE1lc3NhZ2UgY2FsbCBhbmQgcmVzb2x2ZVxuICAgICAgICAgIC8vIHRoZSBwcm9taXNlIHRvIHVuZGVmaW5lZCBhcyBpbiBGaXJlZm94LlxuICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS93ZWJleHRlbnNpb24tcG9seWZpbGwvaXNzdWVzLzEzMFxuICAgICAgICAgIGlmIChleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yLm1lc3NhZ2UgPT09IENIUk9NRV9TRU5EX01FU1NBR0VfQ0FMTEJBQ0tfTk9fUkVTUE9OU0VfTUVTU0FHRSkge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlcGx5ICYmIHJlcGx5Ll9fbW96V2ViRXh0ZW5zaW9uUG9seWZpbGxSZWplY3RfXykge1xuICAgICAgICAgIC8vIENvbnZlcnQgYmFjayB0aGUgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgZXJyb3IgaW50b1xuICAgICAgICAgIC8vIGFuIEVycm9yIGluc3RhbmNlLlxuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IocmVwbHkubWVzc2FnZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUocmVwbHkpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB3cmFwcGVkU2VuZE1lc3NhZ2UgPSAobmFtZSwgbWV0YWRhdGEsIGFwaU5hbWVzcGFjZU9iaiwgLi4uYXJncykgPT4ge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPCBtZXRhZGF0YS5taW5BcmdzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCAke21ldGFkYXRhLm1pbkFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1pbkFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IG1ldGFkYXRhLm1heEFyZ3MpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IG1vc3QgJHttZXRhZGF0YS5tYXhBcmdzfSAke3BsdXJhbGl6ZUFyZ3VtZW50cyhtZXRhZGF0YS5tYXhBcmdzKX0gZm9yICR7bmFtZX0oKSwgZ290ICR7YXJncy5sZW5ndGh9YCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHdyYXBwZWRDYiA9IHdyYXBwZWRTZW5kTWVzc2FnZUNhbGxiYWNrLmJpbmQobnVsbCwgeyByZXNvbHZlLCByZWplY3QgfSk7XG4gICAgICAgICAgYXJncy5wdXNoKHdyYXBwZWRDYik7XG4gICAgICAgICAgYXBpTmFtZXNwYWNlT2JqLnNlbmRNZXNzYWdlKC4uLmFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN0YXRpY1dyYXBwZXJzID0ge1xuICAgICAgICBydW50aW1lOiB7XG4gICAgICAgICAgb25NZXNzYWdlOiB3cmFwRXZlbnQob25NZXNzYWdlV3JhcHBlcnMpLFxuICAgICAgICAgIG9uTWVzc2FnZUV4dGVybmFsOiB3cmFwRXZlbnQob25NZXNzYWdlV3JhcHBlcnMpLFxuICAgICAgICAgIHNlbmRNZXNzYWdlOiB3cmFwcGVkU2VuZE1lc3NhZ2UuYmluZChudWxsLCBcInNlbmRNZXNzYWdlXCIsIHsgbWluQXJnczogMSwgbWF4QXJnczogMyB9KVxuICAgICAgICB9LFxuICAgICAgICB0YWJzOiB7XG4gICAgICAgICAgc2VuZE1lc3NhZ2U6IHdyYXBwZWRTZW5kTWVzc2FnZS5iaW5kKG51bGwsIFwic2VuZE1lc3NhZ2VcIiwgeyBtaW5BcmdzOiAyLCBtYXhBcmdzOiAzIH0pXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBzZXR0aW5nTWV0YWRhdGEgPSB7XG4gICAgICAgIGNsZWFyOiB7IG1pbkFyZ3M6IDEsIG1heEFyZ3M6IDEgfSxcbiAgICAgICAgZ2V0OiB7IG1pbkFyZ3M6IDEsIG1heEFyZ3M6IDEgfSxcbiAgICAgICAgc2V0OiB7IG1pbkFyZ3M6IDEsIG1heEFyZ3M6IDEgfVxuICAgICAgfTtcbiAgICAgIGFwaU1ldGFkYXRhLnByaXZhY3kgPSB7XG4gICAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgICBuZXR3b3JrUHJlZGljdGlvbkVuYWJsZWQ6IHNldHRpbmdNZXRhZGF0YSxcbiAgICAgICAgICB3ZWJSVENJUEhhbmRsaW5nUG9saWN5OiBzZXR0aW5nTWV0YWRhdGFcbiAgICAgICAgfSxcbiAgICAgICAgc2VydmljZXM6IHtcbiAgICAgICAgICBwYXNzd29yZFNhdmluZ0VuYWJsZWQ6IHNldHRpbmdNZXRhZGF0YVxuICAgICAgICB9LFxuICAgICAgICB3ZWJzaXRlczoge1xuICAgICAgICAgIGh5cGVybGlua0F1ZGl0aW5nRW5hYmxlZDogc2V0dGluZ01ldGFkYXRhLFxuICAgICAgICAgIHJlZmVycmVyc0VuYWJsZWQ6IHNldHRpbmdNZXRhZGF0YVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gd3JhcE9iamVjdChleHRlbnNpb25BUElzLCBzdGF0aWNXcmFwcGVycywgYXBpTWV0YWRhdGEpO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIGNocm9tZSAhPSBcIm9iamVjdFwiIHx8ICFjaHJvbWUgfHwgIWNocm9tZS5ydW50aW1lIHx8ICFjaHJvbWUucnVudGltZS5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBzY3JpcHQgc2hvdWxkIG9ubHkgYmUgbG9hZGVkIGluIGEgYnJvd3NlciBleHRlbnNpb24uXCIpO1xuICAgIH1cblxuICAgIC8vIFRoZSBidWlsZCBwcm9jZXNzIGFkZHMgYSBVTUQgd3JhcHBlciBhcm91bmQgdGhpcyBmaWxlLCB3aGljaCBtYWtlcyB0aGVcbiAgICAvLyBgbW9kdWxlYCB2YXJpYWJsZSBhdmFpbGFibGUuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSB3cmFwQVBJcyhjaHJvbWUpO1xuICB9IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0gYnJvd3NlcjtcbiAgfVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyLXBvbHlmaWxsLmpzLm1hcFxuIiwiaW1wb3J0IHtnZXRBdXRoLCBsb29rdXBJdGVtc0J5SUR9IGZyb20gJy4vcmVxdWVzdHMuanMnXG5pbXBvcnQge2dldEZ1bGxJRHNGcm9tUGF0aH0gZnJvbSAnLi9jb21tb24uanMnXG5pbXBvcnQge3NldFRleHRBbmRGdW5jdGlvbl9zdWJzY3JpYmUsc2V0VGV4dEFuZEZ1bmN0aW9uX3Vuc3Vic2NyaWJlfSBmcm9tICcuL2NvbnRlbnQtY29tbW9uLmpzJ1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnd2ViZXh0ZW5zaW9uLXBvbHlmaWxsJ1xuXG5jb25zdCBVU0VSX0RFTEVURUQgPSAncmV2LXVzZXItZGVsZXRlZCdcbmNvbnN0IE1PRF9SRU1PVkVEID0gJ3Jldi1tb2QtcmVtb3ZlZCdcbmNvbnN0IGlkX21hdGNoX2NvbW1lbnQgPSAvXnQxXy4rL1xuY29uc3QgaWRfbWF0Y2hfcG9zdCA9IC9edDNfLisvXG5cbmV4cG9ydCBjb25zdCByZWRkaXRNb2RpZmljYXRpb25zID0gKG90aGVyX3N1YnNjcmlwdGlvbnMsIGhpZGVfc3Vic2NyaWJlLCBtb25pdG9yX3F1YXJhbnRpbmVkKSA9PiB7XG4gICAgY29uc3QgaXNOZXdSZWRkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU0hPUlRDVVRfRk9DVVNBQkxFX0RJVicpICE9PSBudWxsXG4gICAgaWZUaHJlYWRQYWdlX3Nob3dSZW1vdmFsU3RhdHVzKGlzTmV3UmVkZGl0LCBtb25pdG9yX3F1YXJhbnRpbmVkKVxuICAgIGlmICghIGhpZGVfc3Vic2NyaWJlKSB7XG4gICAgICAgIGlmICggISBpc05ld1JlZGRpdCApIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yID0gJy50aGluZy5saW5rLCAudGhpbmcuY29tbWVudCdcbiAgICAgICAgICAgIGFkZFN1YnNjcmliZUxpbmtzX29sZFJlZGRpdCgkKHNlbGVjdG9yKSwgb3RoZXJfc3Vic2NyaXB0aW9ucylcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLmFycml2ZShzZWxlY3RvciwgKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBhZGRTdWJzY3JpYmVMaW5rc19vbGRSZWRkaXQoW2VsZW1lbnRdLCBvdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBzZWxlY3Rvcl9jb21tZW50cyA9ICcuQ29tbWVudCdcbiAgICAgICAgICAgIGFkZFN1YnNjcmliZUxpbmtzX25ld1JlZGRpdF9jb21tZW50cygkKHNlbGVjdG9yX2NvbW1lbnRzKSwgb3RoZXJfc3Vic2NyaXB0aW9ucylcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLmFycml2ZShzZWxlY3Rvcl9jb21tZW50cywgKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBhZGRTdWJzY3JpYmVMaW5rc19uZXdSZWRkaXRfY29tbWVudHMoW2VsZW1lbnRdLCBvdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yX3Bvc3RzID0gJy5Qb3N0J1xuICAgICAgICAgICAgYWRkU3Vic2NyaWJlTGlua3NfbmV3UmVkZGl0X3Bvc3RzKCQoc2VsZWN0b3JfcG9zdHMpLCBvdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICAgICAgJChkb2N1bWVudCkuYXJyaXZlKHNlbGVjdG9yX3Bvc3RzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGFkZFN1YnNjcmliZUxpbmtzX25ld1JlZGRpdF9wb3N0cyhbZWxlbWVudF0sIG90aGVyX3N1YnNjcmlwdGlvbnMpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3JfbmV3UG9zdCA9ICcuUG9zdCBkaXZbZGF0YS10ZXN0LWlkPVwicG9zdC1jb250ZW50XCJdJ1xuICAgICAgICAgICAgJChkb2N1bWVudCkuYXJyaXZlKHNlbGVjdG9yX25ld1Bvc3QsIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgc2hvd1JlbW92YWxTdGF0dXNGb3JUaHJlYWRPdmVybGF5KGVsZW1lbnQsIG1vbml0b3JfcXVhcmFudGluZWQpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBpZlRocmVhZFBhZ2Vfc2hvd1JlbW92YWxTdGF0dXMgPSAoaXNOZXdSZWRkaXQsIG1vbml0b3JfcXVhcmFudGluZWQsIG5ld1JlZGRpdFRhcmdldCA9ICcuUG9zdCcsIHBvc3REYXRhID0ge30pID0+IHtcbiAgICBjb25zdCBbcG9zdElELCBjb21tZW50SUQsIHVzZXIsIHN1YnJlZGRpdF0gPSBnZXRGdWxsSURzRnJvbVBhdGgod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKVxuICAgIC8vIGxpbmtzIHRvIGNvbW1lbnRzIG9uIG5ldyByZWRkaXQgZG8gbm90IGhhdmUgcm9ib3RzIG5vaW5kZXgsbm9mb2xsb3csIHNvIG5lZWQgdG8gbG9va3VwIGRhdGEgaWYgaGF2ZW4ndCBhbHJlYWR5XG4gICAgaWYgKGlzTmV3UmVkZGl0ICYmIGNvbW1lbnRJRCAmJiBPYmplY3Qua2V5cyhwb3N0RGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7YWN0aW9uOiAnZ2V0LXJlZGRpdC1pdGVtcy1ieS1pZCcsIGlkczogW3Bvc3RJRF0sIG1vbml0b3JfcXVhcmFudGluZWR9KVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAoISByZXNwb25zZSB8fCAhIHJlc3BvbnNlLml0ZW1zIHx8ICEgcmVzcG9uc2UuaXRlbXMubGVuZ3RoKSByZXR1cm5cbiAgICAgICAgICAgIHBvc3REYXRhID0gcmVzcG9uc2UuaXRlbXNbMF0uZGF0YVxuICAgICAgICAgICAgc2hvd1JlbW92YWxTdGF0dXMoe2lzTmV3UmVkZGl0LCBuZXdSZWRkaXRUYXJnZXQsIHBvc3REYXRhfSlcbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgICBzaG93UmVtb3ZhbFN0YXR1cyh7aXNOZXdSZWRkaXQsIG5ld1JlZGRpdFRhcmdldCwgcG9zdERhdGF9KVxuICAgIH1cblxufVxuXG5jb25zdCBzaG93UmVtb3ZhbFN0YXR1cyA9ICh7aXNOZXdSZWRkaXQsIG5ld1JlZGRpdFRhcmdldCA9ICcuUG9zdCcsIHBvc3REYXRhID0ge319KSA9PiB7XG4gICAgY29uc3QgW3Bvc3RJRCwgY29tbWVudElELCB1c2VyLCBzdWJyZWRkaXRdID0gZ2V0RnVsbElEc0Zyb21QYXRoKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSlcbiAgICBsZXQgY2xhc3NOYW1lID0gdW5kZWZpbmVkLCBtZXNzYWdlXzEgPSB1bmRlZmluZWRcbiAgICBpZiAocG9zdElEKSB7XG4gICAgICAgIGlmICgkKCdtZXRhW25hbWU9XCJyb2JvdHNcIl1bY29udGVudD1cIm5vaW5kZXgsbm9mb2xsb3dcIl0nKS5sZW5ndGggfHxcbiAgICAgICAgICAgICgnaXNfcm9ib3RfaW5kZXhhYmxlJyBpbiBwb3N0RGF0YSAmJiAhIHBvc3REYXRhLmlzX3JvYm90X2luZGV4YWJsZSkgKSB7XG4gICAgICAgICAgICBjb25zdCBhdXRob3IgPSBwb3N0RGF0YS5hdXRob3IgfHwgJCgnLmxpbmsgLnRvcC1tYXR0ZXIgLmF1dGhvcicpLmZpcnN0KCkudGV4dCgpIHx8ICQoJy5saW5rIC50b3AtbWF0dGVyIC50YWdsaW5lIHNwYW46Y29udGFpbnMoXCJbZGVsZXRlZF1cIiknKS50ZXh0KCkgfHwgJCgnLlBvc3Qgc3Bhbjpjb250YWlucyhcInUvW2RlbGV0ZWRdXCIpJykuZmlyc3QoKS50ZXh0KClcbiAgICAgICAgICAgIGlmICgoYXV0aG9yID09PSAnW2RlbGV0ZWRdJyB8fCBhdXRob3IgPT09ICd1L1tkZWxldGVkXScpICYmIHBvc3REYXRhLnJlbW92ZWRfYnlfY2F0ZWdvcnkgIT09ICdtb2RlcmF0b3InKSB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gVVNFUl9ERUxFVEVEXG4gICAgICAgICAgICAgICAgbWVzc2FnZV8xID0gYFRoaXMgcG9zdCB3YXMgZWl0aGVyIGRlbGV0ZWQgYnkgdGhlIHBlcnNvbiB3aG8gcG9zdGVkIGl0LCBvciByZW1vdmVkIGJ5IGEgbW9kZXJhdG9yIGFuZCB0aGVuIGRlbGV0ZWQgYnkgdGhlIHBlcnNvbiB3aG8gcG9zdGVkIGl0LmBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gTU9EX1JFTU9WRURcbiAgICAgICAgICAgICAgICBtZXNzYWdlXzEgPSBgVGhpcyBwb3N0IGlzIHVuYXBwcm92ZWQuIEl0IGlzIGVpdGhlciB3YWl0aW5nIHRvIGJlIGFwcHJvdmVkLCBvciBpdCB3YXMgcmVtb3ZlZCBieSBzb21lb25lIG9yIHNvbWUgcm9ib3QuYFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1lc3NhZ2VfMSkge1xuICAgICAgICBjb25zdCBvcHRpb25zSUQgPSAnZ290by1vcHRpb25zLWZyb20tY29udGVudCdcbiAgICAgICAgY29uc3QgbWVzc2FnZV8yID0gYCBJdCBpcyBub3QgY3VycmVudGx5IHZpc2libGUgaW4gci8ke3N1YnJlZGRpdH0gYW5kIG1heSBub3QgYXBwZWFyIGluIHdlYiBzZWFyY2ggcmVzdWx0cy5gXG4gICAgICAgIGNvbnN0IGZyb20gPSBgPGRpdiBjbGFzcz1cInJldi1mcm9tXCI+PGEgaWQ9XCIke29wdGlvbnNJRH1cIiBocmVmPVwiI1wiPlJldmVkZGl0IFJlYWwtVGltZTwvYT4gbm90ZTwvZGl2PmBcbiAgICAgICAgY29uc3QgcG9zdF9wYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcvJyw2KS5qb2luKCcvJylcbiAgICAgICAgY29uc3QgcmV2ZWRkaXRfbGluayA9IGA8cD48YSBocmVmPVwiaHR0cHM6Ly93d3cucmV2ZWRkaXQuY29tJHtwb3N0X3BhdGh9L1wiPlZpZXcgdGhlIHBvc3Qgb24gUmV2ZWRkaXQuY29tPC9hPjwvcD5gXG4gICAgICAgIGlmICghIGlzTmV3UmVkZGl0KSB7XG4gICAgICAgICAgICBtZXNzYWdlXzEgKz0gYCBWaWV3IHRoZSBwb3N0IDxhIGhyZWY9XCJodHRwczovL25ldy5yZWRkaXQuY29tJHtwb3N0X3BhdGh9L1wiPm9uIG5ldyByZWRkaXQ8L2E+IGZvciBtb3JlIGRldGFpbHMuYFxuICAgICAgICAgICAgY29uc3QgJGh0bWxfbWVzc2FnZSA9ICQoYDxkaXYgY2xhc3M9XCJyZWRkaXQtaW5mb2JhciBtZC1jb250YWluZXItc21hbGwgJHtjbGFzc05hbWV9XCI+YClcbiAgICAgICAgICAgICAgICAuYXBwZW5kKGZyb20pXG4gICAgICAgICAgICAgICAgLmFwcGVuZChgPGRpdiBjbGFzcz1cIm1kXCI+PHA+JHttZXNzYWdlXzF9JHttZXNzYWdlXzJ9PC9wPiR7cmV2ZWRkaXRfbGlua308L2Rpdj5gKVxuICAgICAgICAgICAgJGh0bWxfbWVzc2FnZS5wcmVwZW5kVG8oJ2Rpdi5jb250ZW50W3JvbGU9XCJtYWluXCJdJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2VfMSArPSBgIE1vcmUgZGV0YWlscyBtYXkgYXBwZWFyIGluIGEgbWVzc2FnZSBhYm92ZSBmcm9tIHJlZGRpdC5gXG4gICAgICAgICAgICBjb25zdCAkaHRtbF93cmFwID0gJChgPGRpdiBjbGFzcz1cInJldi1uZXctcmVkZGl0LW1lc3NhZ2Utd3JhcCAke2NsYXNzTmFtZX1cIj4ke2Zyb219PC9kaXY+YClcbiAgICAgICAgICAgIGNvbnN0ICRodG1sX2NvbnRlbnQgPSAkKGA8ZGl2IGNsYXNzPVwicmV2LW5ldy1yZWRkaXQtbWVzc2FnZS1jb250ZW50XCI+PC9kaXY+YClcbiAgICAgICAgICAgIGNvbnN0ICRodG1sX2Rlc2NyaXB0aW9uID0gJChgPGRpdiBjbGFzcz1cInJldi1uZXctcmVkZGl0LW1lc3NhZ2UtY29udGVudC1kZXNjcmlwdGlvblwiPiR7bWVzc2FnZV8xfSR7bWVzc2FnZV8yfTwvZGl2PmApXG4gICAgICAgICAgICAkaHRtbF9jb250ZW50LmFwcGVuZCgkaHRtbF9kZXNjcmlwdGlvbilcbiAgICAgICAgICAgICRodG1sX2NvbnRlbnQuYXBwZW5kKHJldmVkZGl0X2xpbmspXG4gICAgICAgICAgICAkaHRtbF93cmFwLmFwcGVuZCgkaHRtbF9jb250ZW50KVxuICAgICAgICAgICAgJChuZXdSZWRkaXRUYXJnZXQpLmZpcnN0KCkuYWZ0ZXIoJGh0bWxfd3JhcClcbiAgICAgICAgfVxuICAgICAgICAkKGAjJHtvcHRpb25zSUR9YCkuY2xpY2soKCkgPT4gYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHthY3Rpb246ICdvcGVuLW9wdGlvbnMnfSkpXG4gICAgfVxufVxuXG5jb25zdCBzaG93UmVtb3ZhbFN0YXR1c0ZvclRocmVhZE92ZXJsYXkgPSAoZWxlbWVudCwgbW9uaXRvcl9xdWFyYW50aW5lZCkgPT4ge1xuICAgIGNvbnN0IFtwb3N0SUQsIGNvbW1lbnRJRCwgdXNlciwgc3VicmVkZGl0XSA9IGdldEZ1bGxJRHNGcm9tUGF0aCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpXG4gICAgLy8gYnVpbHQgZm9yIENocm9tZSwgaS5lLiwgaW5jb2duaXRvIG1vZGUgaXMgJ3NwbGl0JyBhbmQgQ09SQiBhcHBsaWVzXG4gICAgaWYgKF9fQlVJTFRfRk9SX18gPT09ICdjaHJvbWUnKSB7XG4gICAgICAgIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7YWN0aW9uOiAnZ2V0LXJlZGRpdC1pdGVtcy1ieS1pZCcsIGlkczogW3Bvc3RJRF0sIG1vbml0b3JfcXVhcmFudGluZWR9KVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAoISByZXNwb25zZSB8fCAhIHJlc3BvbnNlLml0ZW1zIHx8ICEgcmVzcG9uc2UuaXRlbXMubGVuZ3RoKSByZXR1cm5cbiAgICAgICAgICAgIGNvbnN0IHBvc3REYXRhID0gcmVzcG9uc2UuaXRlbXNbMF0uZGF0YVxuICAgICAgICAgICAgaWZUaHJlYWRQYWdlX3Nob3dSZW1vdmFsU3RhdHVzKHRydWUsIG1vbml0b3JfcXVhcmFudGluZWQsIGVsZW1lbnQucGFyZW50Tm9kZSwgcG9zdERhdGEpXG4gICAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYnVpbHQgZm9yIEZpcmVmb3gsIGkuZS4sIGluY29nbml0byBtb2RlIGlzICdzcGFubmluZycgYW5kIGNvbnRlbnQgc2NyaXB0c1xuICAgICAgICAvLyBhcmUgYWxsb3dlZCB0byBzZW5kIGNyb3NzLW9yaWdpbiByZXF1ZXN0c1xuICAgICAgICBnZXRBdXRoKClcbiAgICAgICAgLnRoZW4oYXV0aCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbG9va3VwSXRlbXNCeUlEKFtwb3N0SURdLCBhdXRoLCBtb25pdG9yX3F1YXJhbnRpbmVkKVxuICAgICAgICB9KVxuICAgICAgICAudGhlbihpdGVtcyA9PiB7XG4gICAgICAgICAgICAvLyBpZiByZXF1ZXN0IGZhaWxzLCBpdGVtcyBpcyBudWxsXG4gICAgICAgICAgICBpZiAoISBpdGVtcykgcmV0dXJuXG4gICAgICAgICAgICBjb25zdCBwb3N0RGF0YSA9IGl0ZW1zWzBdLmRhdGFcbiAgICAgICAgICAgIGlmVGhyZWFkUGFnZV9zaG93UmVtb3ZhbFN0YXR1cyh0cnVlLCBtb25pdG9yX3F1YXJhbnRpbmVkLCBlbGVtZW50LnBhcmVudE5vZGUsIHBvc3REYXRhKVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuY29uc3QgZ2V0SURfbmV3UmVkZGl0ID0gKGVsZW1lbnQsIGlkX21hdGNoKSA9PiB7XG4gICAgbGV0IGlkID0gZWxlbWVudC5pZFxuICAgIGlmIChpZCAmJiBpZC5tYXRjaChpZF9tYXRjaCkpIHJldHVybiBpZFxuICAgIGlkID0gJChlbGVtZW50KS5hdHRyKCdjbGFzcycpLnNwbGl0KC9cXHMrLykuZmlsdGVyKGMgPT4gYy5tYXRjaChpZF9tYXRjaCkpWzBdXG4gICAgaWYgKGlkICYmIGlkLm1hdGNoKGlkX21hdGNoKSkgcmV0dXJuIGlkXG4gICAgaWQgPSBlbGVtZW50LnBhcmVudE5vZGUuaWRcbiAgICBpZiAoaWQgJiYgaWQubWF0Y2goaWRfbWF0Y2gpKSByZXR1cm4gaWRcbiAgICBpZCA9ICQoZWxlbWVudCkuY2xvc2VzdCgnZGl2W3RhYmluZGV4PS0xXScpLmF0dHIoJ2lkJylcbiAgICByZXR1cm4gaWRcbn1cblxuY29uc3QgYWRkU3Vic2NyaWJlTGlua3NfbmV3UmVkZGl0X2NvbW1lbnRzID0gKGVsZW1lbnRzLCBzdWJzY3JpcHRpb25zKSA9PiB7XG4gICAgJChlbGVtZW50cykuZWFjaCgoaWR4LCB0YXJnZXRlZEVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9ICQodGFyZ2V0ZWRFbGVtZW50KS5jbG9zZXN0KCcuQ29tbWVudCcpWzBdXG4gICAgICAgIGNvbnN0IGlkID0gZ2V0SURfbmV3UmVkZGl0KGVsZW1lbnQsIGlkX21hdGNoX2NvbW1lbnQpXG4gICAgICAgIGlmICghIGlkIHx8ICEgaWQubWF0Y2goaWRfbWF0Y2hfY29tbWVudCkpIHJldHVyblxuICAgICAgICBsZXQgJGJ1dHRvbiA9IGdldEJ1dHRvbihlbGVtZW50LCAnc2F2ZScpXG4gICAgICAgIGxldCBhcHBlbmRCdXR0b25UbyA9ICRidXR0b24ucGFyZW50KClcbiAgICAgICAgaWYgKCEgJGJ1dHRvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICRidXR0b24gPSBnZXRCdXR0b24oZWxlbWVudCwgJ3NoYXJlJylcbiAgICAgICAgICAgIGFwcGVuZEJ1dHRvblRvID0gJGJ1dHRvbi5wYXJlbnQoKVxuICAgICAgICAgICAgaWYgKCEgJGJ1dHRvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkYnV0dG9uID0gJCgnPGJ1dHRvbj4uLi48L2J1dHRvbj4nKVxuICAgICAgICAgICAgICAgIGFwcGVuZEJ1dHRvblRvID0gZWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0ICRidXR0b25fY2xvbmUgPSAkYnV0dG9uLmNsb25lKClcbiAgICAgICAgbGV0IGNvbW1lbnRCb2R5ID0gJydcbiAgICAgICAgY29uc3QgYm9keUVsZW1lbnQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5SaWNoVGV4dEpTT04tcm9vdCcpXG4gICAgICAgIGlmIChib2R5RWxlbWVudCkge1xuICAgICAgICAgICAgY29tbWVudEJvZHkgPSBib2R5RWxlbWVudC50ZXh0Q29udGVudFxuICAgICAgICB9XG4gICAgICAgIGlmIChpZCBpbiBzdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICBzZXRUZXh0QW5kRnVuY3Rpb25fdW5zdWJzY3JpYmUoaWQsICRidXR0b25fY2xvbmUsIGNvbW1lbnRCb2R5KS5hcHBlbmRUbyhhcHBlbmRCdXR0b25UbylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRleHRBbmRGdW5jdGlvbl9zdWJzY3JpYmUoaWQsICRidXR0b25fY2xvbmUsIGNvbW1lbnRCb2R5KS5hcHBlbmRUbyhhcHBlbmRCdXR0b25UbylcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmNvbnN0IGdldEJ1dHRvbiA9IChlbGVtZW50LCBidXR0b25fc2VhcmNoX3RleHQpID0+IHtcbiAgICByZXR1cm4gJChlbGVtZW50KS5maW5kKGBidXR0b246ZXF1YWxzaShcIiR7YnV0dG9uX3NlYXJjaF90ZXh0fVwiKWApLmZpcnN0KClcbn1cblxuY29uc3QgYWRkU3Vic2NyaWJlTGlua3NfbmV3UmVkZGl0X3Bvc3RzID0gKGVsZW1lbnRzLCBzdWJzY3JpcHRpb25zKSA9PiB7XG4gICAgJChlbGVtZW50cykuZWFjaCgoaWR4LCBlbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gZ2V0SURfbmV3UmVkZGl0KGVsZW1lbnQsIGlkX21hdGNoX3Bvc3QpXG4gICAgICAgIGlmICghIGlkIHx8ICEgaWQubWF0Y2goaWRfbWF0Y2hfcG9zdCkpIHJldHVyblxuICAgICAgICBjb25zdCAkYnV0dG9uID0gJChlbGVtZW50KS5maW5kKCdidXR0b24gOmVxdWFsc2koXCJzYXZlXCIpJykuZmlyc3QoKS5wYXJlbnQoKVxuICAgICAgICBjb25zdCAkYnV0dG9uX2Nsb25lID0gJGJ1dHRvbi5jbG9uZSgpXG4gICAgICAgICRidXR0b25fY2xvbmUuZmluZCgnaS5pY29uJykuZmlyc3QoKS5wYXJlbnQoKS5yZW1vdmUoKVxuICAgICAgICBjb25zdCAkbGFzdF9idXR0b24gPSAkYnV0dG9uLnBhcmVudCgpLmNoaWxkcmVuKCdidXR0b24nKS5sYXN0KClcbiAgICAgICAgaWYgKGlkIGluIHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgIHNldFRleHRBbmRGdW5jdGlvbl91bnN1YnNjcmliZShpZCwgJGJ1dHRvbl9jbG9uZSkuaW5zZXJ0QWZ0ZXIoJGxhc3RfYnV0dG9uKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGV4dEFuZEZ1bmN0aW9uX3N1YnNjcmliZShpZCwgJGJ1dHRvbl9jbG9uZSkuaW5zZXJ0QWZ0ZXIoJGxhc3RfYnV0dG9uKVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuY29uc3QgYWRkU3Vic2NyaWJlTGlua3Nfb2xkUmVkZGl0ID0gKGVsZW1lbnRzLCBzdWJzY3JpcHRpb25zKSA9PiB7XG4gICAgJChlbGVtZW50cykuZWFjaCgoaWR4LCBlbGVtZW50KSA9PiB7XG4gICAgICAgIGxldCBpZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWZ1bGxuYW1lJylcbiAgICAgICAgaWYgKCEgaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IFtwb3N0SUQsIGNvbW1lbnRJRCwgdXNlciwgc3VicmVkZGl0XSA9IGdldEZ1bGxJRHNGcm9tUGF0aChlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1wZXJtYWxpbmsnKSB8fCAnJylcbiAgICAgICAgICAgIGlmIChjb21tZW50SUQpIHtcbiAgICAgICAgICAgICAgICBpZCA9IGNvbW1lbnRJRFxuICAgICAgICAgICAgfSBlbHNlIGlmIChwb3N0SUQpIHtcbiAgICAgICAgICAgICAgICBpZCA9IHBvc3RJRFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghIGlkKSByZXR1cm5cbiAgICAgICAgY29uc3QgYnV0dG9ucyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcigndWwuYnV0dG9ucycpXG4gICAgICAgIGlmICghIGJ1dHRvbnMpIHJldHVyblxuICAgICAgICBsZXQgY29tbWVudEJvZHkgPSAnJ1xuICAgICAgICBjb25zdCBib2R5RWxlbWVudCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXJ0ZXh0LWJvZHknKVxuICAgICAgICBpZiAoYm9keUVsZW1lbnQgJiYgaWQubWF0Y2goL150MV8vKSkge1xuICAgICAgICAgICAgY29tbWVudEJvZHkgPSBib2R5RWxlbWVudC50ZXh0Q29udGVudFxuICAgICAgICB9XG5cbiAgICAgICAgbGV0ICRuZXdCdXR0b24gPSBzZXRUZXh0QW5kRnVuY3Rpb25fc3Vic2NyaWJlKGlkLCAkKGA8YSBocmVmPVwiXCI+YClbMF0sIGNvbW1lbnRCb2R5KVxuICAgICAgICBpZiAoaWQgaW4gc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgJG5ld0J1dHRvbiA9IHNldFRleHRBbmRGdW5jdGlvbl91bnN1YnNjcmliZShpZCwgJChgPGEgaHJlZj1cIlwiPmApWzBdLCBjb21tZW50Qm9keSlcbiAgICAgICAgfVxuICAgICAgICAkKGJ1dHRvbnMpLmFwcGVuZCgkbmV3QnV0dG9uLndyYXAoJzxsaT4nKS5wYXJlbnQoKSlcbiAgICB9KVxufVxuIiwiaW1wb3J0IHtzdWJzY3JpYmVJZCwgdW5zdWJzY3JpYmVJZCwgZ2V0TG9jYWxTdG9yYWdlSXRlbXMsIHNhdmVMb2NhbFN0b3JhZ2VJdGVtc30gZnJvbSAnLi9zdG9yYWdlLmpzJ1xuaW1wb3J0IHtMb2NhbFN0b3JhZ2VJdGVtfSBmcm9tICcuL2NvbW1vbi5qcydcbmltcG9ydCB7c2V0Q3VycmVudFN0YXRlRm9ySWR9IGZyb20gJy4vbW9uaXRvcmluZy5qcydcbmltcG9ydCBicm93c2VyIGZyb20gJ3dlYmV4dGVuc2lvbi1wb2x5ZmlsbCdcblxubGV0IFVOU1VCU0NSSUJFX1RFWFQgPSAndW5zdWJzY3JpYmUtcmV2J1xubGV0IFNVQlNDUklCRV9URVhUID0gJ3N1YnNjcmliZS1yZXYnXG5cbmlmIChsb2NhdGlvbi5ob3N0bmFtZS5tYXRjaCgvcmV2ZWRkaXRcXC5jb20kLykpIHtcbiAgICBVTlNVQlNDUklCRV9URVhUID0gJ3Vuc3Vic2NyaWJlJ1xuICAgIFNVQlNDUklCRV9URVhUID0gJ3N1YnNjcmliZSdcbn1cblxuZXhwb3J0IGNvbnN0IHNldFRleHRBbmRGdW5jdGlvbl9zdWJzY3JpYmUgPSAoaWQsIGVsZW1lbnQsIGNvbW1lbnRCb2R5KSA9PiB7XG4gICAgcmV0dXJuICQoZWxlbWVudCkudGV4dChTVUJTQ1JJQkVfVEVYVCkub2ZmKCdjbGljaycpLmNsaWNrKChldmVudE9iaikgPT4gc3Vic2NyaWJlSWRfY2hhbmdlVGV4dChpZCwgZXZlbnRPYmoudGFyZ2V0LCBjb21tZW50Qm9keSkpXG59XG5cbmV4cG9ydCBjb25zdCBzZXRUZXh0QW5kRnVuY3Rpb25fdW5zdWJzY3JpYmUgPSAoaWQsIGVsZW1lbnQsIGNvbW1lbnRCb2R5KSA9PiB7XG4gICAgcmV0dXJuICQoZWxlbWVudCkudGV4dChVTlNVQlNDUklCRV9URVhUKS5vZmYoJ2NsaWNrJykuY2xpY2soKGV2ZW50T2JqKSA9PiB1bnN1YnNjcmliZUlkX2NoYW5nZVRleHQoaWQsIGV2ZW50T2JqLnRhcmdldCwgY29tbWVudEJvZHkpKVxufVxuXG5jb25zdCBzdWJzY3JpYmVJZF9jaGFuZ2VUZXh0ID0gKGlkLCBlbGVtZW50LCBjb21tZW50Qm9keSA9ICcnKSA9PiB7XG4gICAgc3Vic2NyaWJlSWQoaWQsIGFzeW5jICgpID0+IHtcbiAgICAgICAgc2V0VGV4dEFuZEZ1bmN0aW9uX3Vuc3Vic2NyaWJlKGlkLCBlbGVtZW50LCBjb21tZW50Qm9keSlcbiAgICAgICAgYXdhaXQgc2V0Q3VycmVudFN0YXRlRm9ySWQoaWQsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKVxuICAgICAgICBpZiAoY29tbWVudEJvZHkpIHtcbiAgICAgICAgICAgIGdldExvY2FsU3RvcmFnZUl0ZW1zKCdvdGhlcicsIGZhbHNlKVxuICAgICAgICAgICAgLnRoZW4oc3RvcmVkSXRlbXMgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBzdG9yZWRJdGVtc1tpZF1cbiAgICAgICAgICAgICAgICAvLyBjb250ZW50IGZyb20gcHJpdmF0ZSBzdWJzIHdvbid0IGJlIHNhdmVkIGIvY1xuICAgICAgICAgICAgICAgIC8vIG5vIGl0ZW0gaXMgY3JlYXRlZCBmb3IgdGhhdCAocmVkZGl0IHJldHVybnMgbm8gZGF0YSBmb3JcbiAgICAgICAgICAgICAgICAvLyBub24tbG9nZ2VkLWluIGF1dGhlbnRpY2F0ZWQgYXBwcylcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtT2JqID0gbmV3IExvY2FsU3RvcmFnZUl0ZW0oe29iamVjdDogaXRlbX0pXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1PYmouc2V0VGV4dChjb21tZW50Qm9keSlcbiAgICAgICAgICAgICAgICAgICAgc3RvcmVkSXRlbXNbaWRdID0gaXRlbU9ialxuICAgICAgICAgICAgICAgICAgICBzYXZlTG9jYWxTdG9yYWdlSXRlbXMoJ290aGVyJywgZmFsc2UsIHN0b3JlZEl0ZW1zKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBmYWxzZVxufVxuXG5jb25zdCB1bnN1YnNjcmliZUlkX2NoYW5nZVRleHQgPSAoaWQsIGVsZW1lbnQsIGNvbW1lbnRCb2R5KSA9PiB7XG4gICAgdW5zdWJzY3JpYmVJZChpZCwgKCkgPT4ge1xuICAgICAgICBzZXRUZXh0QW5kRnVuY3Rpb25fc3Vic2NyaWJlKGlkLCBlbGVtZW50LCBjb21tZW50Qm9keSlcbiAgICB9KVxuICAgIHJldHVybiBmYWxzZVxufVxuIiwiaW1wb3J0IHtsb29rdXBJdGVtc0J5SUQsIGxvb2t1cEl0ZW1zQnlVc2VyLCBnZXRBdXRofSBmcm9tICcuL3JlcXVlc3RzLmpzJ1xuaW1wb3J0IHtSRU1PVkVELCBERUxFVEVELCBBUFBST1ZFRCwgTE9DS0VELCBVTkxPQ0tFRCwgRURJVEVELFxuICAgICAgICBhZGRMb2NhbFN0b3JhZ2VJdGVtcywgZ2V0TG9jYWxTdG9yYWdlSXRlbXMsXG4gICAgICAgIE1BWF9TWU5DX1NUT1JBR0VfSVRFTVNfUEVSX09CSkVDVCwgTUFYX1NZTkNfU1RPUkFHRV9DSEFOR0VTLFxuICAgICAgICBnZXRPYmplY3ROYW1lc0ZvclRoaW5nIH0gZnJvbSAnLi9zdG9yYWdlLmpzJ1xuaW1wb3J0IHtjcmVhdGVOb3RpZmljYXRpb24sIHVwZGF0ZUJhZGdlVW5zZWVuQ291bnQsIHRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZSxcbiAgICAgICAgaXNVc2VyRGVsZXRlZEl0ZW0sIGlzUmVtb3ZlZEl0ZW0sXG4gICAgICAgIEl0ZW1Gb3JTdG9yYWdlLCBMb2NhbFN0b3JhZ2VJdGVtLCBDaGFuZ2VGb3JTdG9yYWdlfSBmcm9tICcuL2NvbW1vbi5qcydcbmltcG9ydCBicm93c2VyIGZyb20gJ3dlYmV4dGVuc2lvbi1wb2x5ZmlsbCdcblxuXG5jb25zdCBTVUJTQ1JJQkVEX0ZST01fUkVERElUID0gMFxuY29uc3QgU1VCU0NSSUJFRF9GUk9NX1JFVkVERElUID0gMVxuY29uc3QgU1VCU0NSSUJFRF9GUk9NX05BID0gMlxuXG5leHBvcnQgY29uc3Qgc2V0Q3VycmVudFN0YXRlRm9ySWQgPSAoaWQsIHN1YnNjcmliZWRGcm9tVVJMKSA9PiB7XG4gICAgbGV0IHN1YnNjcmliZWRGcm9tID0gU1VCU0NSSUJFRF9GUk9NX1JFRERJVFxuICAgIGlmIChzdWJzY3JpYmVkRnJvbVVSTC5tYXRjaCgvXmh0dHBzOlxcL1xcL3d3dy5yZXZlZGRpdC5jb20vKSkge1xuICAgICAgICBzdWJzY3JpYmVkRnJvbSA9IFNVQlNDUklCRURfRlJPTV9SRVZFRERJVFxuICAgIH1cbiAgICByZXR1cm4gY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQobnVsbCwgZnVuY3Rpb24gKHN0b3JhZ2UpIHtcbiAgICAgICAgZ2V0QXV0aCgpXG4gICAgICAgIC50aGVuKChhdXRoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tGb3JDaGFuZ2VzX3RoaW5nX2J5SWQoW2lkXSwgJ290aGVyJywgZmFsc2UsIGF1dGgsIHN0b3JhZ2UsIHN1YnNjcmliZWRGcm9tLCB7fSlcbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5jb25zdCBNSU5fUVVBUkFOVElORURfQ0hFQ0tfSU5URVJWQUxfSU5fU0VDT05EUyA9IDUqKDYwKjYwKjI0KVxuXG5leHBvcnQgY29uc3QgY2hlY2tGb3JDaGFuZ2VzID0gKCkgPT4ge1xuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KG51bGwsIGZ1bmN0aW9uIChzdG9yYWdlKSB7XG4gICAgICAgIHZhciB1c2VycyA9IE9iamVjdC5rZXlzKHN0b3JhZ2UudXNlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICB2YXIgb3RoZXIgPSBPYmplY3Qua2V5cyhzdG9yYWdlLm90aGVyX3N1YnNjcmlwdGlvbnMpXG4gICAgICAgIGlmICh1c2Vycy5sZW5ndGggfHwgb3RoZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkvMTAwMClcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBxdWFyYW50aW5lZCBjb250ZW50IG9uY2UgaW4gYXdoaWxlIGFuZCBlbmFibGUgbW9uaXRvcl9xdWFyYW50aW5lZCBpZiBzb21lIGlzIGZvdW5kXG4gICAgICAgICAgICAvLyBiZWNhdXNlIHVzZXJzIG1heSBub3Qga25vdyB0byBlbmFibGUgdGhpcyBvcHRpb25cbiAgICAgICAgICAgIC8vIHRoZSBvcHRpb24gaXMgb2ZmIGJ5IGRlZmF1bHQgYmVjYXVzZSBpdCBjYW4gYXBwZWFyIHRvIGNhdXNlIGFuIG9jY2FzaW9uYWwgbG9nb3V0XG4gICAgICAgICAgICBpZiAoISBzdG9yYWdlLm9wdGlvbnMubW9uaXRvcl9xdWFyYW50aW5lZFxuICAgICAgICAgICAgICAgICYmICghIHN0b3JhZ2UubGFzdF9jaGVja19xdWFyYW50aW5lZFxuICAgICAgICAgICAgICAgICAgICB8fCAobm93IC0gc3RvcmFnZS5sYXN0X2NoZWNrX3F1YXJhbnRpbmVkKSA+IE1JTl9RVUFSQU5USU5FRF9DSEVDS19JTlRFUlZBTF9JTl9TRUNPTkRTICkpIHtcbiAgICAgICAgICAgICAgICBzdG9yYWdlLnRlbXBWYXJfbW9uaXRvcl9xdWFyYW50aW5lZCA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldEF1dGgoKVxuICAgICAgICAgICAgLnRoZW4oKGF1dGgpID0+IHtcbiAgICAgICAgICAgICAgICBjaGVja0ZvckNoYW5nZXNfb3RoZXIoYXV0aCwgc3RvcmFnZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hlY2tGb3JDaGFuZ2VzX3VzZXJzKHVzZXJzLCBhdXRoLCBzdG9yYWdlKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTdG9yYWdlID0ge2xhc3RfY2hlY2s6IG5vd31cbiAgICAgICAgICAgICAgICBpZiAoc3RvcmFnZS50ZW1wVmFyX21vbml0b3JfcXVhcmFudGluZWQgfHwgc3RvcmFnZS5vcHRpb25zLm1vbml0b3JfcXVhcmFudGluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RvcmFnZS5sYXN0X2NoZWNrX3F1YXJhbnRpbmVkID0gbm93XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdG9yYWdlLnRlbXBWYXJfcXVhcmFudGluZWRfY29udGVudF9mb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdTdG9yYWdlLm9wdGlvbnMgPSBzdG9yYWdlLm9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RvcmFnZS5vcHRpb25zLm1vbml0b3JfcXVhcmFudGluZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KG5ld1N0b3JhZ2UpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuY29uc3QgY2hlY2tGb3JDaGFuZ2VzX3VzZXJzID0gYXN5bmMgKHVzZXJzLCBhdXRoLCBzdG9yYWdlKSA9PiB7XG4gICAgaWYgKHVzZXJzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCB1c2VyID0gdXNlcnNbMF1cbiAgICAgICAgcmV0dXJuIGxvb2t1cEl0ZW1zQnlVc2VyKHVzZXIsICcnLCAnbmV3JywgJycsIHN0b3JhZ2Uub3B0aW9ucy5tb25pdG9yX3F1YXJhbnRpbmVkLCBzdG9yYWdlLnRlbXBWYXJfbW9uaXRvcl9xdWFyYW50aW5lZCwgYXV0aClcbiAgICAgICAgLnRoZW4oaXRlbXMgPT4ge1xuICAgICAgICAgICAgaWYgKCEgaXRlbXMpIHJldHVybiAvLyBoYW5kbGUgZXhwZWN0ZWQgZXJyb3JzXG4gICAgICAgICAgICB2YXIgaWRzID0gW11cbiAgICAgICAgICAgIGNvbnN0IGl0ZW1Mb29rdXAgPSB7fVxuICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICBpZHMucHVzaChpdGVtLmRhdGEubmFtZSlcbiAgICAgICAgICAgICAgICBpdGVtTG9va3VwW2l0ZW0uZGF0YS5uYW1lXSA9IGl0ZW0uZGF0YVxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmRhdGEucXVhcmFudGluZSkge1xuICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnRlbXBWYXJfcXVhcmFudGluZWRfY29udGVudF9mb3VuZCA9IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcmV0dXJuIGNoZWNrRm9yQ2hhbmdlc190aGluZ19ieUlkKGlkcywgdXNlciwgdHJ1ZSwgYXV0aCwgc3RvcmFnZSwgU1VCU0NSSUJFRF9GUk9NX05BLCBpdGVtTG9va3VwKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gY2hlY2tGb3JDaGFuZ2VzX3VzZXJzKHVzZXJzLnNsaWNlKDEpLCBhdXRoLCBzdG9yYWdlKSlcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrRm9yQ2hhbmdlc19vdGhlcihhdXRoLCBzdG9yYWdlKSB7XG4gICAgY29uc3QgaWRzID0gT2JqZWN0LmtleXMoc3RvcmFnZS5vdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgIGlmIChpZHMubGVuZ3RoKSB7XG4gICAgICAgIGNoZWNrRm9yQ2hhbmdlc190aGluZ19ieUlkKGlkcywgJ290aGVyJywgZmFsc2UsIGF1dGgsIHN0b3JhZ2UsIFNVQlNDUklCRURfRlJPTV9OQSlcbiAgICB9XG59XG5cbmNvbnN0IGNoZWNrRm9yQ2hhbmdlc190aGluZ19ieUlkID0gYXN5bmMgKGlkcywgdGhpbmcsIGlzVXNlciwgYXV0aCwgc3RvcmFnZSwgc3Vic2NyaWJlZEZyb20sIGl0ZW1Mb29rdXAgPSB7fSkgPT4ge1xuICAgIGxldCBwcm9taXNlXG4gICAgY29uc3QgbW9uaXRvcl9xdWFyYW50aW5lZCA9IHN0b3JhZ2Uub3B0aW9ucy5tb25pdG9yX3F1YXJhbnRpbmVkXG4gICAgaWYgKGxvY2F0aW9uLnByb3RvY29sLm1hdGNoKC9eaHR0cC8pKSB7XG4gICAgICAgIC8vIHRoaXMgY29uZGl0aW9uIGlzIGZvciB3aGVuIHRoZSBjb2RlIGlzIGFjdGl2YXRlZCB2aWEgYSBjb250ZW50IHNjcmlwdCAoZS5nLiB0aGUgc3Vic2NyaWJlIGJ1dHRvbikgYW5kIGJyb3dzZXIuY29va2llcyBpcyB1bmF2YWlsYWJsZVxuICAgICAgICBwcm9taXNlID0gYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHthY3Rpb246ICdnZXQtcmVkZGl0LWl0ZW1zLWJ5LWlkJywgaWRzLCBtb25pdG9yX3F1YXJhbnRpbmVkfSlcbiAgICB9IGVsc2Uge1xuICAgICAgICBwcm9taXNlID0gbG9va3VwSXRlbXNCeUlEKGlkcywgYXV0aCwgbW9uaXRvcl9xdWFyYW50aW5lZCwgc3RvcmFnZS50ZW1wVmFyX21vbml0b3JfcXVhcmFudGluZWQpXG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlXG4gICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgaWYgKCEgcmVzdWx0KSByZXR1cm4gLy8gaGFuZGxlIGV4cGVjdGVkIGVycm9yc1xuICAgICAgICBjb25zdCBpdGVtcyA9IEFycmF5LmlzQXJyYXkocmVzdWx0KSA/IHJlc3VsdCA6IHJlc3VsdC5pdGVtc1xuICAgICAgICBpZiAoISBpdGVtcykgcmV0dXJuIC8vIGhhbmRsZSBleHBlY3RlZCBlcnJvcnMgZnJvbSBvYmpcbiAgICAgICAgY29uc3QgcmVtb3ZhbF9zdGF0dXMgPSBzdG9yYWdlLm9wdGlvbnMucmVtb3ZhbF9zdGF0dXNcbiAgICAgICAgY29uc3QgbG9ja19zdGF0dXMgPSBzdG9yYWdlLm9wdGlvbnMubG9ja19zdGF0dXNcblxuICAgICAgICBjb25zdCBrZXlzID0gZ2V0T2JqZWN0TmFtZXNGb3JUaGluZyh0aGluZywgaXNVc2VyKVxuXG4gICAgICAgIGNvbnN0IGtub3duX3JlbW92ZWQgPSBzdG9yYWdlW2tleXNbJ3JlbW92ZWQnXV0gfHwge31cbiAgICAgICAgY29uc3Qga25vd25fYXBwcm92ZWQgPSBzdG9yYWdlW2tleXNbJ2FwcHJvdmVkJ11dIHx8IHt9XG4gICAgICAgIGNvbnN0IGtub3duX2xvY2tlZCA9IHN0b3JhZ2Vba2V5c1snbG9ja2VkJ11dIHx8IHt9XG4gICAgICAgIGNvbnN0IGtub3duX3VubG9ja2VkID0gc3RvcmFnZVtrZXlzWyd1bmxvY2tlZCddXSB8fCB7fVxuICAgICAgICBjb25zdCBjaGFuZ2VzID0gc3RvcmFnZVtrZXlzWydjaGFuZ2VzJ11dIHx8IFtdXG4gICAgICAgIGlmICghIGlzVXNlcikge1xuICAgICAgICAgICAgaXRlbUxvb2t1cCA9IHt9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVtb3ZlZCA9IFtdLCBhcHByb3ZlZCA9IFtdLCBsb2NrZWQgPSBbXSwgdW5sb2NrZWQgPSBbXVxuICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW1XcmFwID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtV3JhcC5kYXRhXG4gICAgICAgICAgICBpZiAoISBpc1VzZXIpIHtcbiAgICAgICAgICAgICAgICBpdGVtTG9va3VwW2l0ZW0ubmFtZV0gPSBpdGVtXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNSZW1vdmVkSXRlbShpdGVtKSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZWQucHVzaChpdGVtLm5hbWUpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFwcHJvdmVkLnB1c2goaXRlbS5uYW1lKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW0ubG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgbG9ja2VkLnB1c2goaXRlbS5uYW1lKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1bmxvY2tlZC5wdXNoKGl0ZW0ubmFtZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLy8gbWFyayBpdGVtcyB0aGF0IGRvIG5vdCBleGlzdCBpbiBhcnJheXNcbiAgICAgICAgLy8gY2hhbmdlIGhhcHBlbnMgaWY6XG4gICAgICAgIC8vICAgICAgdHJhY2tpbmcgcmVtb3ZhbHMgJiYgaXRlbSBpcyByZW1vdmVkXG4gICAgICAgIC8vICAgICAgdHJhY2tpbmcgcmVtb3ZhbHMgJiYgaXRlbSB3YXMgaW4gcmVtb3ZlZCwgbm93IGluIGFwcHJvdmVkXG4gICAgICAgIGNvbnN0IG5ld0xvY2FsU3RvcmFnZUl0ZW1zID0ge31cblxuICAgICAgICBjb25zdCBjaGFuZ2VUeXBlcyA9IFtdXG4gICAgICAgIGxldCBudW1fY2hhbmdlcyA9IDBcbiAgICAgICAgcmV0dXJuIGdldExvY2FsU3RvcmFnZUl0ZW1zKHRoaW5nLCBpc1VzZXIpXG4gICAgICAgIC50aGVuKGV4aXN0aW5nTG9jYWxTdG9yYWdlSXRlbXMgPT4ge1xuICAgICAgICAgICAgaWYgKHJlbW92YWxfc3RhdHVzLnRyYWNrKSB7XG4gICAgICAgICAgICAgICAgbnVtX2NoYW5nZXMgKz0gbWFya0NoYW5nZXMocmVtb3ZlZCwgUkVNT1ZFRCwgJ21vZCByZW1vdmVkJywga25vd25fcmVtb3ZlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHByb3ZlZCwgQVBQUk9WRUQsICdhcHByb3ZlZCcsIGtub3duX2FwcHJvdmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXMsIGl0ZW1Mb29rdXAsIHJlbW92YWxfc3RhdHVzLm5vdGlmeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdMb2NhbFN0b3JhZ2VJdGVtcywgY2hhbmdlVHlwZXMsIGlzVXNlciwgc3Vic2NyaWJlZEZyb20sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdMb2NhbFN0b3JhZ2VJdGVtcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb2NrX3N0YXR1cy50cmFjaykge1xuICAgICAgICAgICAgICAgIG51bV9jaGFuZ2VzICs9IG1hcmtDaGFuZ2VzKGxvY2tlZCwgTE9DS0VELCAnbG9ja2VkJywga25vd25fbG9ja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVubG9ja2VkLCBVTkxPQ0tFRCwgJ3VubG9ja2VkJywga25vd25fdW5sb2NrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlcywgaXRlbUxvb2t1cCwgbG9ja19zdGF0dXMubm90aWZ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0xvY2FsU3RvcmFnZUl0ZW1zLCBjaGFuZ2VUeXBlcywgaXNVc2VyLCBzdWJzY3JpYmVkRnJvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0xvY2FsU3RvcmFnZUl0ZW1zKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobnVtX2NoYW5nZXMgJiYgY2hhbmdlVHlwZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICAgICAgICB7bm90aWZpY2F0aW9uSWQ6IHRoaW5nLFxuICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaW5nLFxuICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYCR7bnVtX2NoYW5nZXN9IG5ldyBbJHtjaGFuZ2VUeXBlcy5qb2luKCcsICcpfV0gYWN0aW9ucywgY2xpY2sgdG8gdmlld2B9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBba2V5c1sncmVtb3ZlZCddXTogdHJpbURpY3RfYnlfbnVtYmVyVmFsdWVkQXR0cmlidXRlKGtub3duX3JlbW92ZWQsIE1BWF9TWU5DX1NUT1JBR0VfSVRFTVNfUEVSX09CSkVDVCwgJ2MnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBba2V5c1snYXBwcm92ZWQnXV06IHRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZShrbm93bl9hcHByb3ZlZCwgTUFYX1NZTkNfU1RPUkFHRV9JVEVNU19QRVJfT0JKRUNULCAnYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtrZXlzWydsb2NrZWQnXV06IHRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZShrbm93bl9sb2NrZWQsIE1BWF9TWU5DX1NUT1JBR0VfSVRFTVNfUEVSX09CSkVDVCwgJ2MnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBba2V5c1sndW5sb2NrZWQnXV06IHRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZShrbm93bl91bmxvY2tlZCwgTUFYX1NZTkNfU1RPUkFHRV9JVEVNU19QRVJfT0JKRUNULCAnYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtrZXlzWydjaGFuZ2VzJ11dOiBjaGFuZ2VzLnNsaWNlKC1NQVhfU1lOQ19TVE9SQUdFX0NIQU5HRVMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlQmFkZ2VVbnNlZW5Db3VudCgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZExvY2FsU3RvcmFnZUl0ZW1zKG5ld0xvY2FsU3RvcmFnZUl0ZW1zLCB0aGluZywgaXNVc2VyKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG4vLyBuZXdMb2NhbFN0b3JhZ2VJdGVtcyBvcGVyYXRlcyBhcyBhIHJldHVybiB2YWx1ZVxuZnVuY3Rpb24gbWFya0NoYW5nZXMgKGFsZXJ0X2N1cnJlbnRfbGlzdCwgYWxlcnRfdHlwZSwgYWxlcnRfdGV4dCwgYWxlcnRfa25vd25faGFzaCxcbiAgICAgICAgICAgICAgICAgICAgICBub3JtYWxfY3VycmVudF9saXN0LCBub3JtYWxfdHlwZSwgbm9ybWFsX3RleHQsIG5vcm1hbF9rbm93bl9oYXNoLFxuICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXMsIGl0ZW1Mb29rdXAsIG5vdGlmeSwgbmV3TG9jYWxTdG9yYWdlSXRlbXMsIGNoYW5nZVR5cGVzLFxuICAgICAgICAgICAgICAgICAgICAgIGlzVXNlciwgc3Vic2NyaWJlZEZyb20sIGV4aXN0aW5nTG9jYWxTdG9yYWdlSXRlbXMpIHtcbiAgICBjb25zdCBhbGVydF91bnNlZW5faWRzID0gW10sXG4gICAgICAgICAgbm9ybWFsX3Vuc2Vlbl9pZHMgPSBbXSxcbiAgICAgICAgICBhbGVydF91c2VyRGVsZXRlZF91bnNlZW5faWRzID0gW10sXG4gICAgICAgICAgbm93ID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLzEwMDApXG5cbiAgICBhbGVydF9jdXJyZW50X2xpc3QuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGl0ZW1Mb29rdXBbbmFtZV1cbiAgICAgICAgLy8gMS4gaW4gdGhlIGNhc2Ugb2YgYSBub24tdXNlcnBhZ2UtdHJhY2tlZCAoaXNVc2VyPWZhbHNlKSByZW1vdmVkIGNvbW1lbnQsIGRvbid0IG92ZXJ3cml0ZSBsb2NhbCBzdG9yYWdlIGIvY1xuICAgICAgICAvLyBpZiBpdCB3ZXJlIG92ZXJ3cml0dGVuLCBib2R5IHdvdWxkIGFwcGVhciBvbiBoaXN0b3J5IHBhZ2UgYXMgW3JlbW92ZWRdXG4gICAgICAgIC8vIDIuIGluIHRoZSBjYXNlIG9mIHVzZXJwYWdlIHRyYWNraW5nIChpc1VzZXI9dHJ1ZSksIG9ubHkgbmVlZCB0byBzYXZlIHRoZSB0ZXh0IGluIGxvY2FsIHN0b3JhZ2VcbiAgICAgICAgLy8gd2hlbiB0aGVyZSBpcyBhIGNoYW5nZS4gdXNlciBwYWdlIGxvb2t1cCAoaXRlbUxvb2t1cCkgd2lsbCBoYXZlIG9yaWdpbmFsIHRleHRcbiAgICAgICAgaWYgKCEgaXNVc2VyICYmICEgZXhpc3RpbmdMb2NhbFN0b3JhZ2VJdGVtc1tuYW1lXSkge1xuICAgICAgICAgICAgbmV3TG9jYWxTdG9yYWdlSXRlbXNbbmFtZV0gPSBuZXcgTG9jYWxTdG9yYWdlSXRlbSh7aXRlbTogaXRlbSwgb2JzZXJ2ZWRfdXRjOiBub3d9KVxuICAgICAgICB9XG4gICAgICAgIGlmICghIChuYW1lIGluIGFsZXJ0X2tub3duX2hhc2gpKSB7XG4gICAgICAgICAgICAvLyBtYXJrVW5zZWVuIGlzIGFsd2F5cyB0cnVlIGV4Y2VwdCB3aGVuIHN1YnNjcmliaW5nIHZpYSBhIHJlZGRpdCAobm90IHJldmVkZGl0KSBwYWdlIHRvIGEgbmV3IElEIGZvciAnb3RoZXInXG4gICAgICAgICAgICAvLyBzdWJzY3JpcHRpb25zLiBBcyBsb25nIGFzIHRoZSBpdGVtIGlzIG5vdCAncmVtb3ZlZCcsIHRoZSBjdXJyZW50IHN0YXRlIGlzIHN0b3JlZCBhcyAnc2VlbicgKHVuc2Vlbj1mYWxzZSkuXG4gICAgICAgICAgICAvLyBJdCBpcyBhc3N1bWVkIHRoYXQgdXNlcnMgc3Vic2NyaWJpbmcgZnJvbSByZXZlZGRpdCBwYWdlcyB3aWxsIGFscmVhZHkgaGF2ZSBzZWVuIGFsbCB0aGUgY3VycmVudCBtb2QgYWN0aW9ucyxcbiAgICAgICAgICAgIC8vIGFuZCB1c2VycyBzdWJzY3JpYmluZyBmcm9tIGEgcmVkZGl0IHBhZ2Ugd2lsbCBhbHJlYWR5IGtub3cgYWJvdXQgbG9ja2VkIGl0ZW1zXG4gICAgICAgICAgICBsZXQgbWFya1Vuc2VlbiA9IHRydWVcbiAgICAgICAgICAgIGlmICgoc3Vic2NyaWJlZEZyb20gPT09IFNVQlNDUklCRURfRlJPTV9SRURESVQgJiYgYWxlcnRfdHlwZSAhPT0gUkVNT1ZFRCkgfHxcbiAgICAgICAgICAgICAgICAgc3Vic2NyaWJlZEZyb20gPT09IFNVQlNDUklCRURfRlJPTV9SRVZFRERJVCkge1xuICAgICAgICAgICAgICAgIG1hcmtVbnNlZW4gPSBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWxlcnRfa25vd25faGFzaFtuYW1lXSA9IG5ldyBJdGVtRm9yU3RvcmFnZShpdGVtLmNyZWF0ZWRfdXRjLCBtYXJrVW5zZWVuKVxuICAgICAgICAgICAgZGVsZXRlIG5vcm1hbF9rbm93bl9oYXNoW25hbWVdXG4gICAgICAgICAgICBpZiAobWFya1Vuc2Vlbikge1xuICAgICAgICAgICAgICAgIGxldCBhbGVydF90eXBlX3ZhciA9IGFsZXJ0X3R5cGVcbiAgICAgICAgICAgICAgICBpZiAoaXNVc2VyRGVsZXRlZEl0ZW0oaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnRfdHlwZV92YXIgPSBERUxFVEVEXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0X3VzZXJEZWxldGVkX3Vuc2Vlbl9pZHMucHVzaChuYW1lKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0X3Vuc2Vlbl9pZHMucHVzaChuYW1lKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGFuZ2VzLnB1c2gobmV3IENoYW5nZUZvclN0b3JhZ2Uoe2lkOiBuYW1lLCBvYnNlcnZlZF91dGM6IG5vdywgY2hhbmdlX3R5cGU6IGFsZXJ0X3R5cGVfdmFyfSkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNVc2VyKSB7XG4gICAgICAgICAgICAgICAgbmV3TG9jYWxTdG9yYWdlSXRlbXNbbmFtZV0gPSBuZXcgTG9jYWxTdG9yYWdlSXRlbSh7aXRlbTogaXRlbSwgb2JzZXJ2ZWRfdXRjOiBub3d9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcbiAgICBub3JtYWxfY3VycmVudF9saXN0LmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtTG9va3VwW25hbWVdXG4gICAgICAgIC8vIHNhdmUgb3JpZ2luYWwgdGV4dCBmb3IgYWxsIG5vbi11c2VycGFnZS10cmFja2VkIGl0ZW1zIHNpbmNlIGNvbW1lbnQgdGV4dCBjYW4gZGlzYXBwZWFyXG4gICAgICAgIGlmICghIGlzVXNlciAmJiAhIGV4aXN0aW5nTG9jYWxTdG9yYWdlSXRlbXNbbmFtZV0pIHtcbiAgICAgICAgICAgIG5ld0xvY2FsU3RvcmFnZUl0ZW1zW25hbWVdID0gbmV3IExvY2FsU3RvcmFnZUl0ZW0oe2l0ZW06IGl0ZW0sIG9ic2VydmVkX3V0Yzogbm93fSlcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSBpbiBhbGVydF9rbm93bl9oYXNoKSB7XG4gICAgICAgICAgICBub3JtYWxfa25vd25faGFzaFtuYW1lXSA9IG5ldyBJdGVtRm9yU3RvcmFnZShpdGVtLmNyZWF0ZWRfdXRjLCB0cnVlKVxuICAgICAgICAgICAgZGVsZXRlIGFsZXJ0X2tub3duX2hhc2hbbmFtZV1cblxuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKG5ldyBDaGFuZ2VGb3JTdG9yYWdlKHtpZDogbmFtZSwgb2JzZXJ2ZWRfdXRjOiBub3csIGNoYW5nZV90eXBlOiBub3JtYWxfdHlwZX0pKVxuICAgICAgICAgICAgbm9ybWFsX3Vuc2Vlbl9pZHMucHVzaChuYW1lKVxuXG4gICAgICAgICAgICBuZXdMb2NhbFN0b3JhZ2VJdGVtc1tuYW1lXSA9IG5ldyBMb2NhbFN0b3JhZ2VJdGVtKHtpdGVtOiBpdGVtLCBvYnNlcnZlZF91dGM6IG5vd30pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub3JtYWxfa25vd25faGFzaFtuYW1lXSA9IG5ldyBJdGVtRm9yU3RvcmFnZShpdGVtLmNyZWF0ZWRfdXRjLCBmYWxzZSlcbiAgICAgICAgfVxuICAgIH0pXG4gICAgY29uc3QgbnVtX2NoYW5nZXMgPSBhbGVydF91bnNlZW5faWRzLmxlbmd0aCArIG5vcm1hbF91bnNlZW5faWRzLmxlbmd0aCArIGFsZXJ0X3VzZXJEZWxldGVkX3Vuc2Vlbl9pZHMubGVuZ3RoXG4gICAgaWYgKG5vdGlmeSAmJiBudW1fY2hhbmdlcykge1xuICAgICAgICBpZiAoYWxlcnRfdW5zZWVuX2lkcy5sZW5ndGgpIGNoYW5nZVR5cGVzLnB1c2goYWxlcnRfdGV4dClcbiAgICAgICAgaWYgKGFsZXJ0X3VzZXJEZWxldGVkX3Vuc2Vlbl9pZHMubGVuZ3RoKSBjaGFuZ2VUeXBlcy5wdXNoKCd1c2VyIGRlbGV0ZWQnKVxuICAgICAgICBpZiAobm9ybWFsX3Vuc2Vlbl9pZHMubGVuZ3RoKSBjaGFuZ2VUeXBlcy5wdXNoKG5vcm1hbF90ZXh0KVxuICAgIH1cbiAgICByZXR1cm4gbnVtX2NoYW5nZXNcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=