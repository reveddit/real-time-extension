!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=314)}({1:function(e,t,n){"use strict";n.r(t),n.d(t,"INTERVAL_DEFAULT",function(){return u}),n.d(t,"SEEN_COUNT_DEFAULT",function(){return m}),n.d(t,"MAX_SYNC_STORAGE_ITEMS_PER_OBJECT",function(){return g}),n.d(t,"MAX_SYNC_STORAGE_CHANGES",function(){return l}),n.d(t,"MAX_OTHER_SUBSCRIPTIONS",function(){return d}),n.d(t,"REMOVED",function(){return f}),n.d(t,"APPROVED",function(){return h}),n.d(t,"LOCKED",function(){return p}),n.d(t,"UNLOCKED",function(){return A}),n.d(t,"EDITED",function(){return v}),n.d(t,"DELETED",function(){return b}),n.d(t,"getObjectNamesForThing",function(){return w}),n.d(t,"markEverythingAsSeen",function(){return O}),n.d(t,"markThingAsSeen",function(){return j}),n.d(t,"setStorageUpdateBadge",function(){return E}),n.d(t,"markIDsAsSeenIfSubscribed",function(){return T}),n.d(t,"subscribeId",function(){return C}),n.d(t,"unsubscribeId",function(){return I}),n.d(t,"getSubscribedIds",function(){return P}),n.d(t,"subscribeUser",function(){return D}),n.d(t,"unsubscribeUser",function(){return R}),n.d(t,"initStorage",function(){return M}),n.d(t,"getSubscribedUsers_withSeenAndUnseenIDs",function(){return L}),n.d(t,"getSubscribedUsers_withUnseenIDs",function(){return $}),n.d(t,"getUnseenIDs_thing",function(){return F}),n.d(t,"getIDs_thing",function(){return N}),n.d(t,"getLocalStorageItems",function(){return U}),n.d(t,"saveLocalStorageItems",function(){return q}),n.d(t,"addLocalStorageItems",function(){return B}),n.d(t,"getItemFromLocalStorage",function(){return V}),n.d(t,"getAllChanges",function(){return G}),n.d(t,"getOptions",function(){return z}),n.d(t,"saveOptions",function(){return H});var r=n(2),o=n(3),i=n.n(o);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=1,m=2,g=130,l=100,d=100,f=1,h=2,p=3,A=4,v=5,b=6,y={changes:[],removed:{},approved:{},locked:{},unlocked:{}},x=function(e,t,n){return n?e+"_u_"+t:e+"_"+t},_=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object.keys(y).forEach(function(r){e[x(r,t,n)]=y[r]})},w=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={};return Object.keys(y).forEach(function(r){n[r]=x(r,e,t)}),n},k=function(e){var t={};return _(t,e,!0),t},O=function(){return i.a.storage.sync.get(null).then(function(e){return Object.keys(e.user_subscriptions).forEach(function(t){j(e,t,!0)}),j(e,"other",!1),E(e)})},j=function(e,t,n){var r=w(t,n);delete r.changes;var o=[];Object.values(r).forEach(function(e){o.push(e)}),o.forEach(function(t){Object.values(e[t]).forEach(function(e){e.u=!1})})},E=function(e){return i.a.storage.sync.set(e).then(function(e){return i.a.runtime.sendMessage({action:"update-badge"})})},S=function(e,t,n,o,i){var s=e[t[n]];Object.keys(o).forEach(function(e){e in s?s[e].u=!1:i&&(s[e]=new r.ItemForStorage(o[e],!1))})},T=function(e,t,n,r,o,i,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(){},c=w(t,n);delete c.changes;var u=e.user_subscriptions[t];!u&&n||(S(e,c,"removed",r,n),S(e,c,"approved",o,n),S(e,c,"locked",i,n),S(e,c,"unlocked",s,n),chrome.storage.sync.set(e,a))},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n="other_subscriptions";chrome.storage.sync.get(n,function(o){o[n][e]={t:Math.floor((new Date).getTime()/1e3)};var i=Object(r.trimDict_by_numberValuedAttribute)(o[n],d,"t");chrome.storage.sync.set(c({},n,i),t)})},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n="other_subscriptions",r=w("other",!1);delete r.changes,chrome.storage.sync.get(Object.values(r).concat(n),function(o){delete o[n][e],Object.values(r).forEach(function(t){e in o[t]&&delete o[t][e]}),chrome.storage.sync.set(o,function(){chrome.runtime.sendMessage({action:"update-badge"},t)})})},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t="other_subscriptions";chrome.storage.sync.get(t,function(n){e(Object.keys(n[t]))})},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=k(e);chrome.storage.sync.get("user_subscriptions",function(o){var i=o.user_subscriptions;e in i?n("already subscribed to this user"):Object.keys(i).length<5?(i[e]=!0,chrome.storage.sync.set(a({user_subscriptions:i},r),t)):n("maximum number of subscriptions reached")})},R=function(e,t){var n=Object.keys(k(e));chrome.storage.sync.get("user_subscriptions",function(r){var o=r.user_subscriptions;delete o[e],chrome.storage.sync.set({user_subscriptions:o},function(){chrome.storage.sync.remove(n,function(){var n=x("items",e,!0);chrome.runtime.sendMessage({action:"update-badge"}),chrome.storage.local.remove(n,t)})})})},M=function(e){chrome.storage.sync.get(null,function(t){var n;0===Object.keys(t).length?chrome.storage.sync.set((_(n={user_subscriptions:{},other_subscriptions:{},options:{interval:u,seen_count:m,custom_clientid:"",removal_status:{track:!0,notify:!0},lock_status:{track:!0,notify:!0},monitor_quarantined:!1},last_check:null,last_check_quarantined:null},"other",!1),n),e):e()})},L=function(e){chrome.storage.sync.get(null,function(t){var n=Object.keys(t.user_subscriptions),r={};n.forEach(function(e){r[e]=N(e,!0,t)}),r.other=N("other",!1,t),e(r,t)})},$=function(e){chrome.storage.sync.get(null,function(t){var n=Object.keys(t.user_subscriptions),r={};n.forEach(function(e){r[e]=F(e,!0,t)}),r.other=F("other",!1,t),e(r)})},F=function(e,t,n){return N(e,t,n).unseen},N=function(e,t,n){var r=n.options.removal_status.track,o=n.options.lock_status.track,i={},s={},a=[],c=w(e,t);return r&&a.push(c.removed,c.approved),o&&a.push(c.locked,c.unlocked),a.forEach(function(e){Object.keys(n[e]).forEach(function(t){n[e][t].u?i[t]=!0:s[t]=!0})}),{unseen:Object.keys(i),seen:Object.keys(s)}},U=function(e,t){var n=x("items",e,t);return i.a.storage.local.get(c({},n,{})).then(function(e){return e[n]})},q=function(e,t,n){var r=x("items",e,t);return i.a.storage.local.set(c({},r,n))},B=function(e,t,n){var o=x("items",t,n);return chrome.storage.local.get(c({},o,{}),function(t){var n=t[o];Object.keys(e).forEach(function(t){n[t]=e[t]});var s=n;return Object.keys(n).length>500&&(s=Object(r.trimDict_by_numberValuedAttribute)(n,500,"o")),i.a.storage.local.set(c({},o,s))})},V=function(e,t,n,o){var i=x("items",e,t);return i in o&&n in o[i]?new r.LocalStorageItem({object:o[i][n]}):""},G=function(e){chrome.storage.sync.get("user_subscriptions",function(t){var n=[x("changes","other",!1)],r={changes_other:"other"};Object.keys(t.user_subscriptions).forEach(function(e){var t=x("changes",e,!0);n.push(t),r[t]=e}),chrome.storage.sync.get(n,function(t){var o={};n.forEach(function(e){e in t&&t[e].length&&(o[r[e]]=t[e])}),e(o)})})},z=function(e){return i.a.storage.sync.get(["user_subscriptions","other_subscriptions","options"]).then(function(t){var n=Object.keys(t.user_subscriptions),r=Object.keys(t.other_subscriptions),o=t.options;return e(n,r,o)}).catch(console.log)},H=function(e,t,n,r,o,i,s,a,c,u){chrome.storage.sync.set({options:{seen_count:e,interval:t,custom_clientid:n,removal_status:{track:r,notify:o},lock_status:{track:i,notify:s},hide_subscribe:a,monitor_quarantined:c}},u)}},2:function(e,t,n){"use strict";n.r(t),n.d(t,"ALARM_NAME",function(){return a}),n.d(t,"createTab",function(){return c}),n.d(t,"getFullIDsFromURL",function(){return u}),n.d(t,"getFullIDsFromPath",function(){return l}),n.d(t,"reformatRedditText",function(){return d}),n.d(t,"isRemovedItem",function(){return f}),n.d(t,"isComment",function(){return h}),n.d(t,"isRemovedComment",function(){return p}),n.d(t,"isUserDeletedComment",function(){return A}),n.d(t,"isUserDeletedPost",function(){return v}),n.d(t,"isUserDeletedItem",function(){return b}),n.d(t,"isRemovedPost",function(){return y}),n.d(t,"trimDict_by_numberValuedAttribute",function(){return x}),n.d(t,"sortDict_by_numberValuedAttribute",function(){return _}),n.d(t,"ItemForStorage",function(){return w}),n.d(t,"ChangeForStorage",function(){return k}),n.d(t,"LocalStorageItem",function(){return O}),n.d(t,"setAlarm",function(){return j}),n.d(t,"alphaLowerSort",function(){return E}),n.d(t,"goToOptions",function(){return S}),n.d(t,"showError",function(){return T}),n.d(t,"pprint",function(){return C}),n.d(t,"getPrettyTimeLength",function(){return I}),n.d(t,"getPrettyDate",function(){return P}),n.d(t,"createNotification",function(){return D}),n.d(t,"updateBadgeUnseenCount",function(){return R});var r=n(1);n(3);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var a="notifyme",c=function(e){chrome.tabs.create({url:e},function(t){t?chrome.windows.update(t.windowId,{focused:!0}):chrome.windows.create({url:e},function(e){chrome.windows.update(e.id,{focused:!0})})})},u=function(e){var t=e.replace(/https:\/\/[^/]*re(ve)?ddit.com/,"");return l(t)},m=/^\/(v|r|user)\/([^/]+)\/comments\/([^/]+)\/[^/]*(?:\/([^/?&#]+))?/,g=/^\/(?:user|y|u)\/([^/?&#]+)\/?/,l=function(e){var t=void 0,n=void 0,r=void 0,o=void 0,i=e.match(m),s=e.match(g);i?("user"===i[1]?r=i[2]:o=i[2],i[3]&&(t="t3_"+i[3]),i[4]&&(n="t1_"+i[4])):s&&(r=s[1]);return[t,n,r,o]},d=function(e){return e.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/\s+/g," ").substr(0,300)},f=function(e){return!!e.removal_reason||(h(e.name)?p(e):y(e))},h=function(e){return"t1"===e.substr(0,2)},p=function(e){return"["===e.author.replace(/\\/g,"")[0]&&"["===e.body.replace(/\\/g,"")[0]},A=function(e){return"[deleted]"===e.body.replace(/\\/g,"")&&"[deleted]"===e.author.replace(/\\/g,"")},v=function(e){return!e.is_robot_indexable&&"[deleted]"===e.author.replace(/\\/g,"")},b=function(e){return h(e.name)?A(e):v(e)},y=function(e){return!e.is_robot_indexable},x=function(e,t,n){var r=_(e,n).slice(0,t),o={};return r.forEach(function(e){o[e[0]]=e[1]}),o},_=function(e,t){var n=Object.keys(e).map(function(t){return[t,e[t]]});return n.sort(function(e,n){return n[1][t]-e[1][t]}),n},w=function(){function e(t,n){o(this,e),this.c=t,this.u=n}return s(e,[{key:"getCreatedUTC",value:function(){return this.c}},{key:"getUnseen",value:function(){return this.u}}]),e}(),k=function(){function e(t){var n=t.id,r=void 0===n?null:n,i=t.observed_utc,s=void 0===i?null:i,a=t.change_type,c=void 0===a?null:a,u=t.seen_count,m=void 0===u?null:u,g=t.object,l=void 0===g?null:g;o(this,e),l?(this.i=l.i,this.o=l.o,this.g=l.g,this.n=l.n):(this.i=r,this.o=s,this.g=c,this.n=m)}return s(e,[{key:"getID",value:function(){return this.i}},{key:"getObservedUTC",value:function(){return this.o}},{key:"getChangeTypeInternal",value:function(){return this.g}},{key:"getChangeType",value:function(){switch(this.g){case r.REMOVED:return"mod removed";case r.DELETED:return"user deleted";case r.APPROVED:return"approved";case r.LOCKED:return"locked";case r.UNLOCKED:return"unlocked";case r.EDITED:return"edited"}}},{key:"getSeenCount",value:function(){return this.n}}]),e}(),O=function(){function e(t){var n=t.item,r=void 0===n?null:n,i=t.observed_utc,s=void 0===i?null:i,a=t.object,c=void 0===a?null:a;if(o(this,e),c)this.t=c.t,this.o=c.o,this.c=c.c,this.n=c.n||0;else{var u="";u=h(r.name)?d(r.body):r.title,this.t=u,this.o=s,this.c=r.created_utc,this.n=0}}return s(e,[{key:"setText",value:function(e){this.t=d(e)}},{key:"getText",value:function(){return this.t}},{key:"getObservedUTC",value:function(){return this.o}},{key:"getCreatedUTC",value:function(){return this.c}},{key:"resetSeenCount",value:function(){this.n=0}},{key:"getSeenCount",value:function(){return this.n}},{key:"incrementSeenCount",value:function(){return void 0===this.n&&(this.n=0),this.n+=1,this.n}}]),e}();function j(e){chrome.alarms.clear(a),chrome.alarms.create(a,{delayInMinutes:1,periodInMinutes:e})}function E(e,t){var n=e.toLowerCase(),r=t.toLowerCase();return n<r?-1:n>r?1:0}function S(){chrome.runtime.openOptionsPage?(chrome.runtime.openOptionsPage(),window.close()):window.open(chrome.runtime.getURL("/src/options.html"))}function T(e,t){$('<div class="rr-error">'+e+"</div>").appendTo(t).delay(2400).fadeTo(400,0,function(){$(this).remove()})}function C(e){console.log(JSON.stringify(e,null,"\t"))}var I=function(e){var t=[[60,"second","seconds"],[60,"minute","minutes"],[24,"hour","hours"],[7,"day","days"],[365/12/7,"week","weeks"],[12,"month","months"],[10,"year","years"],[10,"decade","decades"],[10,"century","centuries"],[10,"millenium","millenia"]];if(e<60)return e+" seconds";for(var n=e,r=0;r<t.length;r++){var o=t[r][0],i=t[r][1],s=t[r][2];if(n<o){var a=n-Math.floor(n),c=Math.round(a*t[r-1][0]);if(t[r-1][0]===c&&(n+=1,c=0),(Math.floor(n)>1||0==Math.floor(n))&&(i=s),r>1&&c>0){var u=t[r-1][1];c>1&&(u=t[r-1][2]),i+=", "+String(c)+" "+u}return String(Math.floor(n))+" "+i}n/=o}},P=function(e){var t=Math.floor((new Date).getTime()/1e3)-e;return I(t)+" ago"},D=function(e){var t=e.notificationId,n=e.title,r=e.message;location.protocol.match(/^http/)?chrome.runtime.sendMessage({action:"create-notification",options:{notificationId:t,title:n,message:r}}):chrome.notifications.create(t,{type:"basic",iconUrl:"/icons/128.png",title:n,message:r})},R=function(){location.protocol.match(/^http/)?chrome.runtime.sendMessage({action:"update-badge"}):Object(r.getSubscribedUsers_withUnseenIDs)(function(e){var t=0;Object.values(e).forEach(function(e){t+=e.length});var n=t.toString();0==t&&(n=""),chrome.browserAction.setBadgeBackgroundColor({color:"red"}),chrome.browserAction.setBadgeText({text:n})})}},29:function(e,t,n){"use strict";n.r(t),n.d(t,"lookupItemsByID",function(){return g}),n.d(t,"lookupItemsByUser",function(){return p}),n.d(t,"handleFetchErrors",function(){return A}),n.d(t,"getRedditToken",function(){return b}),n.d(t,"getAuth",function(){return y}),n.d(t,"getLocalAuth",function(){return x}),n.d(t,"getCookie",function(){return _}),n.d(t,"getLocalOrAppAuth",function(){return k}),n.d(t,"getLoggedinUser",function(){return O});var r=n(1),o=n(3),i=n.n(o);function s(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i={id:e,raw_json:1};r&&(i.quarantined_subreddits=o.join(","));var s="?"+Object.keys(i).map(function(e){return"".concat(e,"=").concat(i[e])}).join("&");return h.apply(void 0,m(w("api/info",s,t,r)).concat([n]))},l={name:"reddit_session",url:"https://reddit.com"},d=["name","value","domain","path","secure","httpOnly","storeId"],f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://reddit.com";if(!e)return e;var n=Object.keys(e).filter(function(e){return d.includes(e)}).reduce(function(t,n){return c({},t,u({},n,e[n]))},{});return n.url=t,n},h=function(){var e,t=(e=regeneratorRuntime.mark(function e(t,n){var r,o,s,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.next=3,i.a.cookies.set({domain:"reddit.com",url:"https://reddit.com",name:"_options",value:"{%22pref_quarantine_optin%22:true}"});case 3:if(!r){e.next=12;break}return e.t0=f,e.next=7,i.a.cookies.get(l);case 7:if(e.t1=e.sent,!(o=(0,e.t0)(e.t1))){e.next=12;break}return e.next=12,i.a.cookies.remove(l);case 12:if(n||(n={}),n.cache="reload",n.headers||(n.headers={}),"en"!==n.headers["Accept-Language"]&&(n.headers["Accept-Language"]="en"),s=fetch(t,n).then(A).then(v).catch(console.log),!o){e.next=20;break}return e.next=20,i.a.cookies.set(o);case 20:return e.abrupt("return",s);case 21:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)})});return function(e,n){return t.apply(this,arguments)}}(),p=function(e,t,n,r,o,i,s){var a={limit:100,sort:n,raw_json:1};t&&(a.after=t),r&&(a.t=r);var c="user/".concat(e,"/overview.json"),u="?"+Object.keys(a).map(function(e){return"".concat(e,"=").concat(a[e])}).join("&");return h.apply(void 0,m(w(c,u,s,i)).concat([o]))},A=function(e){if(!e.ok)throw Error(e.statusText);return e.json()},v=function(e){if(e&&e.user&&e.user.items)return e;if(!e||!e.data||!e.data.children)throw Error("reddit data is not defined");return e.data.children},b=function(e){if(!e||!e.access_token)throw Error("access token is not defined");return e.access_token},y=function(){return Object(r.getOptions)(function(e,t,n){var r="SEw1uvRd6kxFEw";if(n.custom_clientid&&"testing"===(r=n.custom_clientid))return"none";var o={headers:{Authorization:"Basic ".concat(btoa("".concat(r,":"))),"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},method:"POST",body:"grant_type=".concat(encodeURIComponent("https://oauth.reddit.com/grants/installed_client"),"&device_id=DO_NOT_TRACK_THIS_DEVICE")};return fetch("https://www.reddit.com/api/v1/access_token",o).then(A).then(b).then(function(e){return{headers:{Authorization:"bearer ".concat(e),"Accept-Language":"en"}}}).catch(console.log)})},x=function(){return fetch("https://mod.reddit.com/mail/all").then(function(e){_({url:"https://mod.reddit.com",name:"token"}).then(function(e){if(e){var t=new RegExp("[^A-Za-z0-9+/].*?$"),n=e.value.replace(t,""),r=atob(n),o=JSON.parse(r);return"accessToken"in o&&o.accessToken?{headers:{Authorization:"bearer ".concat(o.accessToken),"Accept-Language":"en"}}:null}return null})})},_=function(e){var t=e.url,n=e.name;return location.protocol.match(/^http/)?i.a.runtime.sendMessage({action:"get-cookie",options:{url:t,name:n}}).then(function(e){return e.cookie}):i.a.cookies.get({url:t,name:n})},w=function(e,t,n,r){if(n&&"none"!==n){var o="https://oauth.reddit.com/",i=e+t;return r&&(o="https://cred2.reveddit.com/",i+="&give_it_to_me=1"),[o+i,n]}var s=(r?"https://wred.reveddit.com/":"https://www.reddit.com/")+e;return"api/info"===e&&(s+=".json"),[s+=t]},k=function(){return x().then(function(e){return e||y()}).catch(console.log)},O=function(){return fetch("https://www.reddit.com/api/me.json").then(A).then(j).catch(console.log)},j=function(e){if(!e||!e.data||!e.data.name)throw Error("reddit username is not defined");return e.data.name}},3:function(e,t,n){var r,o,i;o=[e],void 0===(i="function"==typeof(r=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const t="The message port closed before a response was received.",n="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");const o=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(e.runtime.lastError):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},i=e=>1==e?"argument":"arguments",s=(e,t,n)=>new Proxy(t,{apply:(t,r,o)=>n.call(r,e,...o)});let a=Function.call.bind(Object.prototype.hasOwnProperty);const c=(e,t={},n={})=>{let r=Object.create(null),u={has:(t,n)=>n in e||n in r,get(u,m,g){if(m in r)return r[m];if(!(m in e))return;let l=e[m];if("function"==typeof l)if("function"==typeof t[m])l=s(e,e[m],t[m]);else if(a(n,m)){let t=((e,t)=>(function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise((i,s)=>{if(t.fallbackToNoCallback)try{n[e](...r,o({resolve:i,reject:s},t))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, `+"falling back to call it without a callback: ",o),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,i()}else t.noCallback?(n[e](...r),i()):n[e](...r,o({resolve:i,reject:s},t))})}))(m,n[m]);l=s(e,e[m],t)}else l=l.bind(e);else{if("object"!=typeof l||null===l||!a(t,m)&&!a(n,m))return Object.defineProperty(r,m,{configurable:!0,enumerable:!0,get:()=>e[m],set(t){e[m]=t}}),l;l=c(l,t[m],n[m])}return r[m]=l,l},set:(t,n,o,i)=>(n in r?r[n]=o:e[n]=o,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},m=Object.create(e);return new Proxy(m,u)},u=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}});let m=!1;const g=new class extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}(e=>"function"!=typeof e?e:function(t,r,o){let i,s,a=!1,c=new Promise(e=>{i=function(t){m||(console.warn(n,(new Error).stack),m=!0),a=!0,e(t)}});try{s=e(t,r,i)}catch(e){s=Promise.reject(e)}const u=!0!==s&&(e=>e&&"object"==typeof e&&"function"==typeof e.then)(s);if(!0!==s&&!u&&!a)return!1;const g=e=>{e.then(e=>{o(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",o({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})};return g(u?s:c),!0}),l=(n,r,o,...s)=>{if(s.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${i(r.minArgs)} for ${n}(), got ${s.length}`);if(s.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${i(r.maxArgs)} for ${n}(), got ${s.length}`);return new Promise((n,r)=>{const i=(({reject:n,resolve:r},o)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(e.runtime.lastError):o&&o.__mozWebExtensionPolyfillReject__?n(new Error(o.message)):r(o)}).bind(null,{resolve:n,reject:r});s.push(i),o.sendMessage(...s)})},d={runtime:{onMessage:u(g),onMessageExternal:u(g),sendMessage:l.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:l.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},f={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{networkPredictionEnabled:f,webRTCIPHandlingPolicy:f},services:{passwordSavingEnabled:f},websites:{hyperlinkAuditingEnabled:f,referrersEnabled:f}},c(e,d,r)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");e.exports=r(chrome)}else e.exports=browser})?r.apply(t,o):r)||(e.exports=i)},314:function(e,t,n){"use strict";n.r(t),n.d(t,"redditModifications",function(){return g});var r=n(29),o=n(2),i=n(64),s=n(3),a=n.n(s);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u=/^t1_.+/,m=/^t3_.+/,g=function(e,t,n){var r=null!==document.querySelector("#SHORTCUT_FOCUSABLE_DIV");if(f(r,n),r){if(!t){v($(".Comment"),e),$(document).arrive(".Comment",function(t){v([t],e)});y($(".Post"),e),$(document).arrive(".Post",function(t){y([t],e)})}d();$(document).arrive('.Post div[data-test-id="post-content"]',function(e){p(e,n)})}else if(!t){var o=".thing.link, .thing.comment";x($(o),e),$(document).arrive(o,function(t){x([t],e)})}},l="Comment removed by moderator".toLowerCase().trim(),d=function(){var e=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value,a=$(s).closest("div").first();if(!$(a).parent().find(".".concat("RevedditLink")).length){var c=$(a).find('a[href^="https://www.reddit.com"]').first().attr("href"),u=new URL(c);u.searchParams.set("utm_source","reveddit-rt"),u.host="www.reveddit.com";var m=$(s).clone();$(m).html('<a target="_blank" style="text-decoration: underline;" href="'.concat(u.toString(),'">view on Reveddit</a>')),$('<div class="'.concat("RevedditLink",'">').concat($(m)[0].outerHTML,"</div>")).insertAfter(a)}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}};$(document).arrive("span",function(t){t.textContent.toLowerCase().trim()===l&&e([t])});var t=function(){e($('span:equalsi("'.concat(l,'")')))};t(),setTimeout(t,1e3),setTimeout(t,5e3),setTimeout(t,1e4)},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".Post",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Object(o.getFullIDsFromPath)(window.location.pathname),s=c(i,4),u=s[0];s[1],s[2],s[3];e&&0===Object.keys(r).length?a.a.runtime.sendMessage({action:"get-reddit-items-by-id",ids:[u],monitor_quarantined:t}).then(function(t){t&&t.items&&t.items.length&&(r=t.items[0].data,h({isNewReddit:e,newRedditTarget:n,postData:r}))}):h({isNewReddit:e,newRedditTarget:n,postData:r})},h=function(e){var t=e.isNewReddit,n=e.newRedditTarget,r=void 0===n?".Post":n,i=e.postData,s=void 0===i?{}:i,u=c(Object(o.getFullIDsFromPath)(window.location.pathname),4),m=u[0],g=(u[1],u[2],u[3]),l=void 0,d=void 0;if(m&&($('meta[name="robots"][content="noindex,nofollow"]').length||"is_robot_indexable"in s&&!s.is_robot_indexable)){var f=s.author||$(".link .top-matter .author").first().text()||$('.link .top-matter .tagline span:contains("[deleted]")').text()||$('.Post span:contains("u/[deleted]")').first().text();"[deleted]"!==f&&"u/[deleted]"!==f||"moderator"===s.removed_by_category?(l="rev-mod-removed",d="This post is unapproved. It is either waiting to be approved, or it was removed by someone or some robot."):(l="rev-user-deleted",d="This post was either deleted by the person who posted it, or removed by a moderator and then deleted by the person who posted it.")}if(d){var h=" It is not currently visible in r/".concat(g," and may not appear in web search results."),p='<div class="rev-from"><a id="'.concat("goto-options-from-content",'" href="#">Reveddit Real-Time</a> note</div>'),A=window.location.pathname.split("/",6).join("/"),v='<p><a href="https://www.reveddit.com'.concat(A,'/">View the post on Reveddit.com</a></p>');if(t){d+=" More details may appear in a message above from reddit.";var b=$('<div class="rev-new-reddit-message-wrap '.concat(l,'">').concat(p,"</div>")),y=$('<div class="rev-new-reddit-message-content"></div>'),x=$('<div class="rev-new-reddit-message-content-description">'.concat(d).concat(h,"</div>"));y.append(x),y.append(v),b.append(y),$(r).first().after(b)}else{d+=' View the post <a href="https://new.reddit.com'.concat(A,'/">on new reddit</a> for more details.'),$('<div class="reddit-infobar md-container-small '.concat(l,'">')).append(p).append('<div class="md"><p>'.concat(d).concat(h,"</p>").concat(v,"</div>")).prependTo('div.content[role="main"]')}$("#".concat("goto-options-from-content")).click(function(){return a.a.runtime.sendMessage({action:"open-options"})})}},p=function(e,t){var n=c(Object(o.getFullIDsFromPath)(window.location.pathname),4),i=n[0];n[1],n[2],n[3];Object(r.getAuth)().then(function(e){return Object(r.lookupItemsByID)([i],e,t)}).then(function(n){if(n){var r=n[0].data;f(!0,t,e.parentNode,r)}})},A=function(e,t){var n=e.id;return n&&n.match(t)?n:(n=$(e).attr("class").split(/\s+/).filter(function(e){return e.match(t)})[0])&&n.match(t)?n:(n=e.parentNode.id)&&n.match(t)?n:n=$(e).closest("div[tabindex=-1]").attr("id")},v=function(e,t){$(e).each(function(e,n){var r=$(n).closest(".Comment")[0],o=A(r,u);if(o&&o.match(u)){var s=b(r,"save"),a=s.parent();s.length||(a=(s=b(r,"share")).parent());var c=s.clone(),m="",g=r.querySelector(".RichTextJSON-root");g&&(m=g.textContent),o in t?Object(i.setTextAndFunction_unsubscribe)(o,c,m).appendTo(a):Object(i.setTextAndFunction_subscribe)(o,c,m).appendTo(a)}})},b=function(e,t){return $(e).find('button:equalsi("'.concat(t,'")')).first()},y=function(e,t){$(e).each(function(e,n){var r=A(n,m);if(r&&r.match(m)){var o=$(n).find('button :equalsi("save")').first().parent(),s=o.clone();s.find("i.icon").first().parent().remove();var a=o.parent().children("button").last();r in t?Object(i.setTextAndFunction_unsubscribe)(r,s).insertAfter(a):Object(i.setTextAndFunction_subscribe)(r,s).insertAfter(a)}})},x=function(e,t){$(e).each(function(e,n){var r=n.getAttribute("data-fullname");if(!r){var s=c(Object(o.getFullIDsFromPath)(n.getAttribute("data-permalink")||""),4),a=s[0],u=s[1];s[2],s[3];u?r=u:a&&(r=a)}if(r){var m=n.querySelector("ul.buttons");if(m){var g="",l=n.querySelector(".usertext-body");l&&r.match(/^t1_/)&&(g=l.textContent);var d=Object(i.setTextAndFunction_subscribe)(r,$('<a href="">')[0],g);r in t&&(d=Object(i.setTextAndFunction_unsubscribe)(r,$('<a href="">')[0],g)),$(m).append(d.wrap("<li>").parent())}}})}},64:function(e,t,n){"use strict";n.r(t),n.d(t,"setTextAndFunction_subscribe",function(){return m}),n.d(t,"setTextAndFunction_unsubscribe",function(){return g});var r=n(1),o=n(2),i=n(65);n(3);function s(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)})}}var c="unsubscribe-rev",u="subscribe-rev";location.hostname.match(/reveddit\.com$/)&&(c="unsubscribe",u="subscribe");var m=function(e,t,n){return $(t).text(u).off("click").click(function(t){return l(e,t.target,n)})},g=function(e,t,n){return $(t).text(c).off("click").click(function(t){return d(e,t.target,n)})},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object(r.subscribeId)(e,a(regeneratorRuntime.mark(function s(){return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return g(e,t,n),s.next=3,Object(i.b)(e,window.location.href);case 3:n&&Object(r.getLocalStorageItems)("other",!1).then(function(t){var i=t[e];if(i){var s=new o.LocalStorageItem({object:i});s.setText(n),t[e]=s,Object(r.saveLocalStorageItems)("other",!1,t)}});case 4:case"end":return s.stop()}},s)}))),!1},d=function(e,t,n){return Object(r.unsubscribeId)(e,function(){m(e,t,n)}),!1}},65:function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return p});var r=n(29),o=n(1),i=n(2),s=n(3),a=n.n(s);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){u(i,r,o,s,a,"next",e)}function a(e){u(i,r,o,s,a,"throw",e)}s(void 0)})}}var g=0,l=1,d=2,f=Math.floor(60*Math.random())+60,h=function(e,t){var n=g;return t.match(/^https:\/\/www.reveddit.com/)&&(n=l),chrome.storage.sync.get(null,function(t){Object(r.getAuth)().then(function(r){return v([e],"other",!1,r,t,n,{})})})},p=function(){chrome.storage.sync.get(null,function(e){var t=Object.keys(e.user_subscriptions),n=Object.keys(e.other_subscriptions);if(t.length||n.length){var o=Math.floor(new Date/1e3);(!e.last_check_quarantined||o-e.last_check_quarantined>432e3)&&(e.tempVar_monitor_quarantined=!0),Object(r.getAuth)().then(function(n){return function(e,t){var n=Object.keys(t.other_subscriptions);n.length&&v(n,"other",!1,e,t,d)}(n,e),A(t,n,e)}).then(function(){var t={last_check:o};e.tempVar_monitor_quarantined&&(t.last_check_quarantined=o),e.tempVar_quarantined_content_found&&(t.options=e.options,t.options.monitor_quarantined=!0),chrome.storage.sync.set(t)})}})},A=function(){var e=m(regeneratorRuntime.mark(function e(t,n,o){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.length){e.next=3;break}return i=t[0],e.abrupt("return",Object(r.lookupItemsByUser)(i,"","new","",o.options.monitor_quarantined,o.tempVar_monitor_quarantined,n).then(function(e){if(e){var r=[],s=new Set,a={};return e.user&&e.user.items&&(e=e.user.items),e.forEach(function(e){e.data&&e.data.name&&(e=e.data),r.push(e.name),a[e.name]=e,e.quarantine&&(s.add(e.subreddit),o.tempVar_quarantined_content_found=!0)}),v(r,i,!0,n,o,d,a,Array.from(s)).then(function(){return A(t.slice(1),n,o)})}}));case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}();var v=function(){var e=m(regeneratorRuntime.mark(function e(t,n,s,u,m,g){var l,d,f,h,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=p.length>6&&void 0!==p[6]?p[6]:{},d=p.length>7&&void 0!==p[7]?p[7]:[],h=m.options.monitor_quarantined,f=location.protocol.match(/^http/)?a.a.runtime.sendMessage({action:"get-reddit-items-by-id",ids:t,monitor_quarantined:h}):Object(r.lookupItemsByID)(t,u,h,m.tempVar_monitor_quarantined,d),e.abrupt("return",f.then(function(e){if(e){var t=Array.isArray(e)?e:e.items;if(t){var r=m.options.removal_status,a=m.options.lock_status,u=m.options.seen_count||o.SEEN_COUNT_DEFAULT,d=Object(o.getObjectNamesForThing)(n,s),f=m[d.removed]||{},h=m[d.approved]||{},p=m[d.locked]||{},A=m[d.unlocked]||{},v=m[d.changes]||[];s||(l={});var b=[],x=[],_=[],w=[];t.forEach(function(e){var t=e.data;s||(l[t.name]=t),Object(i.isRemovedItem)(t)?b.push(t.name):x.push(t.name),t.locked?_.push(t.name):w.push(t.name)});var k={},O=[],j=0;return Object(o.getLocalStorageItems)(n,s).then(function(e){var t;return r.track&&(j+=y(b,o.REMOVED,"mod removed",f,x,o.APPROVED,"approved",h,v,l,r.notify,k,O,s,g,e,u)),a.track&&(j+=y(_,o.LOCKED,"locked",p,w,o.UNLOCKED,"unlocked",A,v,l,a.notify,k,O,s,g,e,u)),j&&O.length&&Object(i.createNotification)({notificationId:n,title:n,message:"".concat(j," new [").concat(O.join(", "),"] actions, click to view")}),chrome.storage.sync.set((c(t={},d.removed,Object(i.trimDict_by_numberValuedAttribute)(f,o.MAX_SYNC_STORAGE_ITEMS_PER_OBJECT,"c")),c(t,d.approved,Object(i.trimDict_by_numberValuedAttribute)(h,o.MAX_SYNC_STORAGE_ITEMS_PER_OBJECT,"c")),c(t,d.locked,Object(i.trimDict_by_numberValuedAttribute)(p,o.MAX_SYNC_STORAGE_ITEMS_PER_OBJECT,"c")),c(t,d.unlocked,Object(i.trimDict_by_numberValuedAttribute)(A,o.MAX_SYNC_STORAGE_ITEMS_PER_OBJECT,"c")),c(t,d.changes,v.slice(-o.MAX_SYNC_STORAGE_CHANGES)),t),function(){return Object(i.updateBadgeUnseenCount)(),Object(o.addLocalStorageItems)(k,n,s)})})}}}));case 5:case"end":return e.stop()}},e)}));return function(t,n,r,o,i,s){return e.apply(this,arguments)}}(),b=function(e,t,n){var r=!0,o=!1,s=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value,m=u;if(m instanceof i.ChangeForStorage||(m=new i.ChangeForStorage({object:u})),m.getID()===e&&t===m.getChangeTypeInternal())return!0}}catch(e){o=!0,s=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw s}}return!1};function y(e,t,n,r,s,a,c,u,m,d,h,p,A,v,y,x,_){var w=[],k=[],O=[],j=Math.floor(new Date/1e3);e.forEach(function(e){var n=d[e],s=x[e];if(v||s){if(s){var a=new i.LocalStorageItem({object:s});a.resetSeenCount(),p[e]=a}}else p[e]=new i.LocalStorageItem({item:n,observed_utc:j});if(!(e in r)){var c=!0;if((y===g&&t!==o.REMOVED||y===l)&&(c=!1),r[e]=new i.ItemForStorage(n.created_utc,c),delete u[e],c){var f=t;Object(i.isUserDeletedItem)(n)?(f=o.DELETED,O.push(e)):w.push(e),m.push(new i.ChangeForStorage({id:e,observed_utc:j,change_type:f}))}v&&(p[e]=new i.LocalStorageItem({item:n,observed_utc:j}))}}),s.forEach(function(e){var t=d[e];if(v||x[e]||(p[e]=new i.LocalStorageItem({item:t,observed_utc:j})),e in r){var n=new i.LocalStorageItem({object:x[e]}),o=n.incrementSeenCount();if(o>=_)!b(e,a,m)||o>=f?(u[e]=new i.ItemForStorage(t.created_utc,!0),delete r[e],m.push(new i.ChangeForStorage({id:e,observed_utc:j,change_type:a,seen_count:o})),k.push(e),p[e]=new i.LocalStorageItem({item:t,observed_utc:j})):p[e]=n;else p[e]=n}else u[e]=new i.ItemForStorage(t.created_utc,!1)});var E=w.length+k.length+O.length;return h&&E&&(w.length&&A.push(n),O.length&&A.push("user deleted"),k.length&&A.push(c)),E}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NyYy9zdG9yYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy9zcmMvY29tbW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9zcmMvcmVxdWVzdHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dlYmV4dGVuc2lvbi1wb2x5ZmlsbC9kaXN0L2Jyb3dzZXItcG9seWZpbGwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NyYy9jb250ZW50LXJlZGRpdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3JjL2NvbnRlbnQtY29tbW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9zcmMvbW9uaXRvcmluZy5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIklOVEVSVkFMX0RFRkFVTFQiLCJTRUVOX0NPVU5UX0RFRkFVTFQiLCJNQVhfU1lOQ19TVE9SQUdFX0lURU1TX1BFUl9PQkpFQ1QiLCJNQVhfU1lOQ19TVE9SQUdFX0NIQU5HRVMiLCJNQVhfT1RIRVJfU1VCU0NSSVBUSU9OUyIsIlJFTU9WRUQiLCJBUFBST1ZFRCIsIkxPQ0tFRCIsIlVOTE9DS0VEIiwiRURJVEVEIiwiREVMRVRFRCIsInRyYWNrVHlwZXMiLCJjaGFuZ2VzIiwicmVtb3ZlZCIsImFwcHJvdmVkIiwibG9ja2VkIiwidW5sb2NrZWQiLCJnZXRPYmplY3ROYW1lIiwidHlwZSIsInRoaW5nIiwiaXNVc2VyIiwiYWRkVHJhY2tUeXBlcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImtleXMiLCJmb3JFYWNoIiwiZ2V0T2JqZWN0TmFtZXNGb3JUaGluZyIsIm5hbWVzIiwiZ2V0VXNlckluaXQiLCJ1c2VyIiwicmVzdWx0IiwibWFya0V2ZXJ5dGhpbmdBc1NlZW4iLCJicm93c2VyIiwic3RvcmFnZSIsInN5bmMiLCJ0aGVuIiwidXNlcl9zdWJzY3JpcHRpb25zIiwibWFya1RoaW5nQXNTZWVuIiwic2V0U3RvcmFnZVVwZGF0ZUJhZGdlIiwiZnVsbEtleW5hbWVzIiwidmFsdWVzIiwiZnVsbEtleW5hbWUiLCJwdXNoIiwiaXRlbSIsInUiLCJzZXQiLCJyZXMiLCJydW50aW1lIiwic2VuZE1lc3NhZ2UiLCJhY3Rpb24iLCJtYXJrU2VlbkZvclN0b3JhZ2VLZXkiLCJzdG9yYWdlX2tleXMiLCJpZHMiLCJpc191c2VyIiwic3RvcmFnZV9pdGVtIiwiaWQiLCJJdGVtRm9yU3RvcmFnZSIsIm1hcmtJRHNBc1NlZW5JZlN1YnNjcmliZWQiLCJyZW1vdmVkX2lkcyIsImFwcHJvdmVkX2lkcyIsImxvY2tlZF9pZHMiLCJ1bmxvY2tlZF9pZHMiLCJjYWxsYmFjayIsInVzZXJfc3Vic2NyaWJlZCIsImNocm9tZSIsInN1YnNjcmliZUlkIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsImdldFRpbWUiLCJpdGVtc1RvU2F2ZSIsInRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZSIsIl9kZWZpbmVQcm9wZXJ0eSIsInVuc3Vic2NyaWJlSWQiLCJtYWluS2V5Iiwib3RoZXJLZXlzIiwiY29uY2F0IiwiZ2V0U3Vic2NyaWJlZElkcyIsInN1YnNjcmliZVVzZXIiLCJjYWxsYmFja1N1Y2Nlc3MiLCJjYWxsYmFja0Vycm9yIiwidXNlckluaXQiLCJfb2JqZWN0U3ByZWFkIiwidW5zdWJzY3JpYmVVc2VyIiwidXNlcktleXMiLCJyZW1vdmUiLCJ1c2VyS2V5X2xvY2FsU3RvcmFnZSIsImxvY2FsIiwiaW5pdFN0b3JhZ2UiLCJvdGhlcl9zdWJzY3JpcHRpb25zIiwib3B0aW9ucyIsImludGVydmFsIiwic2Vlbl9jb3VudCIsImN1c3RvbV9jbGllbnRpZCIsInJlbW92YWxfc3RhdHVzIiwidHJhY2siLCJub3RpZnkiLCJsb2NrX3N0YXR1cyIsIm1vbml0b3JfcXVhcmFudGluZWQiLCJsYXN0X2NoZWNrIiwibGFzdF9jaGVja19xdWFyYW50aW5lZCIsImdldFN1YnNjcmliZWRVc2Vyc193aXRoU2VlbkFuZFVuc2VlbklEcyIsInVzZXJzIiwidXNlcnNfd2l0aElEcyIsImdldElEc190aGluZyIsImdldFN1YnNjcmliZWRVc2Vyc193aXRoVW5zZWVuSURzIiwiZ2V0VW5zZWVuSURzX3RoaW5nIiwidHJhY2tfcmVtb3ZhbCIsInRyYWNrX2xvY2siLCJ1bnNlZW5JRHMiLCJzZWVuSURzIiwidHlwZXMiLCJ1bnNlZW4iLCJzZWVuIiwiZ2V0TG9jYWxTdG9yYWdlSXRlbXMiLCJrZXlfbG9jYWxTdG9yYWdlIiwibG9jYWxTdG9yYWdlSXRlbXMiLCJzYXZlTG9jYWxTdG9yYWdlSXRlbXMiLCJhZGRMb2NhbFN0b3JhZ2VJdGVtcyIsIml0ZW1zIiwic3RvcmVkSXRlbXMiLCJnZXRJdGVtRnJvbUxvY2FsU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsIkxvY2FsU3RvcmFnZUl0ZW0iLCJnZXRBbGxDaGFuZ2VzIiwia2V5VG9Vc2VyX2xvb2t1cCIsImNoYW5nZXNfb3RoZXIiLCJyZXMyIiwiY2hhbmdlc0J5VXNlciIsImdldE9wdGlvbnMiLCJvdGhlcnMiLCJjb25zb2xlIiwibG9nIiwic2F2ZU9wdGlvbnMiLCJyZW1vdmVkX3RyYWNrIiwicmVtb3ZlZF9ub3RpZnkiLCJsb2NrZWRfdHJhY2siLCJsb2NrZWRfbm90aWZ5IiwiaGlkZV9zdWJzY3JpYmUiLCJBTEFSTV9OQU1FIiwiY3JlYXRlVGFiIiwidXJsIiwidGFicyIsInRhYiIsIndpbmRvd3MiLCJ1cGRhdGUiLCJ3aW5kb3dJZCIsImZvY3VzZWQiLCJ3aW4iLCJnZXRGdWxsSURzRnJvbVVSTCIsInBhdGgiLCJyZXBsYWNlIiwiZ2V0RnVsbElEc0Zyb21QYXRoIiwicmVnZXhfcGMiLCJyZWdleF91c2VyIiwicG9zdElEIiwiY29tbWVudElEIiwic3VicmVkZGl0IiwibWF0Y2hlc19wYyIsIm1hdGNoIiwibWF0Y2hlc191c2VyIiwicmVmb3JtYXRSZWRkaXRUZXh0IiwiYm9keSIsInN1YnN0ciIsImlzUmVtb3ZlZEl0ZW0iLCJyZW1vdmFsX3JlYXNvbiIsImlzQ29tbWVudCIsImlzUmVtb3ZlZENvbW1lbnQiLCJpc1JlbW92ZWRQb3N0IiwiYXV0aG9yIiwiaXNVc2VyRGVsZXRlZENvbW1lbnQiLCJpc1VzZXJEZWxldGVkUG9zdCIsImlzX3JvYm90X2luZGV4YWJsZSIsImlzVXNlckRlbGV0ZWRJdGVtIiwiZGljdCIsIm1heE51bUl0ZW1zIiwibnVtYmVyVmFsdWVkQXR0cmlidXRlIiwic2hvcnRlbmVkQXJyYXkiLCJzb3J0RGljdF9ieV9udW1iZXJWYWx1ZWRBdHRyaWJ1dGUiLCJzbGljZSIsIm5ld0RpY3QiLCJhcnJheSIsIm1hcCIsInNvcnQiLCJhIiwiYiIsImNyZWF0ZWRfdXRjIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9jcmVhdGVDbGFzcyIsIkNoYW5nZUZvclN0b3JhZ2UiLCJfcmVmIiwiX3JlZiRpZCIsIl9yZWYkb2JzZXJ2ZWRfdXRjIiwib2JzZXJ2ZWRfdXRjIiwiX3JlZiRjaGFuZ2VfdHlwZSIsImNoYW5nZV90eXBlIiwiX3JlZiRzZWVuX2NvdW50IiwiX3JlZiRvYmplY3QiLCJnIiwiX3JlZjIiLCJfcmVmMiRpdGVtIiwiX3JlZjIkb2JzZXJ2ZWRfdXRjIiwiX3JlZjIkb2JqZWN0IiwidGV4dCIsInRpdGxlIiwic2V0QWxhcm0iLCJwZXJpb2RJbk1pbnV0ZXMiLCJhbGFybXMiLCJjbGVhciIsImRlbGF5SW5NaW51dGVzIiwiYWxwaGFMb3dlclNvcnQiLCJ0ZXh0QSIsInRvTG93ZXJDYXNlIiwidGV4dEIiLCJnb1RvT3B0aW9ucyIsIm9wZW5PcHRpb25zUGFnZSIsIndpbmRvdyIsImNsb3NlIiwib3BlbiIsImdldFVSTCIsInNob3dFcnJvciIsIm1lc3NhZ2UiLCJzZWxlY3RvciIsIiQiLCJhcHBlbmRUbyIsImRlbGF5IiwiZmFkZVRvIiwicHByaW50Iiwib2JqIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldFByZXR0eVRpbWVMZW5ndGgiLCJzZWNvbmRzIiwidGhyZXNob2xkcyIsInRpbWUiLCJkaXZpc29yIiwidGV4dFBsdXJhbCIsImV4dHJhIiwicHJldlVuaXRUaW1lIiwicm91bmQiLCJyZW1haW5UZXh0IiwiU3RyaW5nIiwiZ2V0UHJldHR5RGF0ZSIsImNyZWF0ZWRVVEMiLCJjcmVhdGVOb3RpZmljYXRpb24iLCJfcmVmMyIsIm5vdGlmaWNhdGlvbklkIiwibG9jYXRpb24iLCJwcm90b2NvbCIsIm5vdGlmaWNhdGlvbnMiLCJpY29uVXJsIiwidXBkYXRlQmFkZ2VVbnNlZW5Db3VudCIsInVzZXJzVW5zZWVuSURzIiwidG90YWwiLCJ0b1N0cmluZyIsInNldEJhZGdlQmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJzZXRCYWRnZVRleHQiLCJsb29rdXBJdGVtc0J5SUQiLCJhdXRoIiwibW9uaXRvcl9xdWFyYW50aW5lZF9yZW1vdGUiLCJxdWFyYW50aW5lZF9zdWJyZWRkaXRzIiwicGFyYW1zIiwicmF3X2pzb24iLCJqb2luIiwic2VhcmNoIiwiayIsImZldGNoX2ZvclJlZGRpdCIsImFwcGx5IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiZ2V0RmV0Y2hQYXJhbXMiLCJjb29raWVEZXRhaWxzX3JlZGRpdFNlc3Npb24iLCJhY2NlcHRhYmxlX3NldENvb2tpZURldGFpbHMiLCJnZXRTZXR0YWJsZUNvb2tpZSIsImNvb2tpZSIsImZpbHRlcmVkIiwiZmlsdGVyIiwiaW5jbHVkZXMiLCJyZWR1Y2UiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZSIsImNvb2tpZV9yZWRkaXRTZXNzaW9uIiwiX2FyZ3MiLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImNvb2tpZXMiLCJkb21haW4iLCJ0MCIsInQxIiwic2VudCIsImhlYWRlcnMiLCJmZXRjaCIsImhhbmRsZUZldGNoRXJyb3JzIiwiZ2V0UmVkZGl0RGF0YSIsImFicnVwdCIsInN0b3AiLCJfeCIsIl94MiIsImxvb2t1cEl0ZW1zQnlVc2VyIiwiYWZ0ZXIiLCJ0aW1lU3BhbiIsImxpbWl0IiwicmVzcG9uc2UiLCJvayIsIkVycm9yIiwic3RhdHVzVGV4dCIsImpzb24iLCJkYXRhIiwiY2hpbGRyZW4iLCJnZXRSZWRkaXRUb2tlbiIsImFjY2Vzc190b2tlbiIsImdldEF1dGgiLCJ1c2VfdGhpc19jbGllbnRJRCIsInRva2VuSW5pdCIsIkF1dGhvcml6YXRpb24iLCJidG9hIiwiQ29udGVudC1UeXBlIiwibWV0aG9kIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidG9rZW4iLCJBY2NlcHQtTGFuZ3VhZ2UiLCJnZXRMb2NhbEF1dGgiLCJnZXRDb29raWUiLCJpbnZhbGlkQ2hhciIsIlJlZ0V4cCIsImJhc2U2NENvb2tpZSIsInRva2VuRGF0YSIsImF0b2IiLCJ0b2tlbnMiLCJwYXJzZSIsImFjY2Vzc1Rva2VuIiwiaG9zdCIsInBhdGhfYW5kX3NlYXJjaCIsImdldExvY2FsT3JBcHBBdXRoIiwiZ2V0TG9nZ2VkaW5Vc2VyIiwiZ2V0UmVkZGl0VXNlcm5hbWUiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJnZXRQcm90b3R5cGVPZiIsIkNIUk9NRV9TRU5EX01FU1NBR0VfQ0FMTEJBQ0tfTk9fUkVTUE9OU0VfTUVTU0FHRSIsIlNFTkRfUkVTUE9OU0VfREVQUkVDQVRJT05fV0FSTklORyIsIndyYXBBUElzIiwiZXh0ZW5zaW9uQVBJcyIsImFwaU1ldGFkYXRhIiwibWluQXJncyIsIm1heEFyZ3MiLCJjbGVhckFsbCIsImdldEFsbCIsImJvb2ttYXJrcyIsImdldENoaWxkcmVuIiwiZ2V0UmVjZW50IiwiZ2V0U3ViVHJlZSIsImdldFRyZWUiLCJtb3ZlIiwicmVtb3ZlVHJlZSIsImJyb3dzZXJBY3Rpb24iLCJkaXNhYmxlIiwiZmFsbGJhY2tUb05vQ2FsbGJhY2siLCJlbmFibGUiLCJnZXRCYWRnZUJhY2tncm91bmRDb2xvciIsImdldEJhZGdlVGV4dCIsImdldFBvcHVwIiwiZ2V0VGl0bGUiLCJvcGVuUG9wdXAiLCJzZXRJY29uIiwic2V0UG9wdXAiLCJzZXRUaXRsZSIsImJyb3dzaW5nRGF0YSIsInJlbW92ZUNhY2hlIiwicmVtb3ZlQ29va2llcyIsInJlbW92ZURvd25sb2FkcyIsInJlbW92ZUZvcm1EYXRhIiwicmVtb3ZlSGlzdG9yeSIsInJlbW92ZUxvY2FsU3RvcmFnZSIsInJlbW92ZVBhc3N3b3JkcyIsInJlbW92ZVBsdWdpbkRhdGEiLCJzZXR0aW5ncyIsImNvbW1hbmRzIiwiY29udGV4dE1lbnVzIiwicmVtb3ZlQWxsIiwiZ2V0QWxsQ29va2llU3RvcmVzIiwiZGV2dG9vbHMiLCJpbnNwZWN0ZWRXaW5kb3ciLCJldmFsIiwic2luZ2xlQ2FsbGJhY2tBcmciLCJwYW5lbHMiLCJkb3dubG9hZHMiLCJjYW5jZWwiLCJkb3dubG9hZCIsImVyYXNlIiwiZ2V0RmlsZUljb24iLCJwYXVzZSIsInJlbW92ZUZpbGUiLCJyZXN1bWUiLCJzaG93IiwiZXh0ZW5zaW9uIiwiaXNBbGxvd2VkRmlsZVNjaGVtZUFjY2VzcyIsImlzQWxsb3dlZEluY29nbml0b0FjY2VzcyIsImhpc3RvcnkiLCJhZGRVcmwiLCJkZWxldGVBbGwiLCJkZWxldGVSYW5nZSIsImRlbGV0ZVVybCIsImdldFZpc2l0cyIsImkxOG4iLCJkZXRlY3RMYW5ndWFnZSIsImdldEFjY2VwdExhbmd1YWdlcyIsImlkZW50aXR5IiwibGF1bmNoV2ViQXV0aEZsb3ciLCJpZGxlIiwicXVlcnlTdGF0ZSIsIm1hbmFnZW1lbnQiLCJnZXRTZWxmIiwic2V0RW5hYmxlZCIsInVuaW5zdGFsbFNlbGYiLCJnZXRQZXJtaXNzaW9uTGV2ZWwiLCJwYWdlQWN0aW9uIiwiaGlkZSIsInBlcm1pc3Npb25zIiwiY29udGFpbnMiLCJyZXF1ZXN0IiwiZ2V0QmFja2dyb3VuZFBhZ2UiLCJnZXRQbGF0Zm9ybUluZm8iLCJyZXF1ZXN0VXBkYXRlQ2hlY2siLCJzZW5kTmF0aXZlTWVzc2FnZSIsInNldFVuaW5zdGFsbFVSTCIsInNlc3Npb25zIiwiZ2V0RGV2aWNlcyIsImdldFJlY2VudGx5Q2xvc2VkIiwicmVzdG9yZSIsImdldEJ5dGVzSW5Vc2UiLCJtYW5hZ2VkIiwiY2FwdHVyZVZpc2libGVUYWIiLCJkaXNjYXJkIiwiZHVwbGljYXRlIiwiZXhlY3V0ZVNjcmlwdCIsImdldEN1cnJlbnQiLCJnZXRab29tIiwiZ2V0Wm9vbVNldHRpbmdzIiwiaGlnaGxpZ2h0IiwiaW5zZXJ0Q1NTIiwicXVlcnkiLCJyZWxvYWQiLCJyZW1vdmVDU1MiLCJzZXRab29tIiwic2V0Wm9vbVNldHRpbmdzIiwidG9wU2l0ZXMiLCJ3ZWJOYXZpZ2F0aW9uIiwiZ2V0QWxsRnJhbWVzIiwiZ2V0RnJhbWUiLCJ3ZWJSZXF1ZXN0IiwiaGFuZGxlckJlaGF2aW9yQ2hhbmdlZCIsImdldExhc3RGb2N1c2VkIiwibWFrZUNhbGxiYWNrIiwicHJvbWlzZSIsIm1ldGFkYXRhIiwiY2FsbGJhY2tBcmdzIiwibGFzdEVycm9yIiwicmVqZWN0IiwicmVzb2x2ZSIsInBsdXJhbGl6ZUFyZ3VtZW50cyIsIm51bUFyZ3MiLCJ3cmFwTWV0aG9kIiwidGFyZ2V0Iiwid3JhcHBlciIsIlByb3h5IiwidGFyZ2V0TWV0aG9kIiwidGhpc09iaiIsImFyZ3MiLCJGdW5jdGlvbiIsIndyYXBPYmplY3QiLCJ3cmFwcGVycyIsImNhY2hlIiwiaGFuZGxlcnMiLCJoYXMiLCJwcm94eVRhcmdldCIsInByb3AiLCJbb2JqZWN0IE9iamVjdF0iLCJyZWNlaXZlciIsIlByb21pc2UiLCJjYkVycm9yIiwid2FybiIsIm5vQ2FsbGJhY2siLCJ3cmFwQXN5bmNGdW5jdGlvbiIsImNvbmZpZ3VyYWJsZSIsImRlc2MiLCJSZWZsZWN0IiwiZGVsZXRlUHJvcGVydHkiLCJ3cmFwRXZlbnQiLCJ3cmFwcGVyTWFwIiwibGlzdGVuZXIiLCJhZGRMaXN0ZW5lciIsImhhc0xpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJsb2dnZWRTZW5kUmVzcG9uc2VEZXByZWNhdGlvbldhcm5pbmciLCJvbk1lc3NhZ2VXcmFwcGVycyIsIldlYWtNYXAiLCJjcmVhdGVJdGVtIiwic3VwZXIiLCJzZW5kZXIiLCJzZW5kUmVzcG9uc2UiLCJ3cmFwcGVkU2VuZFJlc3BvbnNlIiwiZGlkQ2FsbFNlbmRSZXNwb25zZSIsInNlbmRSZXNwb25zZVByb21pc2UiLCJzdGFjayIsImVyciIsImlzUmVzdWx0VGhlbmFibGUiLCJpc1RoZW5hYmxlIiwic2VuZFByb21pc2VkUmVzdWx0IiwibXNnIiwiZXJyb3IiLCJfX21veldlYkV4dGVuc2lvblBvbHlmaWxsUmVqZWN0X18iLCJjYXRjaCIsIndyYXBwZWRTZW5kTWVzc2FnZSIsImFwaU5hbWVzcGFjZU9iaiIsIndyYXBwZWRDYiIsInJlcGx5Iiwic3RhdGljV3JhcHBlcnMiLCJvbk1lc3NhZ2UiLCJvbk1lc3NhZ2VFeHRlcm5hbCIsInNldHRpbmdNZXRhZGF0YSIsInByaXZhY3kiLCJuZXR3b3JrIiwibmV0d29ya1ByZWRpY3Rpb25FbmFibGVkIiwid2ViUlRDSVBIYW5kbGluZ1BvbGljeSIsInNlcnZpY2VzIiwicGFzc3dvcmRTYXZpbmdFbmFibGVkIiwid2Vic2l0ZXMiLCJoeXBlcmxpbmtBdWRpdGluZ0VuYWJsZWQiLCJyZWZlcnJlcnNFbmFibGVkIiwiaWRfbWF0Y2hfY29tbWVudCIsImlkX21hdGNoX3Bvc3QiLCJyZWRkaXRNb2RpZmljYXRpb25zIiwiaXNOZXdSZWRkaXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpZlRocmVhZFBhZ2Vfc2hvd1JlbW92YWxTdGF0dXMiLCJhZGRTdWJzY3JpYmVMaW5rc19uZXdSZWRkaXRfY29tbWVudHMiLCJhcnJpdmUiLCJlbGVtZW50IiwiYWRkU3Vic2NyaWJlTGlua3NfbmV3UmVkZGl0X3Bvc3RzIiwiYWRkRGlyZWN0TGlua3NfbmV3UmVkZGl0X2NvbW1lbnRzIiwic2hvd1JlbW92YWxTdGF0dXNGb3JUaHJlYWRPdmVybGF5IiwiYWRkU3Vic2NyaWJlTGlua3Nfb2xkUmVkZGl0IiwicmVtb3ZlZEJ5TW9kZXJhdG9yVGV4dCIsInRyaW0iLCJwcm9jZXNzTGlzdCIsImVsZW1lbnRzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsIml0ZXJhdG9yIiwiZG9uZSIsImVsIiwiY2xvc2VzdF9kaXZfYW5jZXN0b3IiLCJjbG9zZXN0IiwiZmlyc3QiLCJwYXJlbnQiLCJmaW5kIiwicmVkZGl0TGluayIsImF0dHIiLCJVUkwiLCJzZWFyY2hQYXJhbXMiLCJuZXdFbCIsImNsb25lIiwiaHRtbCIsIm91dGVySFRNTCIsImluc2VydEFmdGVyIiwidGV4dENvbnRlbnQiLCJwcm9jZXNzQ29tbWVudHNPblBhZ2VMb2FkIiwic2V0VGltZW91dCIsIm5ld1JlZGRpdFRhcmdldCIsInBvc3REYXRhIiwiX2dldEZ1bGxJRHNGcm9tUGF0aCIsInBhdGhuYW1lIiwiX2dldEZ1bGxJRHNGcm9tUGF0aDIiLCJfc2xpY2VkVG9BcnJheSIsInNob3dSZW1vdmFsU3RhdHVzIiwiX3JlZiRuZXdSZWRkaXRUYXJnZXQiLCJfcmVmJHBvc3REYXRhIiwiX2dldEZ1bGxJRHNGcm9tUGF0aDQiLCJjbGFzc05hbWUiLCJtZXNzYWdlXzEiLCJyZW1vdmVkX2J5X2NhdGVnb3J5IiwibWVzc2FnZV8yIiwiZnJvbSIsInBvc3RfcGF0aCIsInNwbGl0IiwicmV2ZWRkaXRfbGluayIsIiRodG1sX3dyYXAiLCIkaHRtbF9jb250ZW50IiwiJGh0bWxfZGVzY3JpcHRpb24iLCJhcHBlbmQiLCJwcmVwZW5kVG8iLCJjbGljayIsIl9nZXRGdWxsSURzRnJvbVBhdGg2IiwicGFyZW50Tm9kZSIsImdldElEX25ld1JlZGRpdCIsImlkX21hdGNoIiwic3Vic2NyaXB0aW9ucyIsImVhY2giLCJpZHgiLCJ0YXJnZXRlZEVsZW1lbnQiLCIkYnV0dG9uIiwiZ2V0QnV0dG9uIiwiYXBwZW5kQnV0dG9uVG8iLCIkYnV0dG9uX2Nsb25lIiwiY29tbWVudEJvZHkiLCJib2R5RWxlbWVudCIsInNldFRleHRBbmRGdW5jdGlvbl91bnN1YnNjcmliZSIsInNldFRleHRBbmRGdW5jdGlvbl9zdWJzY3JpYmUiLCJidXR0b25fc2VhcmNoX3RleHQiLCIkbGFzdF9idXR0b24iLCJsYXN0IiwiZ2V0QXR0cmlidXRlIiwiX2dldEZ1bGxJRHNGcm9tUGF0aDgiLCJidXR0b25zIiwiJG5ld0J1dHRvbiIsIlVOU1VCU0NSSUJFX1RFWFQiLCJTVUJTQ1JJQkVfVEVYVCIsImhvc3RuYW1lIiwib2ZmIiwiZXZlbnRPYmoiLCJzdWJzY3JpYmVJZF9jaGFuZ2VUZXh0IiwidW5zdWJzY3JpYmVJZF9jaGFuZ2VUZXh0IiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJzZXRDdXJyZW50U3RhdGVGb3JJZCIsImhyZWYiLCJpdGVtT2JqIiwic2V0VGV4dCIsIlNVQlNDUklCRURfRlJPTV9SRURESVQiLCJTVUJTQ1JJQkVEX0ZST01fUkVWRURESVQiLCJTVUJTQ1JJQkVEX0ZST01fTkEiLCJUQVJHRVRfU0VFTl9DT1VOVF9GT1JfUFJFVklPVVNMWV9SRUNPUkRFRF9DSEFOR0UiLCJyYW5kb20iLCJzdWJzY3JpYmVkRnJvbVVSTCIsInN1YnNjcmliZWRGcm9tIiwiY2hlY2tGb3JDaGFuZ2VzX3RoaW5nX2J5SWQiLCJjaGVja0ZvckNoYW5nZXMiLCJvdGhlciIsIm5vdyIsInRlbXBWYXJfbW9uaXRvcl9xdWFyYW50aW5lZCIsImNoZWNrRm9yQ2hhbmdlc19vdGhlciIsImNoZWNrRm9yQ2hhbmdlc191c2VycyIsIm5ld1N0b3JhZ2UiLCJ0ZW1wVmFyX3F1YXJhbnRpbmVkX2NvbnRlbnRfZm91bmQiLCJTZXQiLCJpdGVtTG9va3VwIiwicXVhcmFudGluZSIsImFkZCIsIkFycmF5IiwiX3gzIiwiX2NhbGxlZTIiLCJfYXJnczIiLCJfY29udGV4dDIiLCJpc0FycmF5IiwidGFyZ2V0X3NlZW5fY291bnQiLCJrbm93bl9yZW1vdmVkIiwia25vd25fYXBwcm92ZWQiLCJrbm93bl9sb2NrZWQiLCJrbm93bl91bmxvY2tlZCIsIml0ZW1XcmFwIiwibmV3TG9jYWxTdG9yYWdlSXRlbXMiLCJjaGFuZ2VUeXBlcyIsIm51bV9jaGFuZ2VzIiwiZXhpc3RpbmdMb2NhbFN0b3JhZ2VJdGVtcyIsIl9jaHJvbWUkc3RvcmFnZSRzeW5jJCIsIm1hcmtDaGFuZ2VzIiwiX3g0IiwiX3g1IiwiX3g2IiwiX3g3IiwiX3g4IiwiX3g5IiwiY2hhbmdlSXNQcmV2aW91c2x5UmVjb3JkZWQiLCJjaGFuZ2UiLCJjaGFuZ2Vfb2JqIiwiZ2V0SUQiLCJnZXRDaGFuZ2VUeXBlSW50ZXJuYWwiLCJhbGVydF9jdXJyZW50X2xpc3QiLCJhbGVydF90eXBlIiwiYWxlcnRfdGV4dCIsImFsZXJ0X2tub3duX2hhc2giLCJub3JtYWxfY3VycmVudF9saXN0Iiwibm9ybWFsX3R5cGUiLCJub3JtYWxfdGV4dCIsIm5vcm1hbF9rbm93bl9oYXNoIiwiYWxlcnRfdW5zZWVuX2lkcyIsIm5vcm1hbF91bnNlZW5faWRzIiwiYWxlcnRfdXNlckRlbGV0ZWRfdW5zZWVuX2lkcyIsImV4aXN0aW5nTG9jYWxTdG9yYWdlSXRlbSIsIm5ld0xvY2FsU3RvcmFnZUl0ZW0iLCJyZXNldFNlZW5Db3VudCIsIm1hcmtVbnNlZW4iLCJhbGVydF90eXBlX3ZhciIsInRoaXNfbG9jYWxTdG9yYWdlSXRlbSIsImluY3JlbWVudFNlZW5Db3VudCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFP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YXhxQixJQUk3Q2lGLEdBQWNvaUIsR0FDakRxRCxFQUFrQi9zQixHQUFRLElBQUlrRixpQkFBZWIsRUFBSytJLGFBQWEsVUFDeER1ZixFQUFpQjNzQixHQUV4QnFDLEVBQVErQixLQUFLLElBQUlvSixtQkFBaUIsQ0FBQ3ZJLEdBQUlqRixFQUFNNE4sYUFBY3FjLEVBQUtuYyxZQUFhK2UsRUFBYXZsQixnQkFDMUYybEIsRUFBa0I3b0IsS0FBS3BFLEdBRXZCdXJCLEVBQXFCdnJCLEdBQVEsSUFBSXFKLG1CQUFpQixDQUFDaEYsS0FBTUEsRUFBTXVKLGFBQWNxYyxLQUU3RXNCLEVBQXFCdnJCLEdBQVF3dEIsT0FHakNqQyxFQUFxQnZyQixHQUFRd3RCLE9BR2pDVCxFQUFrQi9zQixHQUFRLElBQUlrRixpQkFBZWIsRUFBSytJLGFBQWEsS0FHdkUsSUFBTXFlLEVBQWN1QixFQUFpQmhxQixPQUFTaXFCLEVBQWtCanFCLE9BQVNrcUIsRUFBNkJscUIsT0FNdEcsT0FMSTBFLEdBQVUrakIsSUFDTnVCLEVBQWlCaHFCLFFBQVF3b0IsRUFBWXBuQixLQUFLc29CLEdBQzFDUSxFQUE2QmxxQixRQUFRd29CLEVBQVlwbkIsS0FBSyxnQkFDdEQ2b0IsRUFBa0JqcUIsUUFBUXdvQixFQUFZcG5CLEtBQUswb0IsSUFFNUNyQiIsImZpbGUiOiJzcmMvY29udGVudC1yZWRkaXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMzE0KTtcbiIsImltcG9ydCB7YWxwaGFMb3dlclNvcnQsIEl0ZW1Gb3JTdG9yYWdlLCBMb2NhbFN0b3JhZ2VJdGVtLCB0cmltRGljdF9ieV9udW1iZXJWYWx1ZWRBdHRyaWJ1dGV9IGZyb20gJy4vY29tbW9uLmpzJ1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnd2ViZXh0ZW5zaW9uLXBvbHlmaWxsJ1xuXG5leHBvcnQgY29uc3QgSU5URVJWQUxfREVGQVVMVCA9IDE7XG5leHBvcnQgY29uc3QgU0VFTl9DT1VOVF9ERUZBVUxUID0gMlxuXG4vLyBUaGVzZSBsaW1pdHMgYXJlIHNldCB3aXRoIGNvbnNpZGVyYXRpb24gZm9yIENocm9tZSdzIHN5bmMgJiBsb2NhbCBzdG9yYWdlIGxpbWl0cyxcbi8vIGFuZCBmb3IgdGhlIG9iamVjdHMgc3RvcmVkIGJ5IHRoZSBleHRlbnNpb25cbmNvbnN0IE1BWF9TVUJTQ1JJUFRJT05TID0gNTtcbmNvbnN0IE1BWF9MT0NBTF9TVE9SQUdFX0lURU1TX1BFUl9PQkpFQ1QgPSA1MDBcbmV4cG9ydCBjb25zdCBNQVhfU1lOQ19TVE9SQUdFX0lURU1TX1BFUl9PQkpFQ1QgPSAxMzBcbmV4cG9ydCBjb25zdCBNQVhfU1lOQ19TVE9SQUdFX0NIQU5HRVMgPSAxMDBcbmV4cG9ydCBjb25zdCBNQVhfT1RIRVJfU1VCU0NSSVBUSU9OUyA9IDEwMFxuXG5leHBvcnQgY29uc3QgUkVNT1ZFRCA9IDFcbmV4cG9ydCBjb25zdCBBUFBST1ZFRCA9IDJcbmV4cG9ydCBjb25zdCBMT0NLRUQgPSAzXG5leHBvcnQgY29uc3QgVU5MT0NLRUQgPSA0XG5leHBvcnQgY29uc3QgRURJVEVEID0gNVxuZXhwb3J0IGNvbnN0IERFTEVURUQgPSA2XG5cbmNvbnN0IHRyYWNrVHlwZXMgPSB7J2NoYW5nZXMnOiBbXSwgJ3JlbW92ZWQnOiB7fSwgJ2FwcHJvdmVkJzoge30sICdsb2NrZWQnOiB7fSwgJ3VubG9ja2VkJzoge319O1xuXG5jb25zdCBnZXRPYmplY3ROYW1lID0gKHR5cGUsIHRoaW5nLCBpc1VzZXIpID0+IHtcbiAgICBpZiAoaXNVc2VyKSB7XG4gICAgICAgIHJldHVybiB0eXBlKydfdV8nK3RoaW5nXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHR5cGUrJ18nK3RoaW5nXG4gICAgfVxufVxuXG5jb25zdCBhZGRUcmFja1R5cGVzID0gKG9iamVjdCwgdGhpbmcsIGlzVXNlcj10cnVlKSA9PiB7XG4gICAgT2JqZWN0LmtleXModHJhY2tUeXBlcykuZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgICAgb2JqZWN0W2dldE9iamVjdE5hbWUodHlwZSwgdGhpbmcsIGlzVXNlcildID0gdHJhY2tUeXBlc1t0eXBlXVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRPYmplY3ROYW1lc0ZvclRoaW5nID0gKHRoaW5nLCBpc1VzZXI9dHJ1ZSkgPT4ge1xuICAgIGNvbnN0IG5hbWVzID0ge31cbiAgICBPYmplY3Qua2V5cyh0cmFja1R5cGVzKS5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgICBuYW1lc1t0eXBlXSA9IGdldE9iamVjdE5hbWUodHlwZSwgdGhpbmcsIGlzVXNlcilcbiAgICB9KVxuICAgIHJldHVybiBuYW1lc1xufVxuXG5jb25zdCBnZXRVc2VySW5pdCA9ICh1c2VyKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0ge31cbiAgICBhZGRUcmFja1R5cGVzKHJlc3VsdCwgdXNlciwgdHJ1ZSlcbiAgICByZXR1cm4gcmVzdWx0XG59XG5cbmNvbnN0IGdldFN0b3JhZ2VJbml0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgdXNlcl9zdWJzY3JpcHRpb25zOiB7fSxcbiAgICAgICAgb3RoZXJfc3Vic2NyaXB0aW9uczoge30sXG4gICAgICAgIG9wdGlvbnM6IHtpbnRlcnZhbDogSU5URVJWQUxfREVGQVVMVCxcbiAgICAgICAgICAgICAgICAgIHNlZW5fY291bnQ6IFNFRU5fQ09VTlRfREVGQVVMVCxcbiAgICAgICAgICAgICAgICAgIGN1c3RvbV9jbGllbnRpZDogJycsXG4gICAgICAgICAgICAgICAgICByZW1vdmFsX3N0YXR1czoge3RyYWNrOiB0cnVlLCBub3RpZnk6IHRydWV9LFxuICAgICAgICAgICAgICAgICAgbG9ja19zdGF0dXM6IHt0cmFjazogdHJ1ZSwgbm90aWZ5OiB0cnVlfSxcbiAgICAgICAgICAgICAgICAgIG1vbml0b3JfcXVhcmFudGluZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICBsYXN0X2NoZWNrOiBudWxsLFxuICAgICAgICBsYXN0X2NoZWNrX3F1YXJhbnRpbmVkOiBudWxsLFxuICAgIH1cbiAgICBhZGRUcmFja1R5cGVzKHJlc3VsdCwgJ290aGVyJywgZmFsc2UpXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGNvbnN0IG1hcmtFdmVyeXRoaW5nQXNTZWVuID0gKCkgPT4ge1xuICAgIHJldHVybiBicm93c2VyLnN0b3JhZ2Uuc3luYy5nZXQobnVsbClcbiAgICAudGhlbihzdG9yYWdlID0+IHtcbiAgICAgICAgY29uc3QgdXNlcnMgPSBPYmplY3Qua2V5cyhzdG9yYWdlLnVzZXJfc3Vic2NyaXB0aW9ucyk7XG4gICAgICAgIGNvbnN0IGFsbEtleXMgPSBbXVxuICAgICAgICB1c2Vycy5mb3JFYWNoKHVzZXIgPT4ge1xuICAgICAgICAgICAgbWFya1RoaW5nQXNTZWVuKHN0b3JhZ2UsIHVzZXIsIHRydWUpXG4gICAgICAgIH0pXG4gICAgICAgIG1hcmtUaGluZ0FzU2VlbihzdG9yYWdlLCAnb3RoZXInLCBmYWxzZSlcbiAgICAgICAgcmV0dXJuIHNldFN0b3JhZ2VVcGRhdGVCYWRnZShzdG9yYWdlKVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBtYXJrVGhpbmdBc1NlZW4gPSAoc3RvcmFnZSwgdGhpbmcsIGlzVXNlcikgPT4ge1xuICAgIGNvbnN0IGtleXMgPSBnZXRPYmplY3ROYW1lc0ZvclRoaW5nKHRoaW5nLCBpc1VzZXIpXG4gICAgZGVsZXRlIGtleXNbJ2NoYW5nZXMnXVxuICAgIGNvbnN0IGZ1bGxLZXluYW1lcyA9IFtdXG4gICAgT2JqZWN0LnZhbHVlcyhrZXlzKS5mb3JFYWNoKGZ1bGxLZXluYW1lID0+IHtcbiAgICAgICAgZnVsbEtleW5hbWVzLnB1c2goZnVsbEtleW5hbWUpXG4gICAgfSlcbiAgICBmdWxsS2V5bmFtZXMuZm9yRWFjaChmdWxsS2V5bmFtZSA9PiB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoc3RvcmFnZVtmdWxsS2V5bmFtZV0pLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICBpdGVtLnUgPSBmYWxzZVxuICAgICAgICB9KVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBzZXRTdG9yYWdlVXBkYXRlQmFkZ2UgPSAoc3RvcmFnZSkgPT4ge1xuICAgIHJldHVybiBicm93c2VyLnN0b3JhZ2Uuc3luYy5zZXQoc3RvcmFnZSlcbiAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICByZXR1cm4gYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHthY3Rpb246ICd1cGRhdGUtYmFkZ2UnfSlcbiAgICB9KVxufVxuXG5jb25zdCBtYXJrU2VlbkZvclN0b3JhZ2VLZXkgPSAoc3RvcmFnZSwgc3RvcmFnZV9rZXlzLCBrZXksIGlkcywgaXNfdXNlcikgPT4ge1xuICAgIGNvbnN0IHN0b3JhZ2VfaXRlbSA9IHN0b3JhZ2Vbc3RvcmFnZV9rZXlzW2tleV1dXG4gICAgT2JqZWN0LmtleXMoaWRzKS5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgaWYgKGlkIGluIHN0b3JhZ2VfaXRlbSkge1xuICAgICAgICAgICAgc3RvcmFnZV9pdGVtW2lkXS51ID0gZmFsc2VcbiAgICAgICAgfSBlbHNlIGlmIChpc191c2VyKSB7XG4gICAgICAgICAgICBzdG9yYWdlX2l0ZW1baWRdID0gbmV3IEl0ZW1Gb3JTdG9yYWdlKGlkc1tpZF0sIGZhbHNlKVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IG1hcmtJRHNBc1NlZW5JZlN1YnNjcmliZWQgPSAoc3RvcmFnZSwgdXNlciwgaXNfdXNlciwgcmVtb3ZlZF9pZHMsIGFwcHJvdmVkX2lkcywgbG9ja2VkX2lkcywgdW5sb2NrZWRfaWRzLCBjYWxsYmFjayA9ICgpID0+IHt9KSA9PiB7XG4gICAgY29uc3Qgc3RvcmFnZV9rZXlzID0gZ2V0T2JqZWN0TmFtZXNGb3JUaGluZyh1c2VyLCBpc191c2VyKVxuICAgIGRlbGV0ZSBzdG9yYWdlX2tleXNbJ2NoYW5nZXMnXVxuICAgIGNvbnN0IHVzZXJfc3Vic2NyaWJlZCA9IHN0b3JhZ2UudXNlcl9zdWJzY3JpcHRpb25zW3VzZXJdXG4gICAgaWYgKHVzZXJfc3Vic2NyaWJlZCB8fCAhIGlzX3VzZXIpIHtcbiAgICAgICAgbWFya1NlZW5Gb3JTdG9yYWdlS2V5KHN0b3JhZ2UsIHN0b3JhZ2Vfa2V5cywgJ3JlbW92ZWQnLCByZW1vdmVkX2lkcywgaXNfdXNlcilcbiAgICAgICAgbWFya1NlZW5Gb3JTdG9yYWdlS2V5KHN0b3JhZ2UsIHN0b3JhZ2Vfa2V5cywgJ2FwcHJvdmVkJywgYXBwcm92ZWRfaWRzLCBpc191c2VyKVxuICAgICAgICBtYXJrU2VlbkZvclN0b3JhZ2VLZXkoc3RvcmFnZSwgc3RvcmFnZV9rZXlzLCAnbG9ja2VkJywgbG9ja2VkX2lkcywgaXNfdXNlcilcbiAgICAgICAgbWFya1NlZW5Gb3JTdG9yYWdlS2V5KHN0b3JhZ2UsIHN0b3JhZ2Vfa2V5cywgJ3VubG9ja2VkJywgdW5sb2NrZWRfaWRzLCBpc191c2VyKVxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldChzdG9yYWdlLCBjYWxsYmFjaylcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IHN1YnNjcmliZUlkID0gKGlkLCBjYWxsYmFjayA9ICgpID0+IHt9KSA9PiB7XG4gICAgY29uc3Qga2V5ID0gJ290aGVyX3N1YnNjcmlwdGlvbnMnXG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoa2V5LCAocmVzdWx0KSA9PiB7XG4gICAgICAgIHJlc3VsdFtrZXldW2lkXSA9IHt0OiBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpLzEwMDApfVxuICAgICAgICBjb25zdCBpdGVtc1RvU2F2ZSA9IHRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZShyZXN1bHRba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTUFYX09USEVSX1NVQlNDUklQVElPTlMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0JylcbiAgICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoe1trZXldOiBpdGVtc1RvU2F2ZX0sIGNhbGxiYWNrKVxuICAgIH0pXG59XG5leHBvcnQgY29uc3QgdW5zdWJzY3JpYmVJZCA9IChpZCwgY2FsbGJhY2sgPSAoKSA9PiB7fSkgPT4ge1xuICAgIGNvbnN0IG1haW5LZXkgPSAnb3RoZXJfc3Vic2NyaXB0aW9ucydcbiAgICBjb25zdCBvdGhlcktleXMgPSBnZXRPYmplY3ROYW1lc0ZvclRoaW5nKCdvdGhlcicsIGZhbHNlKVxuICAgIGRlbGV0ZSBvdGhlcktleXNbJ2NoYW5nZXMnXVxuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KE9iamVjdC52YWx1ZXMob3RoZXJLZXlzKS5jb25jYXQobWFpbktleSksIChyZXN1bHQpID0+IHtcbiAgICAgICAgZGVsZXRlIHJlc3VsdFttYWluS2V5XVtpZF1cbiAgICAgICAgT2JqZWN0LnZhbHVlcyhvdGhlcktleXMpLmZvckVhY2goZnVsbEtleW5hbWUgPT4ge1xuICAgICAgICAgICAgaWYgKGlkIGluIHJlc3VsdFtmdWxsS2V5bmFtZV0pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgcmVzdWx0W2Z1bGxLZXluYW1lXVtpZF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQocmVzdWx0LCAoKSA9PiB7XG4gICAgICAgICAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7YWN0aW9uOiAndXBkYXRlLWJhZGdlJ30sIGNhbGxiYWNrKVxuICAgICAgICB9KVxuICAgIH0pXG59XG5leHBvcnQgY29uc3QgZ2V0U3Vic2NyaWJlZElkcyA9IChjYWxsYmFjayA9ICgpID0+IHt9KSA9PiB7XG4gICAgY29uc3Qga2V5ID0gJ290aGVyX3N1YnNjcmlwdGlvbnMnXG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoa2V5LCAocmVzdWx0KSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKE9iamVjdC5rZXlzKHJlc3VsdFtrZXldKSlcbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlVXNlciA9ICh1c2VyLCBjYWxsYmFja1N1Y2Nlc3MgPSAoKSA9PiB7fSwgY2FsbGJhY2tFcnJvciA9ICgpID0+IHt9KSA9PiB7XG4gICAgY29uc3QgdXNlckluaXQgPSBnZXRVc2VySW5pdCh1c2VyKVxuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KCd1c2VyX3N1YnNjcmlwdGlvbnMnLCAocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJfc3Vic2NyaXB0aW9ucyA9IHJlc3VsdC51c2VyX3N1YnNjcmlwdGlvbnNcbiAgICAgICAgaWYgKCEgKHVzZXIgaW4gdXNlcl9zdWJzY3JpcHRpb25zKSkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHVzZXJfc3Vic2NyaXB0aW9ucykubGVuZ3RoIDwgTUFYX1NVQlNDUklQVElPTlMpIHtcbiAgICAgICAgICAgICAgICB1c2VyX3N1YnNjcmlwdGlvbnNbdXNlcl0gPSB0cnVlXG4gICAgICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoe3VzZXJfc3Vic2NyaXB0aW9ucywgLi4udXNlckluaXR9LCBjYWxsYmFja1N1Y2Nlc3MpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrRXJyb3IoJ21heGltdW0gbnVtYmVyIG9mIHN1YnNjcmlwdGlvbnMgcmVhY2hlZCcpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFja0Vycm9yKCdhbHJlYWR5IHN1YnNjcmliZWQgdG8gdGhpcyB1c2VyJylcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCB1bnN1YnNjcmliZVVzZXIgPSAodXNlciwgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCB1c2VyS2V5cyA9IE9iamVjdC5rZXlzKGdldFVzZXJJbml0KHVzZXIpKVxuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KCd1c2VyX3N1YnNjcmlwdGlvbnMnLCAocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJfc3Vic2NyaXB0aW9ucyA9IHJlc3VsdC51c2VyX3N1YnNjcmlwdGlvbnNcbiAgICAgICAgZGVsZXRlIHVzZXJfc3Vic2NyaXB0aW9uc1t1c2VyXVxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7dXNlcl9zdWJzY3JpcHRpb25zfSwgKCkgPT4ge1xuICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5yZW1vdmUodXNlcktleXMsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyS2V5X2xvY2FsU3RvcmFnZSA9IGdldE9iamVjdE5hbWUoJ2l0ZW1zJywgdXNlciwgdHJ1ZSlcbiAgICAgICAgICAgICAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7YWN0aW9uOiAndXBkYXRlLWJhZGdlJ30pXG4gICAgICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwucmVtb3ZlKHVzZXJLZXlfbG9jYWxTdG9yYWdlLCBjYWxsYmFjaylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGluaXRTdG9yYWdlID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQobnVsbCwgKHN0b3JhZ2UpID0+IHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHN0b3JhZ2UpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoZ2V0U3RvcmFnZUluaXQoKSwgY2FsbGJhY2spXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgZ2V0U3Vic2NyaWJlZFVzZXJzX3dpdGhTZWVuQW5kVW5zZWVuSURzID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQobnVsbCwgKHN0b3JhZ2UpID0+IHtcbiAgICAgICAgY29uc3QgdXNlcnMgPSBPYmplY3Qua2V5cyhzdG9yYWdlLnVzZXJfc3Vic2NyaXB0aW9ucyk7XG4gICAgICAgIGNvbnN0IHVzZXJzX3dpdGhJRHMgPSB7fVxuICAgICAgICB1c2Vycy5mb3JFYWNoKHVzZXIgPT4ge1xuICAgICAgICAgICAgdXNlcnNfd2l0aElEc1t1c2VyXSA9IGdldElEc190aGluZyh1c2VyLCB0cnVlLCBzdG9yYWdlKVxuICAgICAgICB9KVxuICAgICAgICB1c2Vyc193aXRoSURzWydvdGhlciddID0gZ2V0SURzX3RoaW5nKCdvdGhlcicsIGZhbHNlLCBzdG9yYWdlKVxuICAgICAgICBjYWxsYmFjayh1c2Vyc193aXRoSURzLCBzdG9yYWdlKVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRTdWJzY3JpYmVkVXNlcnNfd2l0aFVuc2VlbklEcyA9IChjYWxsYmFjaykgPT4ge1xuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KG51bGwsIChzdG9yYWdlKSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJzID0gT2JqZWN0LmtleXMoc3RvcmFnZS51c2VyX3N1YnNjcmlwdGlvbnMpO1xuICAgICAgICBjb25zdCB1c2Vyc193aXRoSURzID0ge31cbiAgICAgICAgdXNlcnMuZm9yRWFjaCh1c2VyID0+IHtcbiAgICAgICAgICAgIHVzZXJzX3dpdGhJRHNbdXNlcl0gPSBnZXRVbnNlZW5JRHNfdGhpbmcodXNlciwgdHJ1ZSwgc3RvcmFnZSlcbiAgICAgICAgfSlcbiAgICAgICAgdXNlcnNfd2l0aElEc1snb3RoZXInXSA9IGdldFVuc2VlbklEc190aGluZygnb3RoZXInLCBmYWxzZSwgc3RvcmFnZSlcbiAgICAgICAgY2FsbGJhY2sodXNlcnNfd2l0aElEcylcbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgZ2V0VW5zZWVuSURzX3RoaW5nID0gKHRoaW5nLCBpc1VzZXIsIHN0b3JhZ2UpID0+IHtcbiAgICByZXR1cm4gZ2V0SURzX3RoaW5nKHRoaW5nLCBpc1VzZXIsIHN0b3JhZ2UpWyd1bnNlZW4nXVxufVxuXG4vLyBHZXQgSURzIG9mIGl0ZW1zIHdob3NlIHN0YXR1cyBoYXMgY2hhbmdlZFxuZXhwb3J0IGNvbnN0IGdldElEc190aGluZyA9ICh0aGluZywgaXNVc2VyLCBzdG9yYWdlKSA9PiB7XG4gICAgY29uc3QgdHJhY2tfcmVtb3ZhbCA9IHN0b3JhZ2Uub3B0aW9ucy5yZW1vdmFsX3N0YXR1cy50cmFja1xuICAgIGNvbnN0IHRyYWNrX2xvY2sgPSBzdG9yYWdlLm9wdGlvbnMubG9ja19zdGF0dXMudHJhY2tcbiAgICBjb25zdCB1bnNlZW5JRHMgPSB7fVxuICAgIGNvbnN0IHNlZW5JRHMgPSB7fVxuICAgIGxldCB0eXBlcyA9IFtdXG4gICAgY29uc3Qga2V5cyA9IGdldE9iamVjdE5hbWVzRm9yVGhpbmcodGhpbmcsIGlzVXNlcilcbiAgICBpZiAodHJhY2tfcmVtb3ZhbCkgdHlwZXMucHVzaChrZXlzWydyZW1vdmVkJ10sIGtleXNbJ2FwcHJvdmVkJ10pXG4gICAgaWYgKHRyYWNrX2xvY2spIHR5cGVzLnB1c2goa2V5c1snbG9ja2VkJ10sIGtleXNbJ3VubG9ja2VkJ10pXG5cbiAgICB0eXBlcy5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgICBPYmplY3Qua2V5cyhzdG9yYWdlW3R5cGVdKS5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBzdG9yYWdlW3R5cGVdW2lkXVxuICAgICAgICAgICAgaWYgKGl0ZW0udSkgdW5zZWVuSURzW2lkXSA9IHRydWVcbiAgICAgICAgICAgIGVsc2Ugc2VlbklEc1tpZF0gPSB0cnVlXG4gICAgICAgIH0pXG4gICAgfSlcbiAgICByZXR1cm4ge3Vuc2VlbjogT2JqZWN0LmtleXModW5zZWVuSURzKSwgc2VlbjogT2JqZWN0LmtleXMoc2VlbklEcyl9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRMb2NhbFN0b3JhZ2VJdGVtcyA9ICh0aGluZywgaXNVc2VyKSA9PiB7XG4gICAgY29uc3Qga2V5X2xvY2FsU3RvcmFnZSA9IGdldE9iamVjdE5hbWUoJ2l0ZW1zJywgdGhpbmcsIGlzVXNlcilcbiAgICByZXR1cm4gYnJvd3Nlci5zdG9yYWdlLmxvY2FsLmdldCh7W2tleV9sb2NhbFN0b3JhZ2VdOiB7fX0pXG4gICAgLnRoZW4obG9jYWxTdG9yYWdlSXRlbXMgPT4ge1xuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlSXRlbXNba2V5X2xvY2FsU3RvcmFnZV1cbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3Qgc2F2ZUxvY2FsU3RvcmFnZUl0ZW1zID0gKHRoaW5nLCBpc1VzZXIsIGl0ZW1zVG9TYXZlKSA9PiB7XG4gICAgY29uc3Qga2V5X2xvY2FsU3RvcmFnZSA9IGdldE9iamVjdE5hbWUoJ2l0ZW1zJywgdGhpbmcsIGlzVXNlcilcbiAgICByZXR1cm4gYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldCh7W2tleV9sb2NhbFN0b3JhZ2VdOiBpdGVtc1RvU2F2ZX0pXG59XG5cbmV4cG9ydCBjb25zdCBhZGRMb2NhbFN0b3JhZ2VJdGVtcyA9IChpdGVtcywgdGhpbmcsIGlzVXNlcikgPT4ge1xuICAgIGNvbnN0IGtleV9sb2NhbFN0b3JhZ2UgPSBnZXRPYmplY3ROYW1lKCdpdGVtcycsIHRoaW5nLCBpc1VzZXIpXG4gICAgcmV0dXJuIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldCh7W2tleV9sb2NhbFN0b3JhZ2VdOiB7fX0sIChsb2NhbFN0b3JhZ2VJdGVtcykgPT4ge1xuICAgICAgICBjb25zdCBzdG9yZWRJdGVtcyA9IGxvY2FsU3RvcmFnZUl0ZW1zW2tleV9sb2NhbFN0b3JhZ2VdXG4gICAgICAgIE9iamVjdC5rZXlzKGl0ZW1zKS5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgICAgIHN0b3JlZEl0ZW1zW2lkXSA9IGl0ZW1zW2lkXVxuICAgICAgICB9KVxuICAgICAgICBsZXQgaXRlbXNUb1NhdmUgPSBzdG9yZWRJdGVtc1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMoc3RvcmVkSXRlbXMpLmxlbmd0aCA+IE1BWF9MT0NBTF9TVE9SQUdFX0lURU1TX1BFUl9PQkpFQ1QpIHtcbiAgICAgICAgICAgIGl0ZW1zVG9TYXZlID0gdHJpbURpY3RfYnlfbnVtYmVyVmFsdWVkQXR0cmlidXRlKHN0b3JlZEl0ZW1zLCBNQVhfTE9DQUxfU1RPUkFHRV9JVEVNU19QRVJfT0JKRUNULCAnbycpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5zZXQoe1trZXlfbG9jYWxTdG9yYWdlXTogaXRlbXNUb1NhdmV9KVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRJdGVtRnJvbUxvY2FsU3RvcmFnZSA9ICh0aGluZywgaXNVc2VyLCBpZCwgbG9jYWxTdG9yYWdlKSA9PiB7XG4gICAgY29uc3Qga2V5ID0gZ2V0T2JqZWN0TmFtZSgnaXRlbXMnLCB0aGluZywgaXNVc2VyKVxuICAgIGlmIChrZXkgaW4gbG9jYWxTdG9yYWdlKSB7XG4gICAgICAgIGlmIChpZCBpbiBsb2NhbFN0b3JhZ2Vba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMb2NhbFN0b3JhZ2VJdGVtKHtvYmplY3Q6IGxvY2FsU3RvcmFnZVtrZXldW2lkXX0pXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICcnXG59XG5cbmV4cG9ydCBjb25zdCBnZXRBbGxDaGFuZ2VzID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoJ3VzZXJfc3Vic2NyaXB0aW9ucycsIChyZXN1bHQpID0+IHtcbiAgICAgICAgY29uc3Qga2V5cyA9IFtnZXRPYmplY3ROYW1lKCdjaGFuZ2VzJywgJ290aGVyJywgZmFsc2UpXVxuICAgICAgICBjb25zdCBrZXlUb1VzZXJfbG9va3VwID0ge2NoYW5nZXNfb3RoZXI6ICdvdGhlcid9XG5cbiAgICAgICAgT2JqZWN0LmtleXMocmVzdWx0LnVzZXJfc3Vic2NyaXB0aW9ucykuZm9yRWFjaCh1c2VyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGdldE9iamVjdE5hbWUoJ2NoYW5nZXMnLCB1c2VyLCB0cnVlKVxuICAgICAgICAgICAga2V5cy5wdXNoKGtleSlcbiAgICAgICAgICAgIGtleVRvVXNlcl9sb29rdXBba2V5XSA9IHVzZXJcbiAgICAgICAgfSlcbiAgICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoa2V5cywgKHJlczIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZXNCeVVzZXIgPSB7fVxuICAgICAgICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKChrZXkgaW4gcmVzMikgJiYgcmVzMltrZXldLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzQnlVc2VyW2tleVRvVXNlcl9sb29rdXBba2V5XV0gPSByZXMyW2tleV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgY2FsbGJhY2soY2hhbmdlc0J5VXNlcilcbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgZ2V0T3B0aW9ucyA9IChjYWxsYmFjaykgPT4ge1xuICAgIHJldHVybiBicm93c2VyLnN0b3JhZ2Uuc3luYy5nZXQoWyd1c2VyX3N1YnNjcmlwdGlvbnMnLCAnb3RoZXJfc3Vic2NyaXB0aW9ucycsICdvcHRpb25zJ10pXG4gICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgY29uc3QgdXNlcnMgPSBPYmplY3Qua2V5cyhyZXN1bHQudXNlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICBjb25zdCBvdGhlcnMgPSBPYmplY3Qua2V5cyhyZXN1bHQub3RoZXJfc3Vic2NyaXB0aW9ucylcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHJlc3VsdC5vcHRpb25zXG4gICAgICAgIHJldHVybiBjYWxsYmFjayh1c2Vycywgb3RoZXJzLCBvcHRpb25zKVxuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxufVxuZXhwb3J0IGNvbnN0IHNhdmVPcHRpb25zID0gKHNlZW5fY291bnQsIGludGVydmFsLCBjdXN0b21fY2xpZW50aWQsIHJlbW92ZWRfdHJhY2ssIHJlbW92ZWRfbm90aWZ5LCBsb2NrZWRfdHJhY2ssIGxvY2tlZF9ub3RpZnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZV9zdWJzY3JpYmUsIG1vbml0b3JfcXVhcmFudGluZWQsIGNhbGxiYWNrKSA9PiB7XG4gICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoe29wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vlbl9jb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbV9jbGllbnRpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZhbF9zdGF0dXM6IHt0cmFjazogcmVtb3ZlZF90cmFjaywgbm90aWZ5OiByZW1vdmVkX25vdGlmeX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2tfc3RhdHVzOiAgICB7dHJhY2s6IGxvY2tlZF90cmFjaywgIG5vdGlmeTogbG9ja2VkX25vdGlmeX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVfc3Vic2NyaWJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb25pdG9yX3F1YXJhbnRpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKVxufVxuIiwiaW1wb3J0IHtSRU1PVkVELCBERUxFVEVELCBBUFBST1ZFRCwgTE9DS0VELCBVTkxPQ0tFRCwgRURJVEVELFxuICAgICAgICBnZXRTdWJzY3JpYmVkVXNlcnNfd2l0aFVuc2VlbklEcyB9IGZyb20gJy4vc3RvcmFnZS5qcydcbmltcG9ydCBicm93c2VyIGZyb20gJ3dlYmV4dGVuc2lvbi1wb2x5ZmlsbCdcblxuZXhwb3J0IGNvbnN0IEFMQVJNX05BTUUgPSAnbm90aWZ5bWUnXG5jb25zdCBtYXhSZWRkaXRDb250ZW50TGVuZ3RoID0gMzAwXG5jb25zdCBBQ1RJT05fQVBJID0gX19CVUlMVF9GT1JfXyA9PT0gJ2Nocm9tZScgPyAnYWN0aW9uJyA6ICdicm93c2VyQWN0aW9uJ1xuXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNTkzMzU1Ni9jaHJvbWUtZXh0ZW5zaW9uLW9wZW4tbmV3LXRhYi13aGVuLWJyb3dzZXItb3BlbmVkLWluLWJhY2tncm91bmQtbWFjLzI1OTMzOTY0IzI1OTMzOTY0XG5leHBvcnQgY29uc3QgY3JlYXRlVGFiID0gKHVybCkgPT4ge1xuICAgIGNocm9tZS50YWJzLmNyZWF0ZSh7dXJsOnVybH0sICh0YWIpID0+IHtcbiAgICAgICAgaWYoISB0YWIpIHtcbiAgICAgICAgICAgIC8vIHByb2JhYmx5IG5vIHdpbmRvdyBhdmFpbGFibGVcbiAgICAgICAgICAgIGNocm9tZS53aW5kb3dzLmNyZWF0ZSh7dXJsOnVybH0sICh3aW4pID0+IHtcbiAgICAgICAgICAgICAgICAvLyBiZXR0ZXIgdG8gZm9jdXMgYWZ0ZXIgd2luZG93IGNyZWF0aW9uIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgY2hyb21lLndpbmRvd3MudXBkYXRlKHdpbi5pZCwge2ZvY3VzZWQ6IHRydWV9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGJldHRlciB0byBmb2N1cyBhZnRlciB0YWIgY3JlYXRpb24gY2FsbGJhY2tcbiAgICAgICAgICAgIGNocm9tZS53aW5kb3dzLnVwZGF0ZSh0YWIud2luZG93SWQsIHtmb2N1c2VkOiB0cnVlfSlcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRGdWxsSURzRnJvbVVSTCA9ICh1cmwpID0+IHtcbiAgICBjb25zdCBwYXRoID0gdXJsLnJlcGxhY2UoL2h0dHBzOlxcL1xcL1teL10qcmUodmUpP2RkaXQuY29tLywgJycpXG4gICAgcmV0dXJuIGdldEZ1bGxJRHNGcm9tUGF0aChwYXRoKVxufVxuXG5jb25zdCByZWdleF9wYyA9IC9eXFwvKHZ8cnx1c2VyKVxcLyhbXi9dKylcXC9jb21tZW50c1xcLyhbXi9dKylcXC9bXi9dKig/OlxcLyhbXi8/JiNdKykpPy9cbmNvbnN0IHJlZ2V4X3VzZXIgPSAvXlxcLyg/OnVzZXJ8eXx1KVxcLyhbXi8/JiNdKylcXC8/L1xuXG5leHBvcnQgY29uc3QgZ2V0RnVsbElEc0Zyb21QYXRoID0gKHBhdGgpID0+IHtcbiAgICBsZXQgcG9zdElEID0gdW5kZWZpbmVkLCBjb21tZW50SUQgPSB1bmRlZmluZWQsIHVzZXIgPSB1bmRlZmluZWQsIHN1YnJlZGRpdCA9IHVuZGVmaW5lZFxuICAgIGNvbnN0IG1hdGNoZXNfcGMgPSBwYXRoLm1hdGNoKHJlZ2V4X3BjKVxuICAgIGNvbnN0IG1hdGNoZXNfdXNlciA9IHBhdGgubWF0Y2gocmVnZXhfdXNlcilcbiAgICBpZiAobWF0Y2hlc19wYykge1xuICAgICAgICBjb25zdCB0eXBlID0gbWF0Y2hlc19wY1sxXVxuICAgICAgICBpZiAodHlwZSA9PT0gJ3VzZXInKSB7XG4gICAgICAgICAgICB1c2VyID0gbWF0Y2hlc19wY1syXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3VicmVkZGl0ID0gbWF0Y2hlc19wY1syXVxuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRjaGVzX3BjWzNdKSBwb3N0SUQgPSAndDNfJyttYXRjaGVzX3BjWzNdXG4gICAgICAgIGlmIChtYXRjaGVzX3BjWzRdKSBjb21tZW50SUQgPSAndDFfJyttYXRjaGVzX3BjWzRdXG4gICAgfSBlbHNlIGlmIChtYXRjaGVzX3VzZXIpIHtcbiAgICAgICAgdXNlciA9IG1hdGNoZXNfdXNlclsxXVxuICAgIH1cbiAgICByZXR1cm4gW3Bvc3RJRCwgY29tbWVudElELCB1c2VyLCBzdWJyZWRkaXRdXG59XG5cbmV4cG9ydCBjb25zdCByZWZvcm1hdFJlZGRpdFRleHQgPSAoYm9keSkgPT4ge1xuICAgIHJldHVybiBib2R5LnJlcGxhY2UoLyZhbXA7L2csICcmJykucmVwbGFjZSgvJmd0Oy9nLCAnPicpLnJlcGxhY2UoLyZsdDsvZywgJzwnKVxuICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCAnICcpLnN1YnN0cigwLCBtYXhSZWRkaXRDb250ZW50TGVuZ3RoKVxufVxuXG5leHBvcnQgY29uc3QgaXNSZW1vdmVkSXRlbSA9IChpdGVtKSA9PiB7XG4gICAgaWYgKGl0ZW0ucmVtb3ZhbF9yZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgaWYgKGlzQ29tbWVudChpdGVtLm5hbWUpKSB7XG4gICAgICAgIHJldHVybiBpc1JlbW92ZWRDb21tZW50KGl0ZW0pXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGlzUmVtb3ZlZFBvc3QoaXRlbSlcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBpc0NvbW1lbnQgPSAobmFtZSkgPT4ge1xuICAgIHJldHVybiBuYW1lLnN1YnN0cigwLDIpID09PSAndDEnXG59XG4vLyBDaGVja2luZyB0aGF0IGF1dGhvciBzdGFydHMgd2l0aCAnWycgZm9yIHVzZXJwYWdlLWRyaXZlbiBjb250ZW50IGlzIHN1ZmZpY2llbnQgdG8gcHJvdmUgY29tbWVudCBpcyByZW1vdmVkLlxuLy8gVGhpcyB3YXksIHRoZSBjaGVjayBpcyBpbmRpZmZlcmVudCB0byBsYW5ndWFnZSwgaW4gY2FzZSBBY2NlcHQtTGFuZ3VhZ2UgaXMgbm90IHNldCB0byAnZW4nXG4vLyBBbHNvIGNoZWNrIGJvZHkgYmVjYXVzZSBjb21tZW50cyB3aG9zZSBhdXRob3IgYWNjb3VudCBpcyBkZWxldGVkIG1heSBoYXZlIHZhbGlkIHVucmVtb3ZlZCBib2R5XG5leHBvcnQgY29uc3QgaXNSZW1vdmVkQ29tbWVudCA9IChpdGVtKSA9PiB7XG4gICAgcmV0dXJuIChpdGVtLmF1dGhvci5yZXBsYWNlKC9cXFxcL2csICcnKVswXSA9PT0gJ1snXG4gICAgICAgICYmICAgIGl0ZW0uYm9keS5yZXBsYWNlKC9cXFxcL2csICcnKVswXSA9PT0gJ1snKVxufVxuZXhwb3J0IGNvbnN0IGlzVXNlckRlbGV0ZWRDb21tZW50ID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gKGl0ZW0uYm9keS5yZXBsYWNlKC9cXFxcL2csICcnKSA9PT0gJ1tkZWxldGVkXScgJiZcbiAgICAgICAgICAgIGl0ZW0uYXV0aG9yLnJlcGxhY2UoL1xcXFwvZywgJycpID09PSAnW2RlbGV0ZWRdJylcbn1cbmV4cG9ydCBjb25zdCBpc1VzZXJEZWxldGVkUG9zdCA9IChpdGVtKSA9PiB7XG4gICAgcmV0dXJuICghIGl0ZW0uaXNfcm9ib3RfaW5kZXhhYmxlKSAmJiBpdGVtLmF1dGhvci5yZXBsYWNlKC9cXFxcL2csICcnKSA9PT0gJ1tkZWxldGVkXSdcbn1cbmV4cG9ydCBjb25zdCBpc1VzZXJEZWxldGVkSXRlbSA9IChpdGVtKSA9PiB7XG4gICAgaWYgKGlzQ29tbWVudChpdGVtLm5hbWUpKSB7XG4gICAgICAgIHJldHVybiBpc1VzZXJEZWxldGVkQ29tbWVudChpdGVtKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpc1VzZXJEZWxldGVkUG9zdChpdGVtKVxuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBpc1JlbW92ZWRQb3N0ID0gKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gISBpdGVtLmlzX3JvYm90X2luZGV4YWJsZVxufVxuXG5leHBvcnQgY29uc3QgdHJpbURpY3RfYnlfbnVtYmVyVmFsdWVkQXR0cmlidXRlID0gKGRpY3QsIG1heE51bUl0ZW1zLCBudW1iZXJWYWx1ZWRBdHRyaWJ1dGUpID0+IHtcbiAgICBjb25zdCBhcnJheSA9IHNvcnREaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZShkaWN0LCBudW1iZXJWYWx1ZWRBdHRyaWJ1dGUpXG5cbiAgICBjb25zdCBzaG9ydGVuZWRBcnJheSA9IGFycmF5LnNsaWNlKDAsIG1heE51bUl0ZW1zKVxuICAgIGNvbnN0IG5ld0RpY3QgPSB7fVxuICAgIHNob3J0ZW5lZEFycmF5LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIG5ld0RpY3RbaXRlbVswXV0gPSBpdGVtWzFdXG4gICAgfSlcbiAgICByZXR1cm4gbmV3RGljdFxufVxuXG5leHBvcnQgY29uc3Qgc29ydERpY3RfYnlfbnVtYmVyVmFsdWVkQXR0cmlidXRlID0gKGRpY3QsIG51bWJlclZhbHVlZEF0dHJpYnV0ZSkgPT4ge1xuICAgIGxldCBhcnJheSA9IE9iamVjdC5rZXlzKGRpY3QpLm1hcChrZXkgPT4ge1xuICAgICAgICByZXR1cm4gW2tleSwgZGljdFtrZXldXVxuICAgIH0pXG4gICAgYXJyYXkuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICByZXR1cm4gYlsxXVtudW1iZXJWYWx1ZWRBdHRyaWJ1dGVdIC0gYVsxXVtudW1iZXJWYWx1ZWRBdHRyaWJ1dGVdXG4gICAgfSlcbiAgICByZXR1cm4gYXJyYXlcbn1cblxuZXhwb3J0IGNsYXNzIEl0ZW1Gb3JTdG9yYWdlIHtcbiAgICBjb25zdHJ1Y3RvcihjcmVhdGVkX3V0YywgdW5zZWVuKSB7XG4gICAgICAgIHRoaXMuYyA9IGNyZWF0ZWRfdXRjXG4gICAgICAgIHRoaXMudSA9IHVuc2VlblxuICAgIH1cbiAgICBnZXRDcmVhdGVkVVRDKCkgeyByZXR1cm4gdGhpcy5jIH1cbiAgICBnZXRVbnNlZW4oKSB7IHJldHVybiB0aGlzLnUgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hhbmdlRm9yU3RvcmFnZSB7XG4gICAgY29uc3RydWN0b3IoeyBpZCA9IG51bGwsIG9ic2VydmVkX3V0YyA9IG51bGwsIGNoYW5nZV90eXBlID0gbnVsbCwgc2Vlbl9jb3VudCA9IG51bGwsIG9iamVjdCA9IG51bGwgfSkge1xuICAgICAgICBpZiAob2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmkgPSBvYmplY3QuaVxuICAgICAgICAgICAgdGhpcy5vID0gb2JqZWN0Lm9cbiAgICAgICAgICAgIHRoaXMuZyA9IG9iamVjdC5nXG4gICAgICAgICAgICB0aGlzLm4gPSBvYmplY3QublxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pID0gaWRcbiAgICAgICAgICAgIHRoaXMubyA9IG9ic2VydmVkX3V0Y1xuICAgICAgICAgICAgdGhpcy5nID0gY2hhbmdlX3R5cGVcbiAgICAgICAgICAgIHRoaXMubiA9IHNlZW5fY291bnRcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRJRCgpIHsgcmV0dXJuIHRoaXMuaSB9XG4gICAgZ2V0T2JzZXJ2ZWRVVEMoKSB7IHJldHVybiB0aGlzLm8gfVxuICAgIGdldENoYW5nZVR5cGVJbnRlcm5hbCgpIHsgcmV0dXJuIHRoaXMuZyB9XG4gICAgZ2V0Q2hhbmdlVHlwZSgpIHtcbiAgICAgICAgc3dpdGNoKHRoaXMuZykge1xuICAgICAgICAgICAgY2FzZSBSRU1PVkVEOiByZXR1cm4gJ21vZCByZW1vdmVkJ1xuICAgICAgICAgICAgY2FzZSBERUxFVEVEOiByZXR1cm4gJ3VzZXIgZGVsZXRlZCdcbiAgICAgICAgICAgIGNhc2UgQVBQUk9WRUQ6IHJldHVybiAnYXBwcm92ZWQnXG4gICAgICAgICAgICBjYXNlIExPQ0tFRDogcmV0dXJuICdsb2NrZWQnXG4gICAgICAgICAgICBjYXNlIFVOTE9DS0VEOiByZXR1cm4gJ3VubG9ja2VkJ1xuICAgICAgICAgICAgY2FzZSBFRElURUQ6IHJldHVybiAnZWRpdGVkJ1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFNlZW5Db3VudCgpIHsgcmV0dXJuIHRoaXMubiB9XG59XG5cbmV4cG9ydCBjbGFzcyBMb2NhbFN0b3JhZ2VJdGVtIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGl0ZW0gPSBudWxsLCBvYnNlcnZlZF91dGMgPSBudWxsLCBvYmplY3QgPSBudWxsIH0pIHtcbiAgICAgICAgaWYgKG9iamVjdCkge1xuICAgICAgICAgICAgdGhpcy50ID0gb2JqZWN0LnRcbiAgICAgICAgICAgIHRoaXMubyA9IG9iamVjdC5vXG4gICAgICAgICAgICB0aGlzLmMgPSBvYmplY3QuY1xuICAgICAgICAgICAgdGhpcy5uID0gb2JqZWN0Lm4gfHwgMCAvLyBzZWVuX2NvdW50LCB3aGljaCBpbmNyZW1lbnRzIHdoZW4gdGhlIHNhbWUgc3RhdHVzIGlzIG9ic2VydmVkXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgdGV4dCA9ICcnXG4gICAgICAgICAgICBpZiAoaXNDb21tZW50KGl0ZW0ubmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gcmVmb3JtYXRSZWRkaXRUZXh0KGl0ZW0uYm9keSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGl0ZW0udGl0bGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudCA9IHRleHRcbiAgICAgICAgICAgIHRoaXMubyA9IG9ic2VydmVkX3V0Y1xuICAgICAgICAgICAgdGhpcy5jID0gaXRlbS5jcmVhdGVkX3V0Y1xuICAgICAgICAgICAgdGhpcy5uID0gMFxuICAgICAgICB9XG4gICAgfVxuICAgIHNldFRleHQodGV4dCkge3RoaXMudCA9IHJlZm9ybWF0UmVkZGl0VGV4dCh0ZXh0KX1cbiAgICBnZXRUZXh0KCkgeyByZXR1cm4gdGhpcy50IH1cbiAgICBnZXRPYnNlcnZlZFVUQygpIHsgcmV0dXJuIHRoaXMubyB9XG4gICAgZ2V0Q3JlYXRlZFVUQygpIHsgcmV0dXJuIHRoaXMuYyB9XG4gICAgcmVzZXRTZWVuQ291bnQoKSB7IHRoaXMubiA9IDAgfVxuICAgIGdldFNlZW5Db3VudCgpIHsgcmV0dXJuIHRoaXMubiB9XG4gICAgaW5jcmVtZW50U2VlbkNvdW50KCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMubiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMubiA9IDBcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm4gKz0gMVxuICAgICAgICByZXR1cm4gdGhpcy5uXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QWxhcm0ocGVyaW9kSW5NaW51dGVzKSB7XG4gICAgY2hyb21lLmFsYXJtcy5jbGVhcihBTEFSTV9OQU1FKVxuICAgIGNocm9tZS5hbGFybXMuY3JlYXRlKEFMQVJNX05BTUUsIHtkZWxheUluTWludXRlczogMSwgcGVyaW9kSW5NaW51dGVzOiBwZXJpb2RJbk1pbnV0ZXN9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWxwaGFMb3dlclNvcnQgKGEsIGIpIHtcbiAgICB2YXIgdGV4dEEgPSBhLnRvTG93ZXJDYXNlKClcbiAgICB2YXIgdGV4dEIgPSBiLnRvTG93ZXJDYXNlKClcblxuICAgIGlmICh0ZXh0QSA8IHRleHRCKSByZXR1cm4gLTFcbiAgICBpZiAodGV4dEEgPiB0ZXh0QikgcmV0dXJuIDFcbiAgICByZXR1cm4gMFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ29Ub09wdGlvbnMgKCkge1xuICAgIGlmIChjaHJvbWUucnVudGltZS5vcGVuT3B0aW9uc1BhZ2UpIHtcbiAgICAgICAgY2hyb21lLnJ1bnRpbWUub3Blbk9wdGlvbnNQYWdlKClcbiAgICAgICAgd2luZG93LmNsb3NlKCkgLy9jbG9zZXMgdGhlIHBvcHVwIHdoaWNoIHBlcnNpc3RzIGluIEZGXG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93Lm9wZW4oY2hyb21lLnJ1bnRpbWUuZ2V0VVJMKCcvc3JjL29wdGlvbnMuaHRtbCcpKVxuICAgIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd0Vycm9yKG1lc3NhZ2UsIHNlbGVjdG9yKSB7XG4gICAgJCgnPGRpdiBjbGFzcz1cInJyLWVycm9yXCI+JyttZXNzYWdlKyc8L2Rpdj4nKS5hcHBlbmRUbyhzZWxlY3RvcikuZGVsYXkoMjQwMCkuZmFkZVRvKDQwMCwgMCwgZnVuY3Rpb24oKSB7JCh0aGlzKS5yZW1vdmUoKX0pXG59XG5cbi8vbm9pbnNwZWN0aW9uIEpTVW51c2VkTG9jYWxTeW1ib2xzXG5leHBvcnQgZnVuY3Rpb24gcHByaW50KG9iaikge1xuICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgJ1xcdCcpKVxufVxuXG5cbmV4cG9ydCBjb25zdCBnZXRQcmV0dHlUaW1lTGVuZ3RoID0gKHNlY29uZHMpID0+IHtcbiAgICBjb25zdCB0aHJlc2hvbGRzID0gW1s2MCwgJ3NlY29uZCcsICdzZWNvbmRzJ10sIFs2MCwgJ21pbnV0ZScsICdtaW51dGVzJ10sIFsyNCwgJ2hvdXInLCAnaG91cnMnXSwgWzcsICdkYXknLCAnZGF5cyddLFxuICAgIFszNjUvMTIvNywgJ3dlZWsnLCAnd2Vla3MnXSwgWzEyLCAnbW9udGgnLCAnbW9udGhzJ10sIFsxMCwgJ3llYXInLCAneWVhcnMnXSxcbiAgICBbMTAsICdkZWNhZGUnLCAnZGVjYWRlcyddLCBbMTAsICdjZW50dXJ5JywgJ2NlbnR1cmllcyddLCBbMTAsICdtaWxsZW5pdW0nLCAnbWlsbGVuaWEnXV1cbiAgICBpZiAoc2Vjb25kcyA8IDYwKSByZXR1cm4gc2Vjb25kcyArICcgc2Vjb25kcydcbiAgICBsZXQgdGltZSA9IHNlY29uZHNcbiAgICBmb3IgKHZhciBpPTA7IGk8dGhyZXNob2xkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgZGl2aXNvciA9IHRocmVzaG9sZHNbaV1bMF1cbiAgICAgICAgbGV0IHRleHQgPSB0aHJlc2hvbGRzW2ldWzFdXG4gICAgICAgIGxldCB0ZXh0UGx1cmFsID0gdGhyZXNob2xkc1tpXVsyXVxuICAgICAgICBpZiAodGltZSA8IGRpdmlzb3IpIHtcbiAgICAgICAgICAgIGxldCBleHRyYSA9ICh0aW1lIC0gTWF0aC5mbG9vcih0aW1lKSlcbiAgICAgICAgICAgIGxldCBwcmV2VW5pdFRpbWUgPSBNYXRoLnJvdW5kKGV4dHJhKnRocmVzaG9sZHNbaS0xXVswXSlcbiAgICAgICAgICAgIGlmICh0aHJlc2hvbGRzW2ktMV1bMF0gPT09IHByZXZVbml0VGltZSkge1xuICAgICAgICAgICAgICAgIHRpbWUgKz0gMVxuICAgICAgICAgICAgICAgIHByZXZVbml0VGltZSA9IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChNYXRoLmZsb29yKHRpbWUpID4gMSB8fCBNYXRoLmZsb29yKHRpbWUpID09IDApIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dFBsdXJhbFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGkgPiAxICYmIHByZXZVbml0VGltZSA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVtYWluVGV4dCA9IHRocmVzaG9sZHNbaS0xXVsxXVxuICAgICAgICAgICAgICAgIGlmIChwcmV2VW5pdFRpbWUgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbWFpblRleHQgPSB0aHJlc2hvbGRzW2ktMV1bMl1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGV4dCArPSAnLCAnICsgU3RyaW5nKHByZXZVbml0VGltZSkgKyAnICcgKyByZW1haW5UZXh0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKE1hdGguZmxvb3IodGltZSkpICsgJyAnICsgdGV4dFxuICAgICAgICB9XG4gICAgICAgIHRpbWUgPSB0aW1lIC8gZGl2aXNvclxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldFByZXR0eURhdGUgPSAoY3JlYXRlZFVUQykgPT4ge1xuICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKChuZXcgRGF0ZSkuZ2V0VGltZSgpLzEwMDApLWNyZWF0ZWRVVENcbiAgICByZXR1cm4gZ2V0UHJldHR5VGltZUxlbmd0aChzZWNvbmRzKSArICcgYWdvJ1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlTm90aWZpY2F0aW9uID0gKHtub3RpZmljYXRpb25JZCwgdGl0bGUsIG1lc3NhZ2V9KSA9PiB7XG4gICAgaWYgKGxvY2F0aW9uLnByb3RvY29sLm1hdGNoKC9eaHR0cC8pKSB7XG4gICAgICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2NyZWF0ZS1ub3RpZmljYXRpb24nLFxuICAgICAgICAgICAgb3B0aW9uczoge25vdGlmaWNhdGlvbklkLCB0aXRsZSwgbWVzc2FnZX1cbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoX19CVUlMVF9GT1JfXyA9PT0gJ2Nocm9tZScpIHtcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvbi5zaG93Tm90aWZpY2F0aW9uKHRpdGxlLCB7XG4gICAgICAgICAgICAgICAgYm9keTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICBkYXRhOiBub3RpZmljYXRpb25JZCxcbiAgICAgICAgICAgICAgICBpY29uOiAnL2ljb25zLzEyOC5wbmcnLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBub3RpZmljYXRpb25zLmNyZWF0ZSBkb2VzIG5vdCB3b3JrIGluIGNocm9tZSdzIG1hbmlmZXN0IHYzLCBzb21ldGhpbmcgd3Jvbmcgd2l0aCByZWFkaW5nIGltYWdlIGRhdGFcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzY1NTcwMzMyL2dvb2dsZS1jaHJvbWUtZXh0ZW5zaW9ucy12My1lcnJvci1pbi1ldmVudC1oYW5kbGVyLXJlZmVyZW5jZWVycm9yLWltYWdlLWlzLW5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTExNjg0NzcmcT1pbWFnZSUyMGlzJTIwbm90JTIwZGVmaW5lZCUyMG5vdGlmaWNhdGlvbiUyMG1hbmlmZXN0JTIwdjMmY2FuPTJcbiAgICAgICAgICAgIGNocm9tZS5ub3RpZmljYXRpb25zLmNyZWF0ZShub3RpZmljYXRpb25JZCxcbiAgICAgICAgICAgICAgICB7dHlwZTogJ2Jhc2ljJyxcbiAgICAgICAgICAgICAgICAgaWNvblVybDogJy9pY29ucy8xMjgucG5nJyxcbiAgICAgICAgICAgICAgICAgdGl0bGUsIG1lc3NhZ2V9KVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgdXBkYXRlQmFkZ2VVbnNlZW5Db3VudCA9ICgpID0+IHtcbiAgICBpZiAobG9jYXRpb24ucHJvdG9jb2wubWF0Y2goL15odHRwLykpIHtcbiAgICAgICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgYWN0aW9uOiAndXBkYXRlLWJhZGdlJ1xuICAgICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFN1YnNjcmliZWRVc2Vyc193aXRoVW5zZWVuSURzKHVzZXJzVW5zZWVuSURzID0+IHtcbiAgICAgICAgICAgIGxldCB0b3RhbCA9IDBcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXModXNlcnNVbnNlZW5JRHMpLmZvckVhY2goaWRzID0+IHtcbiAgICAgICAgICAgICAgICB0b3RhbCArPSBpZHMubGVuZ3RoXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgbGV0IHRleHQgPSB0b3RhbC50b1N0cmluZygpXG4gICAgICAgICAgICBpZiAodG90YWwgPT0gMCkgdGV4dCA9ICcnXG4gICAgICAgICAgICBjaHJvbWVbQUNUSU9OX0FQSV0uc2V0QmFkZ2VCYWNrZ3JvdW5kQ29sb3Ioe2NvbG9yOiBcInJlZFwifSlcbiAgICAgICAgICAgIGNocm9tZVtBQ1RJT05fQVBJXS5zZXRCYWRnZVRleHQoe3RleHQ6IHRleHR9KVxuICAgICAgICB9KVxuICAgIH1cbn1cbiIsImltcG9ydCB7Z2V0T3B0aW9uc30gZnJvbSAnLi9zdG9yYWdlLmpzJ1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnd2ViZXh0ZW5zaW9uLXBvbHlmaWxsJ1xuXG5jb25zdCBjbGllbnRJRCA9ICdTRXcxdXZSZDZreEZFdydcbmNvbnN0IG9hdXRoX3JlZGRpdCA9ICdodHRwczovL29hdXRoLnJlZGRpdC5jb20vJ1xuY29uc3Qgd3d3X3JlZGRpdCA9ICdodHRwczovL3d3dy5yZWRkaXQuY29tLydcbmNvbnN0IE9BVVRIX1JFVkVERElUID0gJ2h0dHBzOi8vY3JlZDIucmV2ZWRkaXQuY29tLydcbmNvbnN0IFdXV19SRVZFRERJVCA9ICdodHRwczovL3dyZWQucmV2ZWRkaXQuY29tLydcblxuY29uc3QgTk9fQVVUSCA9ICdub25lJ1xuXG5leHBvcnQgY29uc3QgbG9va3VwSXRlbXNCeUlEID0gKGlkcywgYXV0aCwgbW9uaXRvcl9xdWFyYW50aW5lZCA9IGZhbHNlLCBtb25pdG9yX3F1YXJhbnRpbmVkX3JlbW90ZSA9IGZhbHNlLCBxdWFyYW50aW5lZF9zdWJyZWRkaXRzID0gW10pID0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSB7aWQ6aWRzLCByYXdfanNvbjoxfVxuICAgIGlmIChtb25pdG9yX3F1YXJhbnRpbmVkX3JlbW90ZSkge1xuICAgICAgICBwYXJhbXMucXVhcmFudGluZWRfc3VicmVkZGl0cyA9IHF1YXJhbnRpbmVkX3N1YnJlZGRpdHMuam9pbignLCcpXG4gICAgfVxuICAgIGNvbnN0IHNlYXJjaCA9ICc/JytPYmplY3Qua2V5cyhwYXJhbXMpLm1hcChrID0+IGAke2t9PSR7cGFyYW1zW2tdfWApLmpvaW4oJyYnKVxuXG4gICAgcmV0dXJuIGZldGNoX2ZvclJlZGRpdCguLi5nZXRGZXRjaFBhcmFtcygnYXBpL2luZm8nLCBzZWFyY2gsIGF1dGgsIG1vbml0b3JfcXVhcmFudGluZWRfcmVtb3RlKSwgbW9uaXRvcl9xdWFyYW50aW5lZClcbn1cblxuY29uc3QgY29va2llRGV0YWlsc19yZWRkaXRTZXNzaW9uID0ge25hbWU6ICdyZWRkaXRfc2Vzc2lvbicsIHVybDogJ2h0dHBzOi8vcmVkZGl0LmNvbSd9XG5cbmNvbnN0IGFjY2VwdGFibGVfc2V0Q29va2llRGV0YWlscyA9IFsnbmFtZScsICd2YWx1ZScsICdkb21haW4nLCAncGF0aCcsICdzZWN1cmUnLCAnaHR0cE9ubHknLCAnc3RvcmVJZCddXG5cbmNvbnN0IGdldFNldHRhYmxlQ29va2llID0gKGNvb2tpZSwgdXJsID0gJ2h0dHBzOi8vcmVkZGl0LmNvbScpID0+IHtcbiAgICBpZiAoISBjb29raWUpIHtcbiAgICAgICAgcmV0dXJuIGNvb2tpZVxuICAgIH1cbiAgICBjb25zdCBmaWx0ZXJlZCA9IE9iamVjdC5rZXlzKGNvb2tpZSlcbiAgICAgICAgLmZpbHRlcihrZXkgPT4gYWNjZXB0YWJsZV9zZXRDb29raWVEZXRhaWxzLmluY2x1ZGVzKGtleSkpXG4gICAgICAgIC5yZWR1Y2UoKG9iaiwga2V5KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLm9iaixcbiAgICAgICAgICAgICAgICBba2V5XTogY29va2llW2tleV1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIHt9KTtcbiAgICBmaWx0ZXJlZC51cmwgPSB1cmxcbiAgICByZXR1cm4gZmlsdGVyZWRcbn1cblxuXG4vL21vbml0b3JfcXVhcmFudGluZWQgLT4gd2hlbiB0cnVlLCBjbGllbnQgc2V0cyBjb29raWUgKHVzZWQgZm9yIGV2ZXJ5IGxvb2sgdXApXG4vL21vbml0b3JfcXVhcmFudGluZWRfcmVtb3RlIC0+IHdoZW4gdHJ1ZSwgcmVtb3RlIHNlcnZlciBzZXRzIGNvb2tpZSAodXNlZCBvbmNlIGluIGF3aGlsZSlcbmNvbnN0IGZldGNoX2ZvclJlZGRpdCA9IGFzeW5jICh1cmwsIG9wdGlvbnMsIG1vbml0b3JfcXVhcmFudGluZWQgPSBmYWxzZSkgPT4ge1xuICAgIGxldCBjb29raWVfcmVkZGl0U2Vzc2lvblxuICAgIGF3YWl0IGJyb3dzZXIuY29va2llcy5zZXQoe2RvbWFpbjogJ3JlZGRpdC5jb20nLCB1cmw6ICdodHRwczovL3JlZGRpdC5jb20nLCBuYW1lOiAnX29wdGlvbnMnLCB2YWx1ZTogJ3slMjJwcmVmX3F1YXJhbnRpbmVfb3B0aW4lMjI6dHJ1ZX0nfSlcbiAgICBpZiAobW9uaXRvcl9xdWFyYW50aW5lZCkge1xuICAgICAgICBjb29raWVfcmVkZGl0U2Vzc2lvbiA9IGdldFNldHRhYmxlQ29va2llKGF3YWl0IGJyb3dzZXIuY29va2llcy5nZXQoY29va2llRGV0YWlsc19yZWRkaXRTZXNzaW9uKSlcbiAgICAgICAgaWYgKGNvb2tpZV9yZWRkaXRTZXNzaW9uKSB7XG4gICAgICAgICAgICBhd2FpdCBicm93c2VyLmNvb2tpZXMucmVtb3ZlKGNvb2tpZURldGFpbHNfcmVkZGl0U2Vzc2lvbilcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoISBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cbiAgICBvcHRpb25zWydjYWNoZSddID0gJ3JlbG9hZCdcbiAgICBpZiAoISBvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0ge31cbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuaGVhZGVyc1snQWNjZXB0LUxhbmd1YWdlJ10gIT09ICdlbicpIHtcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzWydBY2NlcHQtTGFuZ3VhZ2UnXSA9ICdlbidcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gZmV0Y2godXJsLCBvcHRpb25zKVxuICAgIC50aGVuKGhhbmRsZUZldGNoRXJyb3JzKVxuICAgIC50aGVuKGdldFJlZGRpdERhdGEpXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxuICAgIGlmIChjb29raWVfcmVkZGl0U2Vzc2lvbikge1xuICAgICAgICBhd2FpdCBicm93c2VyLmNvb2tpZXMuc2V0KGNvb2tpZV9yZWRkaXRTZXNzaW9uKVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG59XG5cbmV4cG9ydCBjb25zdCBsb29rdXBJdGVtc0J5VXNlciA9ICh1c2VyLCBhZnRlciwgc29ydCwgdGltZVNwYW4sIG1vbml0b3JfcXVhcmFudGluZWQsIG1vbml0b3JfcXVhcmFudGluZWRfcmVtb3RlLCBhdXRoKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0ge2xpbWl0OiAxMDAsIHNvcnQsIHJhd19qc29uOjF9XG4gICAgaWYgKGFmdGVyKSBwYXJhbXMuYWZ0ZXIgPSBhZnRlclxuICAgIGlmICh0aW1lU3BhbikgcGFyYW1zLnQgPSB0aW1lU3BhblxuICAgIGNvbnN0IHBhdGggPSBgdXNlci8ke3VzZXJ9L292ZXJ2aWV3Lmpzb25gXG4gICAgY29uc3Qgc2VhcmNoID0gJz8nK09iamVjdC5rZXlzKHBhcmFtcykubWFwKGsgPT4gYCR7a309JHtwYXJhbXNba119YCkuam9pbignJicpXG4gICAgcmV0dXJuIGZldGNoX2ZvclJlZGRpdCguLi5nZXRGZXRjaFBhcmFtcyhwYXRoLCBzZWFyY2gsIGF1dGgsIG1vbml0b3JfcXVhcmFudGluZWRfcmVtb3RlKSwgbW9uaXRvcl9xdWFyYW50aW5lZClcbn1cblxuZXhwb3J0IGNvbnN0IGhhbmRsZUZldGNoRXJyb3JzID0gKHJlc3BvbnNlKSA9PiB7XG4gICAgaWYgKCEgcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dClcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKVxufVxuXG5jb25zdCBnZXRSZWRkaXREYXRhID0gKGRhdGEpID0+IHtcbiAgICBpZiAoZGF0YSAmJiBkYXRhLnVzZXIgJiYgZGF0YS51c2VyLml0ZW1zKSB7IC8vIGZvcm1hdCBmcm9tIGNyZWQyLnJldmVkZGl0LmNvbVxuICAgICAgICByZXR1cm4gZGF0YVxuICAgIH1cbiAgICBpZiAoISBkYXRhIHx8ICEgZGF0YS5kYXRhIHx8ICEgZGF0YS5kYXRhLmNoaWxkcmVuKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdyZWRkaXQgZGF0YSBpcyBub3QgZGVmaW5lZCcpXG4gICAgfVxuICAgIHJldHVybiBkYXRhLmRhdGEuY2hpbGRyZW5cbn1cblxuZXhwb3J0IGNvbnN0IGdldFJlZGRpdFRva2VuID0gKGRhdGEpID0+IHtcbiAgICBpZiAoISBkYXRhIHx8ICEgZGF0YS5hY2Nlc3NfdG9rZW4pIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ2FjY2VzcyB0b2tlbiBpcyBub3QgZGVmaW5lZCcpXG4gICAgfVxuICAgIHJldHVybiBkYXRhLmFjY2Vzc190b2tlblxufVxuXG5leHBvcnQgY29uc3QgZ2V0QXV0aCA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2V0T3B0aW9ucygodXNlcnMsIG90aGVycywgb3B0aW9ucykgPT4ge1xuICAgICAgICB2YXIgdXNlX3RoaXNfY2xpZW50SUQgPSBjbGllbnRJRFxuICAgICAgICBpZiAob3B0aW9ucy5jdXN0b21fY2xpZW50aWQpIHtcbiAgICAgICAgICAgIHVzZV90aGlzX2NsaWVudElEID0gb3B0aW9ucy5jdXN0b21fY2xpZW50aWRcbiAgICAgICAgICAgIGlmICh1c2VfdGhpc19jbGllbnRJRCA9PT0gJ3Rlc3RpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE5PX0FVVEhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b2tlbkluaXQgPSB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJhc2ljICR7YnRvYShgJHt1c2VfdGhpc19jbGllbnRJRH06YCl9YCxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IGBncmFudF90eXBlPSR7ZW5jb2RlVVJJQ29tcG9uZW50KCdodHRwczovL29hdXRoLnJlZGRpdC5jb20vZ3JhbnRzL2luc3RhbGxlZF9jbGllbnQnKX0mZGV2aWNlX2lkPURPX05PVF9UUkFDS19USElTX0RFVklDRWBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly93d3cucmVkZGl0LmNvbS9hcGkvdjEvYWNjZXNzX3Rva2VuJywgdG9rZW5Jbml0KVxuICAgICAgICAudGhlbihoYW5kbGVGZXRjaEVycm9ycylcbiAgICAgICAgLnRoZW4oZ2V0UmVkZGl0VG9rZW4pXG4gICAgICAgIC50aGVuKHRva2VuID0+ICh7XG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYGJlYXJlciAke3Rva2VufWAsXG4gICAgICAgICAgICAgICAgJ0FjY2VwdC1MYW5ndWFnZSc6ICdlbicsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKVxuICAgICAgICAuY2F0Y2goY29uc29sZS5sb2cpXG4gICAgfSlcblxufVxuXG4vLyBjb2RlOiBodHRwczovL2dpdGh1Yi5jb20vdG9vbGJveC10ZWFtL3JlZGRpdC1tb2RlcmF0b3ItdG9vbGJveC9ibG9iLzQzNGVjMGJiNzFlYmJhMmZjZjBjYjVlNGNhZDUyOTAzNWExYWU3NDIvZXh0ZW5zaW9uL2RhdGEvYmFja2dyb3VuZC9oYW5kbGVycy93ZWJyZXF1ZXN0LmpzI0wzNFxuLy8gZGlzY3Vzc2lvbjogaHR0cHM6Ly93d3cucmVkZGl0LmNvbS9yL3JlZGRpdGRldi9jb21tZW50cy81amY0eWcvYXBpX25ld19tb2RtYWlsL2RiZm53OTgvXG5leHBvcnQgY29uc3QgZ2V0TG9jYWxBdXRoID0gKCkgPT4ge1xuICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9tb2QucmVkZGl0LmNvbS9tYWlsL2FsbCcpXG4gICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgZ2V0Q29va2llKHt1cmw6ICdodHRwczovL21vZC5yZWRkaXQuY29tJywgbmFtZTogJ3Rva2VuJ30pXG4gICAgICAgIC50aGVuKGNvb2tpZSA9PiB7XG4gICAgICAgICAgICBpZiAoY29va2llKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGludmFsaWQgY2hhcnMgYXQgdGhlIGVuZCBwZXIgZGlzY3Vzc2lvblxuICAgICAgICAgICAgICAgIGNvbnN0IGludmFsaWRDaGFyID0gbmV3IFJlZ0V4cCgnW15BLVphLXowLTkrL10uKj8kJylcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlNjRDb29raWUgPSBjb29raWUudmFsdWUucmVwbGFjZShpbnZhbGlkQ2hhciwgJycpXG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW5EYXRhID0gYXRvYihiYXNlNjRDb29raWUpXG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gSlNPTi5wYXJzZSh0b2tlbkRhdGEpXG4gICAgICAgICAgICAgICAgaWYgKCdhY2Nlc3NUb2tlbicgaW4gdG9rZW5zICYmIHRva2Vucy5hY2Nlc3NUb2tlbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdXRoID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBiZWFyZXIgJHt0b2tlbnMuYWNjZXNzVG9rZW59YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQWNjZXB0LUxhbmd1YWdlJzogJ2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXV0aFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGdldENvb2tpZSA9ICh7dXJsLCBuYW1lfSkgPT4ge1xuICAgIGlmIChsb2NhdGlvbi5wcm90b2NvbC5tYXRjaCgvXmh0dHAvKSkge1xuICAgICAgICByZXR1cm4gYnJvd3Nlci5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2dldC1jb29raWUnLFxuICAgICAgICAgICAgb3B0aW9uczoge3VybCwgbmFtZX1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmNvb2tpZVxuICAgICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBicm93c2VyLmNvb2tpZXMuZ2V0KHt1cmwsIG5hbWV9KVxuICAgIH1cbn1cblxuY29uc3QgZ2V0RmV0Y2hQYXJhbXMgPSAocGF0aCwgc2VhcmNoLCBhdXRoLCBtb25pdG9yX3F1YXJhbnRpbmVkX3JlbW90ZSkgPT4ge1xuICAgIGlmICghIGF1dGggfHwgYXV0aCA9PT0gTk9fQVVUSCkge1xuICAgICAgICBsZXQgdXJsID0gKG1vbml0b3JfcXVhcmFudGluZWRfcmVtb3RlID8gV1dXX1JFVkVERElUIDogd3d3X3JlZGRpdCkrcGF0aFxuICAgICAgICBpZiAocGF0aCA9PT0gJ2FwaS9pbmZvJykge1xuICAgICAgICAgICAgdXJsICs9ICcuanNvbidcbiAgICAgICAgfVxuICAgICAgICB1cmwgKz0gc2VhcmNoXG4gICAgICAgIHJldHVybiBbdXJsXVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBob3N0ID0gb2F1dGhfcmVkZGl0XG4gICAgICAgIGxldCBwYXRoX2FuZF9zZWFyY2ggPSBwYXRoK3NlYXJjaFxuICAgICAgICBpZiAobW9uaXRvcl9xdWFyYW50aW5lZF9yZW1vdGUpIHtcbiAgICAgICAgICAgIGhvc3QgPSBPQVVUSF9SRVZFRERJVFxuICAgICAgICAgICAgcGF0aF9hbmRfc2VhcmNoICs9ICcmZ2l2ZV9pdF90b19tZT0xJ1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVybCA9IGhvc3QrcGF0aF9hbmRfc2VhcmNoXG4gICAgICAgIHJldHVybiBbdXJsLCBhdXRoXVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldExvY2FsT3JBcHBBdXRoID0gKCkgPT4ge1xuICAgIHJldHVybiBnZXRMb2NhbEF1dGgoKVxuICAgIC50aGVuKGF1dGggPT4ge1xuICAgICAgICBpZiAoYXV0aCkgcmV0dXJuIGF1dGhcbiAgICAgICAgcmV0dXJuIGdldEF1dGgoKVxuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxufVxuXG5leHBvcnQgY29uc3QgZ2V0TG9nZ2VkaW5Vc2VyID0gKCkgPT4ge1xuICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly93d3cucmVkZGl0LmNvbS9hcGkvbWUuanNvbicpXG4gICAgLnRoZW4oaGFuZGxlRmV0Y2hFcnJvcnMpXG4gICAgLnRoZW4oZ2V0UmVkZGl0VXNlcm5hbWUpXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxufVxuXG5jb25zdCBnZXRSZWRkaXRVc2VybmFtZSA9IChkYXRhKSA9PiB7XG4gICAgaWYgKCEgZGF0YSB8fCAhIGRhdGEuZGF0YSB8fCAhIGRhdGEuZGF0YS5uYW1lKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdyZWRkaXQgdXNlcm5hbWUgaXMgbm90IGRlZmluZWQnKVxuICAgIH1cbiAgICByZXR1cm4gZGF0YS5kYXRhLm5hbWVcbn1cbiIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiLCBbXCJtb2R1bGVcIl0sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgZmFjdG9yeShtb2R1bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciBtb2QgPSB7XG4gICAgICBleHBvcnRzOiB7fVxuICAgIH07XG4gICAgZmFjdG9yeShtb2QpO1xuICAgIGdsb2JhbC5icm93c2VyID0gbW9kLmV4cG9ydHM7XG4gIH1cbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgLyogd2ViZXh0ZW5zaW9uLXBvbHlmaWxsIC0gdjAuNS4wIC0gVGh1IFNlcCAyNiAyMDE5IDIyOjIyOjI2ICovXG4gIC8qIC0qLSBNb2RlOiBpbmRlbnQtdGFicy1tb2RlOiBuaWw7IGpzLWluZGVudC1sZXZlbDogMiAtKi0gKi9cbiAgLyogdmltOiBzZXQgc3RzPTIgc3c9MiBldCB0dz04MDogKi9cbiAgLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICAgKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gICAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGlmICh0eXBlb2YgYnJvd3NlciA9PT0gXCJ1bmRlZmluZWRcIiB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYnJvd3NlcikgIT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICBjb25zdCBDSFJPTUVfU0VORF9NRVNTQUdFX0NBTExCQUNLX05PX1JFU1BPTlNFX01FU1NBR0UgPSBcIlRoZSBtZXNzYWdlIHBvcnQgY2xvc2VkIGJlZm9yZSBhIHJlc3BvbnNlIHdhcyByZWNlaXZlZC5cIjtcbiAgICBjb25zdCBTRU5EX1JFU1BPTlNFX0RFUFJFQ0FUSU9OX1dBUk5JTkcgPSBcIlJldHVybmluZyBhIFByb21pc2UgaXMgdGhlIHByZWZlcnJlZCB3YXkgdG8gc2VuZCBhIHJlcGx5IGZyb20gYW4gb25NZXNzYWdlL29uTWVzc2FnZUV4dGVybmFsIGxpc3RlbmVyLCBhcyB0aGUgc2VuZFJlc3BvbnNlIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBzcGVjcyAoU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvTW96aWxsYS9BZGQtb25zL1dlYkV4dGVuc2lvbnMvQVBJL3J1bnRpbWUvb25NZXNzYWdlKVwiO1xuXG4gICAgLy8gV3JhcHBpbmcgdGhlIGJ1bGsgb2YgdGhpcyBwb2x5ZmlsbCBpbiBhIG9uZS10aW1lLXVzZSBmdW5jdGlvbiBpcyBhIG1pbm9yXG4gICAgLy8gb3B0aW1pemF0aW9uIGZvciBGaXJlZm94LiBTaW5jZSBTcGlkZXJtb25rZXkgZG9lcyBub3QgZnVsbHkgcGFyc2UgdGhlXG4gICAgLy8gY29udGVudHMgb2YgYSBmdW5jdGlvbiB1bnRpbCB0aGUgZmlyc3QgdGltZSBpdCdzIGNhbGxlZCwgYW5kIHNpbmNlIGl0IHdpbGxcbiAgICAvLyBuZXZlciBhY3R1YWxseSBuZWVkIHRvIGJlIGNhbGxlZCwgdGhpcyBhbGxvd3MgdGhlIHBvbHlmaWxsIHRvIGJlIGluY2x1ZGVkXG4gICAgLy8gaW4gRmlyZWZveCBuZWFybHkgZm9yIGZyZWUuXG4gICAgY29uc3Qgd3JhcEFQSXMgPSBleHRlbnNpb25BUElzID0+IHtcbiAgICAgIC8vIE5PVEU6IGFwaU1ldGFkYXRhIGlzIGFzc29jaWF0ZWQgdG8gdGhlIGNvbnRlbnQgb2YgdGhlIGFwaS1tZXRhZGF0YS5qc29uIGZpbGVcbiAgICAgIC8vIGF0IGJ1aWxkIHRpbWUgYnkgcmVwbGFjaW5nIHRoZSBmb2xsb3dpbmcgXCJpbmNsdWRlXCIgd2l0aCB0aGUgY29udGVudCBvZiB0aGVcbiAgICAgIC8vIEpTT04gZmlsZS5cbiAgICAgIGNvbnN0IGFwaU1ldGFkYXRhID0ge1xuICAgICAgICBcImFsYXJtc1wiOiB7XG4gICAgICAgICAgXCJjbGVhclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImNsZWFyQWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYm9va21hcmtzXCI6IHtcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldENoaWxkcmVuXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UmVjZW50XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0U3ViVHJlZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFRyZWVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlVHJlZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlYXJjaFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImJyb3dzZXJBY3Rpb25cIjoge1xuICAgICAgICAgIFwiZGlzYWJsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImVuYWJsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEJhZGdlQmFja2dyb3VuZENvbG9yXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QmFkZ2VUZXh0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRUaXRsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm9wZW5Qb3B1cFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldEJhZGdlQmFja2dyb3VuZENvbG9yXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0QmFkZ2VUZXh0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0SWNvblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJicm93c2luZ0RhdGFcIjoge1xuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlQ2FjaGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVDb29raWVzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlRG93bmxvYWRzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlRm9ybURhdGFcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVIaXN0b3J5XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlTG9jYWxTdG9yYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlUGFzc3dvcmRzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlUGx1Z2luRGF0YVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldHRpbmdzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiY29tbWFuZHNcIjoge1xuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiY29udGV4dE1lbnVzXCI6IHtcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImNvb2tpZXNcIjoge1xuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsQ29va2llU3RvcmVzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGV2dG9vbHNcIjoge1xuICAgICAgICAgIFwiaW5zcGVjdGVkV2luZG93XCI6IHtcbiAgICAgICAgICAgIFwiZXZhbFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMixcbiAgICAgICAgICAgICAgXCJzaW5nbGVDYWxsYmFja0FyZ1wiOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJwYW5lbHNcIjoge1xuICAgICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMyxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDMsXG4gICAgICAgICAgICAgIFwic2luZ2xlQ2FsbGJhY2tBcmdcIjogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJkb3dubG9hZHNcIjoge1xuICAgICAgICAgIFwiY2FuY2VsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZG93bmxvYWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJlcmFzZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEZpbGVJY29uXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwib3BlblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInBhdXNlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlRmlsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlc3VtZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlYXJjaFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNob3dcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJleHRlbnNpb25cIjoge1xuICAgICAgICAgIFwiaXNBbGxvd2VkRmlsZVNjaGVtZUFjY2Vzc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImlzQWxsb3dlZEluY29nbml0b0FjY2Vzc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImhpc3RvcnlcIjoge1xuICAgICAgICAgIFwiYWRkVXJsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGVsZXRlQWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGVsZXRlUmFuZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZWxldGVVcmxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRWaXNpdHNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZWFyY2hcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpMThuXCI6IHtcbiAgICAgICAgICBcImRldGVjdExhbmd1YWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWNjZXB0TGFuZ3VhZ2VzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiaWRlbnRpdHlcIjoge1xuICAgICAgICAgIFwibGF1bmNoV2ViQXV0aEZsb3dcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpZGxlXCI6IHtcbiAgICAgICAgICBcInF1ZXJ5U3RhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJtYW5hZ2VtZW50XCI6IHtcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFNlbGZcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRFbmFibGVkXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwidW5pbnN0YWxsU2VsZlwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIm5vdGlmaWNhdGlvbnNcIjoge1xuICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRQZXJtaXNzaW9uTGV2ZWxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJwYWdlQWN0aW9uXCI6IHtcbiAgICAgICAgICBcImdldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJoaWRlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0SWNvblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzaG93XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicGVybWlzc2lvbnNcIjoge1xuICAgICAgICAgIFwiY29udGFpbnNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZXF1ZXN0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicnVudGltZVwiOiB7XG4gICAgICAgICAgXCJnZXRCYWNrZ3JvdW5kUGFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFBsYXRmb3JtSW5mb1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm9wZW5PcHRpb25zUGFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlcXVlc3RVcGRhdGVDaGVja1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlbmRNZXNzYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDNcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2VuZE5hdGl2ZU1lc3NhZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRVbmluc3RhbGxVUkxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXNzaW9uc1wiOiB7XG4gICAgICAgICAgXCJnZXREZXZpY2VzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UmVjZW50bHlDbG9zZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZXN0b3JlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic3RvcmFnZVwiOiB7XG4gICAgICAgICAgXCJsb2NhbFwiOiB7XG4gICAgICAgICAgICBcImNsZWFyXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm1hbmFnZWRcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic3luY1wiOiB7XG4gICAgICAgICAgICBcImNsZWFyXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInRhYnNcIjoge1xuICAgICAgICAgIFwiY2FwdHVyZVZpc2libGVUYWJcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZXRlY3RMYW5ndWFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImRpc2NhcmRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkdXBsaWNhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJleGVjdXRlU2NyaXB0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0Q3VycmVudFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFpvb21cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRab29tU2V0dGluZ3NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJoaWdobGlnaHRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJpbnNlcnRDU1NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicXVlcnlcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZWxvYWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVDU1NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZW5kTWVzc2FnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAzXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFpvb21cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRab29tU2V0dGluZ3NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0b3BTaXRlc1wiOiB7XG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ3ZWJOYXZpZ2F0aW9uXCI6IHtcbiAgICAgICAgICBcImdldEFsbEZyYW1lc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEZyYW1lXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwid2ViUmVxdWVzdFwiOiB7XG4gICAgICAgICAgXCJoYW5kbGVyQmVoYXZpb3JDaGFuZ2VkXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwid2luZG93c1wiOiB7XG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRDdXJyZW50XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0TGFzdEZvY3VzZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKE9iamVjdC5rZXlzKGFwaU1ldGFkYXRhKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXBpLW1ldGFkYXRhLmpzb24gaGFzIG5vdCBiZWVuIGluY2x1ZGVkIGluIGJyb3dzZXItcG9seWZpbGxcIik7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQSBXZWFrTWFwIHN1YmNsYXNzIHdoaWNoIGNyZWF0ZXMgYW5kIHN0b3JlcyBhIHZhbHVlIGZvciBhbnkga2V5IHdoaWNoIGRvZXNcbiAgICAgICAqIG5vdCBleGlzdCB3aGVuIGFjY2Vzc2VkLCBidXQgYmVoYXZlcyBleGFjdGx5IGFzIGFuIG9yZGluYXJ5IFdlYWtNYXBcbiAgICAgICAqIG90aGVyd2lzZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjcmVhdGVJdGVtXG4gICAgICAgKiAgICAgICAgQSBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCBpbiBvcmRlciB0byBjcmVhdGUgdGhlIHZhbHVlIGZvciBhbnlcbiAgICAgICAqICAgICAgICBrZXkgd2hpY2ggZG9lcyBub3QgZXhpc3QsIHRoZSBmaXJzdCB0aW1lIGl0IGlzIGFjY2Vzc2VkLiBUaGVcbiAgICAgICAqICAgICAgICBmdW5jdGlvbiByZWNlaXZlcywgYXMgaXRzIG9ubHkgYXJndW1lbnQsIHRoZSBrZXkgYmVpbmcgY3JlYXRlZC5cbiAgICAgICAqL1xuICAgICAgY2xhc3MgRGVmYXVsdFdlYWtNYXAgZXh0ZW5kcyBXZWFrTWFwIHtcbiAgICAgICAgY29uc3RydWN0b3IoY3JlYXRlSXRlbSwgaXRlbXMgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzdXBlcihpdGVtcyk7XG4gICAgICAgICAgdGhpcy5jcmVhdGVJdGVtID0gY3JlYXRlSXRlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldChrZXkpIHtcbiAgICAgICAgICBpZiAoIXRoaXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdGhpcy5jcmVhdGVJdGVtKGtleSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzdXBlci5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGFuIG9iamVjdCB3aXRoIGEgYHRoZW5gIG1ldGhvZCwgYW5kIGNhblxuICAgICAgICogdGhlcmVmb3JlIGJlIGFzc3VtZWQgdG8gYmVoYXZlIGFzIGEgUHJvbWlzZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0ZXN0LlxuICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHRoZW5hYmxlLlxuICAgICAgICovXG4gICAgICBjb25zdCBpc1RoZW5hYmxlID0gdmFsdWUgPT4ge1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBmdW5jdGlvbiB3aGljaCwgd2hlbiBjYWxsZWQsIHdpbGwgcmVzb2x2ZSBvciByZWplY3RcbiAgICAgICAqIHRoZSBnaXZlbiBwcm9taXNlIGJhc2VkIG9uIGhvdyBpdCBpcyBjYWxsZWQ6XG4gICAgICAgKlxuICAgICAgICogLSBJZiwgd2hlbiBjYWxsZWQsIGBjaHJvbWUucnVudGltZS5sYXN0RXJyb3JgIGNvbnRhaW5zIGEgbm9uLW51bGwgb2JqZWN0LFxuICAgICAgICogICB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCB3aXRoIHRoYXQgdmFsdWUuXG4gICAgICAgKiAtIElmIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBleGFjdGx5IG9uZSBhcmd1bWVudCwgdGhlIHByb21pc2UgaXNcbiAgICAgICAqICAgcmVzb2x2ZWQgdG8gdGhhdCB2YWx1ZS5cbiAgICAgICAqIC0gT3RoZXJ3aXNlLCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCB0byBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGVcbiAgICAgICAqICAgZnVuY3Rpb24ncyBhcmd1bWVudHMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHByb21pc2VcbiAgICAgICAqICAgICAgICBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgcmVzb2x1dGlvbiBhbmQgcmVqZWN0aW9uIGZ1bmN0aW9ucyBvZiBhXG4gICAgICAgKiAgICAgICAgcHJvbWlzZS5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHByb21pc2UucmVzb2x2ZVxuICAgICAgICogICAgICAgIFRoZSBwcm9taXNlJ3MgcmVzb2x1dGlvbiBmdW5jdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHByb21pc2UucmVqZWN0aW9uXG4gICAgICAgKiAgICAgICAgVGhlIHByb21pc2UncyByZWplY3Rpb24gZnVuY3Rpb24uXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gbWV0YWRhdGFcbiAgICAgICAqICAgICAgICBNZXRhZGF0YSBhYm91dCB0aGUgd3JhcHBlZCBtZXRob2Qgd2hpY2ggaGFzIGNyZWF0ZWQgdGhlIGNhbGxiYWNrLlxuICAgICAgICogQHBhcmFtIHtpbnRlZ2VyfSBtZXRhZGF0YS5tYXhSZXNvbHZlZEFyZ3NcbiAgICAgICAqICAgICAgICBUaGUgbWF4aW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHdoaWNoIG1heSBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICAgKiAgICAgICAgY2FsbGJhY2sgY3JlYXRlZCBieSB0aGUgd3JhcHBlZCBhc3luYyBmdW5jdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gICAgICAgKiAgICAgICAgVGhlIGdlbmVyYXRlZCBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgICAqL1xuICAgICAgY29uc3QgbWFrZUNhbGxiYWNrID0gKHByb21pc2UsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiAoLi4uY2FsbGJhY2tBcmdzKSA9PiB7XG4gICAgICAgICAgaWYgKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IpIHtcbiAgICAgICAgICAgIHByb21pc2UucmVqZWN0KGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobWV0YWRhdGEuc2luZ2xlQ2FsbGJhY2tBcmcgfHwgY2FsbGJhY2tBcmdzLmxlbmd0aCA8PSAxICYmIG1ldGFkYXRhLnNpbmdsZUNhbGxiYWNrQXJnICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKGNhbGxiYWNrQXJnc1swXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZShjYWxsYmFja0FyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHBsdXJhbGl6ZUFyZ3VtZW50cyA9IG51bUFyZ3MgPT4gbnVtQXJncyA9PSAxID8gXCJhcmd1bWVudFwiIDogXCJhcmd1bWVudHNcIjtcblxuICAgICAgLyoqXG4gICAgICAgKiBDcmVhdGVzIGEgd3JhcHBlciBmdW5jdGlvbiBmb3IgYSBtZXRob2Qgd2l0aCB0aGUgZ2l2ZW4gbmFtZSBhbmQgbWV0YWRhdGEuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgICAqICAgICAgICBUaGUgbmFtZSBvZiB0aGUgbWV0aG9kIHdoaWNoIGlzIGJlaW5nIHdyYXBwZWQuXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gbWV0YWRhdGFcbiAgICAgICAqICAgICAgICBNZXRhZGF0YSBhYm91dCB0aGUgbWV0aG9kIGJlaW5nIHdyYXBwZWQuXG4gICAgICAgKiBAcGFyYW0ge2ludGVnZXJ9IG1ldGFkYXRhLm1pbkFyZ3NcbiAgICAgICAqICAgICAgICBUaGUgbWluaW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHdoaWNoIG11c3QgYmUgcGFzc2VkIHRvIHRoZVxuICAgICAgICogICAgICAgIGZ1bmN0aW9uLiBJZiBjYWxsZWQgd2l0aCBmZXdlciB0aGFuIHRoaXMgbnVtYmVyIG9mIGFyZ3VtZW50cywgdGhlXG4gICAgICAgKiAgICAgICAgd3JhcHBlciB3aWxsIHJhaXNlIGFuIGV4Y2VwdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7aW50ZWdlcn0gbWV0YWRhdGEubWF4QXJnc1xuICAgICAgICogICAgICAgIFRoZSBtYXhpbXVtIG51bWJlciBvZiBhcmd1bWVudHMgd2hpY2ggbWF5IGJlIHBhc3NlZCB0byB0aGVcbiAgICAgICAqICAgICAgICBmdW5jdGlvbi4gSWYgY2FsbGVkIHdpdGggbW9yZSB0aGFuIHRoaXMgbnVtYmVyIG9mIGFyZ3VtZW50cywgdGhlXG4gICAgICAgKiAgICAgICAgd3JhcHBlciB3aWxsIHJhaXNlIGFuIGV4Y2VwdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7aW50ZWdlcn0gbWV0YWRhdGEubWF4UmVzb2x2ZWRBcmdzXG4gICAgICAgKiAgICAgICAgVGhlIG1heGltdW0gbnVtYmVyIG9mIGFyZ3VtZW50cyB3aGljaCBtYXkgYmUgcGFzc2VkIHRvIHRoZVxuICAgICAgICogICAgICAgIGNhbGxiYWNrIGNyZWF0ZWQgYnkgdGhlIHdyYXBwZWQgYXN5bmMgZnVuY3Rpb24uXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKG9iamVjdCwgLi4uKil9XG4gICAgICAgKiAgICAgICBUaGUgZ2VuZXJhdGVkIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IHdyYXBBc3luY0Z1bmN0aW9uID0gKG5hbWUsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBhc3luY0Z1bmN0aW9uV3JhcHBlcih0YXJnZXQsIC4uLmFyZ3MpIHtcbiAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPCBtZXRhZGF0YS5taW5BcmdzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0ICR7bWV0YWRhdGEubWluQXJnc30gJHtwbHVyYWxpemVBcmd1bWVudHMobWV0YWRhdGEubWluQXJncyl9IGZvciAke25hbWV9KCksIGdvdCAke2FyZ3MubGVuZ3RofWApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IG1ldGFkYXRhLm1heEFyZ3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXQgbW9zdCAke21ldGFkYXRhLm1heEFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1heEFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKG1ldGFkYXRhLmZhbGxiYWNrVG9Ob0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgQVBJIG1ldGhvZCBoYXMgY3VycmVudGx5IG5vIGNhbGxiYWNrIG9uIENocm9tZSwgYnV0IGl0IHJldHVybiBhIHByb21pc2Ugb24gRmlyZWZveCxcbiAgICAgICAgICAgICAgLy8gYW5kIHNvIHRoZSBwb2x5ZmlsbCB3aWxsIHRyeSB0byBjYWxsIGl0IHdpdGggYSBjYWxsYmFjayBmaXJzdCwgYW5kIGl0IHdpbGwgZmFsbGJhY2tcbiAgICAgICAgICAgICAgLy8gdG8gbm90IHBhc3NpbmcgdGhlIGNhbGxiYWNrIGlmIHRoZSBmaXJzdCBjYWxsIGZhaWxzLlxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzLCBtYWtlQ2FsbGJhY2soeyByZXNvbHZlLCByZWplY3QgfSwgbWV0YWRhdGEpKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoY2JFcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgJHtuYW1lfSBBUEkgbWV0aG9kIGRvZXNuJ3Qgc2VlbSB0byBzdXBwb3J0IHRoZSBjYWxsYmFjayBwYXJhbWV0ZXIsIGAgKyBcImZhbGxpbmcgYmFjayB0byBjYWxsIGl0IHdpdGhvdXQgYSBjYWxsYmFjazogXCIsIGNiRXJyb3IpO1xuXG4gICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdKC4uLmFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBBUEkgbWV0aG9kIG1ldGFkYXRhLCBzbyB0aGF0IHRoZSBuZXh0IEFQSSBjYWxscyB3aWxsIG5vdCB0cnkgdG9cbiAgICAgICAgICAgICAgICAvLyB1c2UgdGhlIHVuc3VwcG9ydGVkIGNhbGxiYWNrIGFueW1vcmUuXG4gICAgICAgICAgICAgICAgbWV0YWRhdGEuZmFsbGJhY2tUb05vQ2FsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YS5ub0NhbGxiYWNrID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChtZXRhZGF0YS5ub0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdKC4uLmFyZ3MsIG1ha2VDYWxsYmFjayh7IHJlc29sdmUsIHJlamVjdCB9LCBtZXRhZGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBXcmFwcyBhbiBleGlzdGluZyBtZXRob2Qgb2YgdGhlIHRhcmdldCBvYmplY3QsIHNvIHRoYXQgY2FsbHMgdG8gaXQgYXJlXG4gICAgICAgKiBpbnRlcmNlcHRlZCBieSB0aGUgZ2l2ZW4gd3JhcHBlciBmdW5jdGlvbi4gVGhlIHdyYXBwZXIgZnVuY3Rpb24gcmVjZWl2ZXMsXG4gICAgICAgKiBhcyBpdHMgZmlyc3QgYXJndW1lbnQsIHRoZSBvcmlnaW5hbCBgdGFyZ2V0YCBvYmplY3QsIGZvbGxvd2VkIGJ5IGVhY2ggb2ZcbiAgICAgICAqIHRoZSBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBvcmlnaW5hbCBtZXRob2QuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHRhcmdldFxuICAgICAgICogICAgICAgIFRoZSBvcmlnaW5hbCB0YXJnZXQgb2JqZWN0IHRoYXQgdGhlIHdyYXBwZWQgbWV0aG9kIGJlbG9uZ3MgdG8uXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtZXRob2RcbiAgICAgICAqICAgICAgICBUaGUgbWV0aG9kIGJlaW5nIHdyYXBwZWQuIFRoaXMgaXMgdXNlZCBhcyB0aGUgdGFyZ2V0IG9mIHRoZSBQcm94eVxuICAgICAgICogICAgICAgIG9iamVjdCB3aGljaCBpcyBjcmVhdGVkIHRvIHdyYXAgdGhlIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHdyYXBwZXJcbiAgICAgICAqICAgICAgICBUaGUgd3JhcHBlciBmdW5jdGlvbiB3aGljaCBpcyBjYWxsZWQgaW4gcGxhY2Ugb2YgYSBkaXJlY3QgaW52b2NhdGlvblxuICAgICAgICogICAgICAgIG9mIHRoZSB3cmFwcGVkIG1ldGhvZC5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7UHJveHk8ZnVuY3Rpb24+fVxuICAgICAgICogICAgICAgIEEgUHJveHkgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gbWV0aG9kLCB3aGljaCBpbnZva2VzIHRoZSBnaXZlbiB3cmFwcGVyXG4gICAgICAgKiAgICAgICAgbWV0aG9kIGluIGl0cyBwbGFjZS5cbiAgICAgICAqL1xuICAgICAgY29uc3Qgd3JhcE1ldGhvZCA9ICh0YXJnZXQsIG1ldGhvZCwgd3JhcHBlcikgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KG1ldGhvZCwge1xuICAgICAgICAgIGFwcGx5KHRhcmdldE1ldGhvZCwgdGhpc09iaiwgYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIuY2FsbCh0aGlzT2JqLCB0YXJnZXQsIC4uLmFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBsZXQgaGFzT3duUHJvcGVydHkgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG5cbiAgICAgIC8qKlxuICAgICAgICogV3JhcHMgYW4gb2JqZWN0IGluIGEgUHJveHkgd2hpY2ggaW50ZXJjZXB0cyBhbmQgd3JhcHMgY2VydGFpbiBtZXRob2RzXG4gICAgICAgKiBiYXNlZCBvbiB0aGUgZ2l2ZW4gYHdyYXBwZXJzYCBhbmQgYG1ldGFkYXRhYCBvYmplY3RzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXRcbiAgICAgICAqICAgICAgICBUaGUgdGFyZ2V0IG9iamVjdCB0byB3cmFwLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbd3JhcHBlcnMgPSB7fV1cbiAgICAgICAqICAgICAgICBBbiBvYmplY3QgdHJlZSBjb250YWluaW5nIHdyYXBwZXIgZnVuY3Rpb25zIGZvciBzcGVjaWFsIGNhc2VzLiBBbnlcbiAgICAgICAqICAgICAgICBmdW5jdGlvbiBwcmVzZW50IGluIHRoaXMgb2JqZWN0IHRyZWUgaXMgY2FsbGVkIGluIHBsYWNlIG9mIHRoZVxuICAgICAgICogICAgICAgIG1ldGhvZCBpbiB0aGUgc2FtZSBsb2NhdGlvbiBpbiB0aGUgYHRhcmdldGAgb2JqZWN0IHRyZWUuIFRoZXNlXG4gICAgICAgKiAgICAgICAgd3JhcHBlciBtZXRob2RzIGFyZSBpbnZva2VkIGFzIGRlc2NyaWJlZCBpbiB7QHNlZSB3cmFwTWV0aG9kfS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gW21ldGFkYXRhID0ge31dXG4gICAgICAgKiAgICAgICAgQW4gb2JqZWN0IHRyZWUgY29udGFpbmluZyBtZXRhZGF0YSB1c2VkIHRvIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVcbiAgICAgICAqICAgICAgICBQcm9taXNlLWJhc2VkIHdyYXBwZXIgZnVuY3Rpb25zIGZvciBhc3luY2hyb25vdXMuIEFueSBmdW5jdGlvbiBpblxuICAgICAgICogICAgICAgIHRoZSBgdGFyZ2V0YCBvYmplY3QgdHJlZSB3aGljaCBoYXMgYSBjb3JyZXNwb25kaW5nIG1ldGFkYXRhIG9iamVjdFxuICAgICAgICogICAgICAgIGluIHRoZSBzYW1lIGxvY2F0aW9uIGluIHRoZSBgbWV0YWRhdGFgIHRyZWUgaXMgcmVwbGFjZWQgd2l0aCBhblxuICAgICAgICogICAgICAgIGF1dG9tYXRpY2FsbHktZ2VuZXJhdGVkIHdyYXBwZXIgZnVuY3Rpb24sIGFzIGRlc2NyaWJlZCBpblxuICAgICAgICogICAgICAgIHtAc2VlIHdyYXBBc3luY0Z1bmN0aW9ufVxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtQcm94eTxvYmplY3Q+fVxuICAgICAgICovXG4gICAgICBjb25zdCB3cmFwT2JqZWN0ID0gKHRhcmdldCwgd3JhcHBlcnMgPSB7fSwgbWV0YWRhdGEgPSB7fSkgPT4ge1xuICAgICAgICBsZXQgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB7XG4gICAgICAgICAgaGFzKHByb3h5VGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcCBpbiB0YXJnZXQgfHwgcHJvcCBpbiBjYWNoZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZ2V0KHByb3h5VGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgaWYgKHByb3AgaW4gY2FjaGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlW3Byb3BdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIShwcm9wIGluIHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGFyZ2V0W3Byb3BdO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG1ldGhvZCBvbiB0aGUgdW5kZXJseWluZyBvYmplY3QuIENoZWNrIGlmIHdlIG5lZWQgdG8gZG9cbiAgICAgICAgICAgICAgLy8gYW55IHdyYXBwaW5nLlxuXG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygd3JhcHBlcnNbcHJvcF0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBzcGVjaWFsLWNhc2Ugd3JhcHBlciBmb3IgdGhpcyBtZXRob2QuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB3cmFwTWV0aG9kKHRhcmdldCwgdGFyZ2V0W3Byb3BdLCB3cmFwcGVyc1twcm9wXSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzT3duUHJvcGVydHkobWV0YWRhdGEsIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhbiBhc3luYyBtZXRob2QgdGhhdCB3ZSBoYXZlIG1ldGFkYXRhIGZvci4gQ3JlYXRlIGFcbiAgICAgICAgICAgICAgICAvLyBQcm9taXNlIHdyYXBwZXIgZm9yIGl0LlxuICAgICAgICAgICAgICAgIGxldCB3cmFwcGVyID0gd3JhcEFzeW5jRnVuY3Rpb24ocHJvcCwgbWV0YWRhdGFbcHJvcF0pO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gd3JhcE1ldGhvZCh0YXJnZXQsIHRhcmdldFtwcm9wXSwgd3JhcHBlcik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG1ldGhvZCB0aGF0IHdlIGRvbid0IGtub3cgb3IgY2FyZSBhYm91dC4gUmV0dXJuIHRoZVxuICAgICAgICAgICAgICAgIC8vIG9yaWdpbmFsIG1ldGhvZCwgYm91bmQgdG8gdGhlIHVuZGVybHlpbmcgb2JqZWN0LlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuYmluZCh0YXJnZXQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAoaGFzT3duUHJvcGVydHkod3JhcHBlcnMsIHByb3ApIHx8IGhhc093blByb3BlcnR5KG1ldGFkYXRhLCBwcm9wKSkpIHtcbiAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhbiBvYmplY3QgdGhhdCB3ZSBuZWVkIHRvIGRvIHNvbWUgd3JhcHBpbmcgZm9yIHRoZSBjaGlsZHJlblxuICAgICAgICAgICAgICAvLyBvZi4gQ3JlYXRlIGEgc3ViLW9iamVjdCB3cmFwcGVyIGZvciBpdCB3aXRoIHRoZSBhcHByb3ByaWF0ZSBjaGlsZFxuICAgICAgICAgICAgICAvLyBtZXRhZGF0YS5cbiAgICAgICAgICAgICAgdmFsdWUgPSB3cmFwT2JqZWN0KHZhbHVlLCB3cmFwcGVyc1twcm9wXSwgbWV0YWRhdGFbcHJvcF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBkbyBhbnkgd3JhcHBpbmcgZm9yIHRoaXMgcHJvcGVydHksXG4gICAgICAgICAgICAgIC8vIHNvIGp1c3QgZm9yd2FyZCBhbGwgYWNjZXNzIHRvIHRoZSB1bmRlcmx5aW5nIG9iamVjdC5cbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNhY2hlLCBwcm9wLCB7XG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhY2hlW3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHNldChwcm94eVRhcmdldCwgcHJvcCwgdmFsdWUsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICBpZiAocHJvcCBpbiBjYWNoZSkge1xuICAgICAgICAgICAgICBjYWNoZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkocHJveHlUYXJnZXQsIHByb3AsIGRlc2MpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlZmluZVByb3BlcnR5KGNhY2hlLCBwcm9wLCBkZXNjKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZGVsZXRlUHJvcGVydHkocHJveHlUYXJnZXQsIHByb3ApIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KGNhY2hlLCBwcm9wKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUGVyIGNvbnRyYWN0IG9mIHRoZSBQcm94eSBBUEksIHRoZSBcImdldFwiIHByb3h5IGhhbmRsZXIgbXVzdCByZXR1cm4gdGhlXG4gICAgICAgIC8vIG9yaWdpbmFsIHZhbHVlIG9mIHRoZSB0YXJnZXQgaWYgdGhhdCB2YWx1ZSBpcyBkZWNsYXJlZCByZWFkLW9ubHkgYW5kXG4gICAgICAgIC8vIG5vbi1jb25maWd1cmFibGUuIEZvciB0aGlzIHJlYXNvbiwgd2UgY3JlYXRlIGFuIG9iamVjdCB3aXRoIHRoZVxuICAgICAgICAvLyBwcm90b3R5cGUgc2V0IHRvIGB0YXJnZXRgIGluc3RlYWQgb2YgdXNpbmcgYHRhcmdldGAgZGlyZWN0bHkuXG4gICAgICAgIC8vIE90aGVyd2lzZSB3ZSBjYW5ub3QgcmV0dXJuIGEgY3VzdG9tIG9iamVjdCBmb3IgQVBJcyB0aGF0XG4gICAgICAgIC8vIGFyZSBkZWNsYXJlZCByZWFkLW9ubHkgYW5kIG5vbi1jb25maWd1cmFibGUsIHN1Y2ggYXMgYGNocm9tZS5kZXZ0b29sc2AuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBwcm94eSBoYW5kbGVycyB0aGVtc2VsdmVzIHdpbGwgc3RpbGwgdXNlIHRoZSBvcmlnaW5hbCBgdGFyZ2V0YFxuICAgICAgICAvLyBpbnN0ZWFkIG9mIHRoZSBgcHJveHlUYXJnZXRgLCBzbyB0aGF0IHRoZSBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFyZVxuICAgICAgICAvLyBkZXJlZmVyZW5jZWQgdmlhIHRoZSBvcmlnaW5hbCB0YXJnZXRzLlxuICAgICAgICBsZXQgcHJveHlUYXJnZXQgPSBPYmplY3QuY3JlYXRlKHRhcmdldCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkocHJveHlUYXJnZXQsIGhhbmRsZXJzKTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlcyBhIHNldCBvZiB3cmFwcGVyIGZ1bmN0aW9ucyBmb3IgYW4gZXZlbnQgb2JqZWN0LCB3aGljaCBoYW5kbGVzXG4gICAgICAgKiB3cmFwcGluZyBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdGhhdCB0aG9zZSBtZXNzYWdlcyBhcmUgcGFzc2VkLlxuICAgICAgICpcbiAgICAgICAqIEEgc2luZ2xlIHdyYXBwZXIgaXMgY3JlYXRlZCBmb3IgZWFjaCBsaXN0ZW5lciBmdW5jdGlvbiwgYW5kIHN0b3JlZCBpbiBhXG4gICAgICAgKiBtYXAuIFN1YnNlcXVlbnQgY2FsbHMgdG8gYGFkZExpc3RlbmVyYCwgYGhhc0xpc3RlbmVyYCwgb3IgYHJlbW92ZUxpc3RlbmVyYFxuICAgICAgICogcmV0cmlldmUgdGhlIG9yaWdpbmFsIHdyYXBwZXIsIHNvIHRoYXQgIGF0dGVtcHRzIHRvIHJlbW92ZSBhXG4gICAgICAgKiBwcmV2aW91c2x5LWFkZGVkIGxpc3RlbmVyIHdvcmsgYXMgZXhwZWN0ZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtEZWZhdWx0V2Vha01hcDxmdW5jdGlvbiwgZnVuY3Rpb24+fSB3cmFwcGVyTWFwXG4gICAgICAgKiAgICAgICAgQSBEZWZhdWx0V2Vha01hcCBvYmplY3Qgd2hpY2ggd2lsbCBjcmVhdGUgdGhlIGFwcHJvcHJpYXRlIHdyYXBwZXJcbiAgICAgICAqICAgICAgICBmb3IgYSBnaXZlbiBsaXN0ZW5lciBmdW5jdGlvbiB3aGVuIG9uZSBkb2VzIG5vdCBleGlzdCwgYW5kIHJldHJpZXZlXG4gICAgICAgKiAgICAgICAgYW4gZXhpc3Rpbmcgb25lIHdoZW4gaXQgZG9lcy5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAgICovXG4gICAgICBjb25zdCB3cmFwRXZlbnQgPSB3cmFwcGVyTWFwID0+ICh7XG4gICAgICAgIGFkZExpc3RlbmVyKHRhcmdldCwgbGlzdGVuZXIsIC4uLmFyZ3MpIHtcbiAgICAgICAgICB0YXJnZXQuYWRkTGlzdGVuZXIod3JhcHBlck1hcC5nZXQobGlzdGVuZXIpLCAuLi5hcmdzKTtcbiAgICAgICAgfSxcblxuICAgICAgICBoYXNMaXN0ZW5lcih0YXJnZXQsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgcmV0dXJuIHRhcmdldC5oYXNMaXN0ZW5lcih3cmFwcGVyTWFwLmdldChsaXN0ZW5lcikpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZUxpc3RlbmVyKHRhcmdldCwgbGlzdGVuZXIpIHtcbiAgICAgICAgICB0YXJnZXQucmVtb3ZlTGlzdGVuZXIod3JhcHBlck1hcC5nZXQobGlzdGVuZXIpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIEtlZXAgdHJhY2sgaWYgdGhlIGRlcHJlY2F0aW9uIHdhcm5pbmcgaGFzIGJlZW4gbG9nZ2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgICBsZXQgbG9nZ2VkU2VuZFJlc3BvbnNlRGVwcmVjYXRpb25XYXJuaW5nID0gZmFsc2U7XG5cbiAgICAgIGNvbnN0IG9uTWVzc2FnZVdyYXBwZXJzID0gbmV3IERlZmF1bHRXZWFrTWFwKGxpc3RlbmVyID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdyYXBzIGEgbWVzc2FnZSBsaXN0ZW5lciBmdW5jdGlvbiBzbyB0aGF0IGl0IG1heSBzZW5kIHJlc3BvbnNlcyBiYXNlZCBvblxuICAgICAgICAgKiBpdHMgcmV0dXJuIHZhbHVlLCByYXRoZXIgdGhhbiBieSByZXR1cm5pbmcgYSBzZW50aW5lbCB2YWx1ZSBhbmQgY2FsbGluZyBhXG4gICAgICAgICAqIGNhbGxiYWNrLiBJZiB0aGUgbGlzdGVuZXIgZnVuY3Rpb24gcmV0dXJucyBhIFByb21pc2UsIHRoZSByZXNwb25zZSBpc1xuICAgICAgICAgKiBzZW50IHdoZW4gdGhlIHByb21pc2UgZWl0aGVyIHJlc29sdmVzIG9yIHJlamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gbWVzc2FnZVxuICAgICAgICAgKiAgICAgICAgVGhlIG1lc3NhZ2Ugc2VudCBieSB0aGUgb3RoZXIgZW5kIG9mIHRoZSBjaGFubmVsLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gc2VuZGVyXG4gICAgICAgICAqICAgICAgICBEZXRhaWxzIGFib3V0IHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKil9IHNlbmRSZXNwb25zZVxuICAgICAgICAgKiAgICAgICAgQSBjYWxsYmFjayB3aGljaCwgd2hlbiBjYWxsZWQgd2l0aCBhbiBhcmJpdHJhcnkgYXJndW1lbnQsIHNlbmRzXG4gICAgICAgICAqICAgICAgICB0aGF0IHZhbHVlIGFzIGEgcmVzcG9uc2UuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAgICAgKiAgICAgICAgVHJ1ZSBpZiB0aGUgd3JhcHBlZCBsaXN0ZW5lciByZXR1cm5lZCBhIFByb21pc2UsIHdoaWNoIHdpbGwgbGF0ZXJcbiAgICAgICAgICogICAgICAgIHlpZWxkIGEgcmVzcG9uc2UuIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBvbk1lc3NhZ2UobWVzc2FnZSwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpIHtcbiAgICAgICAgICBsZXQgZGlkQ2FsbFNlbmRSZXNwb25zZSA9IGZhbHNlO1xuXG4gICAgICAgICAgbGV0IHdyYXBwZWRTZW5kUmVzcG9uc2U7XG4gICAgICAgICAgbGV0IHNlbmRSZXNwb25zZVByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHdyYXBwZWRTZW5kUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgaWYgKCFsb2dnZWRTZW5kUmVzcG9uc2VEZXByZWNhdGlvbldhcm5pbmcpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oU0VORF9SRVNQT05TRV9ERVBSRUNBVElPTl9XQVJOSU5HLCBuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgICAgICAgICAgICAgbG9nZ2VkU2VuZFJlc3BvbnNlRGVwcmVjYXRpb25XYXJuaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkaWRDYWxsU2VuZFJlc3BvbnNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbGlzdGVuZXIobWVzc2FnZSwgc2VuZGVyLCB3cmFwcGVkU2VuZFJlc3BvbnNlKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNSZXN1bHRUaGVuYWJsZSA9IHJlc3VsdCAhPT0gdHJ1ZSAmJiBpc1RoZW5hYmxlKHJlc3VsdCk7XG5cbiAgICAgICAgICAvLyBJZiB0aGUgbGlzdGVuZXIgZGlkbid0IHJldHVybmVkIHRydWUgb3IgYSBQcm9taXNlLCBvciBjYWxsZWRcbiAgICAgICAgICAvLyB3cmFwcGVkU2VuZFJlc3BvbnNlIHN5bmNocm9ub3VzbHksIHdlIGNhbiBleGl0IGVhcmxpZXJcbiAgICAgICAgICAvLyBiZWNhdXNlIHRoZXJlIHdpbGwgYmUgbm8gcmVzcG9uc2Ugc2VudCBmcm9tIHRoaXMgbGlzdGVuZXIuXG4gICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdHJ1ZSAmJiAhaXNSZXN1bHRUaGVuYWJsZSAmJiAhZGlkQ2FsbFNlbmRSZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEEgc21hbGwgaGVscGVyIHRvIHNlbmQgdGhlIG1lc3NhZ2UgaWYgdGhlIHByb21pc2UgcmVzb2x2ZXNcbiAgICAgICAgICAvLyBhbmQgYW4gZXJyb3IgaWYgdGhlIHByb21pc2UgcmVqZWN0cyAoYSB3cmFwcGVkIHNlbmRNZXNzYWdlIGhhc1xuICAgICAgICAgIC8vIHRvIHRyYW5zbGF0ZSB0aGUgbWVzc2FnZSBpbnRvIGEgcmVzb2x2ZWQgcHJvbWlzZSBvciBhIHJlamVjdGVkXG4gICAgICAgICAgLy8gcHJvbWlzZSkuXG4gICAgICAgICAgY29uc3Qgc2VuZFByb21pc2VkUmVzdWx0ID0gcHJvbWlzZSA9PiB7XG4gICAgICAgICAgICBwcm9taXNlLnRoZW4obXNnID0+IHtcbiAgICAgICAgICAgICAgLy8gc2VuZCB0aGUgbWVzc2FnZSB2YWx1ZS5cbiAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKG1zZyk7XG4gICAgICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICAgIC8vIFNlbmQgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlcnJvciBpZiB0aGUgcmVqZWN0ZWQgdmFsdWVcbiAgICAgICAgICAgICAgLy8gaXMgYW4gaW5zdGFuY2Ugb2YgZXJyb3IsIG9yIHRoZSBvYmplY3QgaXRzZWxmIG90aGVyd2lzZS5cbiAgICAgICAgICAgICAgbGV0IG1lc3NhZ2U7XG4gICAgICAgICAgICAgIGlmIChlcnJvciAmJiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciB8fCB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCI7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzZW5kUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIF9fbW96V2ViRXh0ZW5zaW9uUG9seWZpbGxSZWplY3RfXzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgLy8gUHJpbnQgYW4gZXJyb3Igb24gdGhlIGNvbnNvbGUgaWYgdW5hYmxlIHRvIHNlbmQgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHNlbmQgb25NZXNzYWdlIHJlamVjdGVkIHJlcGx5XCIsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gSWYgdGhlIGxpc3RlbmVyIHJldHVybmVkIGEgUHJvbWlzZSwgc2VuZCB0aGUgcmVzb2x2ZWQgdmFsdWUgYXMgYVxuICAgICAgICAgIC8vIHJlc3VsdCwgb3RoZXJ3aXNlIHdhaXQgdGhlIHByb21pc2UgcmVsYXRlZCB0byB0aGUgd3JhcHBlZFNlbmRSZXNwb25zZVxuICAgICAgICAgIC8vIGNhbGxiYWNrIHRvIHJlc29sdmUgYW5kIHNlbmQgaXQgYXMgYSByZXNwb25zZS5cbiAgICAgICAgICBpZiAoaXNSZXN1bHRUaGVuYWJsZSkge1xuICAgICAgICAgICAgc2VuZFByb21pc2VkUmVzdWx0KHJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbmRQcm9taXNlZFJlc3VsdChzZW5kUmVzcG9uc2VQcm9taXNlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBMZXQgQ2hyb21lIGtub3cgdGhhdCB0aGUgbGlzdGVuZXIgaXMgcmVwbHlpbmcuXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgd3JhcHBlZFNlbmRNZXNzYWdlQ2FsbGJhY2sgPSAoeyByZWplY3QsIHJlc29sdmUgfSwgcmVwbHkpID0+IHtcbiAgICAgICAgaWYgKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IpIHtcbiAgICAgICAgICAvLyBEZXRlY3Qgd2hlbiBub25lIG9mIHRoZSBsaXN0ZW5lcnMgcmVwbGllZCB0byB0aGUgc2VuZE1lc3NhZ2UgY2FsbCBhbmQgcmVzb2x2ZVxuICAgICAgICAgIC8vIHRoZSBwcm9taXNlIHRvIHVuZGVmaW5lZCBhcyBpbiBGaXJlZm94LlxuICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS93ZWJleHRlbnNpb24tcG9seWZpbGwvaXNzdWVzLzEzMFxuICAgICAgICAgIGlmIChleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yLm1lc3NhZ2UgPT09IENIUk9NRV9TRU5EX01FU1NBR0VfQ0FMTEJBQ0tfTk9fUkVTUE9OU0VfTUVTU0FHRSkge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlcGx5ICYmIHJlcGx5Ll9fbW96V2ViRXh0ZW5zaW9uUG9seWZpbGxSZWplY3RfXykge1xuICAgICAgICAgIC8vIENvbnZlcnQgYmFjayB0aGUgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgZXJyb3IgaW50b1xuICAgICAgICAgIC8vIGFuIEVycm9yIGluc3RhbmNlLlxuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IocmVwbHkubWVzc2FnZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUocmVwbHkpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB3cmFwcGVkU2VuZE1lc3NhZ2UgPSAobmFtZSwgbWV0YWRhdGEsIGFwaU5hbWVzcGFjZU9iaiwgLi4uYXJncykgPT4ge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPCBtZXRhZGF0YS5taW5BcmdzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCAke21ldGFkYXRhLm1pbkFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1pbkFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IG1ldGFkYXRhLm1heEFyZ3MpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IG1vc3QgJHttZXRhZGF0YS5tYXhBcmdzfSAke3BsdXJhbGl6ZUFyZ3VtZW50cyhtZXRhZGF0YS5tYXhBcmdzKX0gZm9yICR7bmFtZX0oKSwgZ290ICR7YXJncy5sZW5ndGh9YCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHdyYXBwZWRDYiA9IHdyYXBwZWRTZW5kTWVzc2FnZUNhbGxiYWNrLmJpbmQobnVsbCwgeyByZXNvbHZlLCByZWplY3QgfSk7XG4gICAgICAgICAgYXJncy5wdXNoKHdyYXBwZWRDYik7XG4gICAgICAgICAgYXBpTmFtZXNwYWNlT2JqLnNlbmRNZXNzYWdlKC4uLmFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN0YXRpY1dyYXBwZXJzID0ge1xuICAgICAgICBydW50aW1lOiB7XG4gICAgICAgICAgb25NZXNzYWdlOiB3cmFwRXZlbnQob25NZXNzYWdlV3JhcHBlcnMpLFxuICAgICAgICAgIG9uTWVzc2FnZUV4dGVybmFsOiB3cmFwRXZlbnQob25NZXNzYWdlV3JhcHBlcnMpLFxuICAgICAgICAgIHNlbmRNZXNzYWdlOiB3cmFwcGVkU2VuZE1lc3NhZ2UuYmluZChudWxsLCBcInNlbmRNZXNzYWdlXCIsIHsgbWluQXJnczogMSwgbWF4QXJnczogMyB9KVxuICAgICAgICB9LFxuICAgICAgICB0YWJzOiB7XG4gICAgICAgICAgc2VuZE1lc3NhZ2U6IHdyYXBwZWRTZW5kTWVzc2FnZS5iaW5kKG51bGwsIFwic2VuZE1lc3NhZ2VcIiwgeyBtaW5BcmdzOiAyLCBtYXhBcmdzOiAzIH0pXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBzZXR0aW5nTWV0YWRhdGEgPSB7XG4gICAgICAgIGNsZWFyOiB7IG1pbkFyZ3M6IDEsIG1heEFyZ3M6IDEgfSxcbiAgICAgICAgZ2V0OiB7IG1pbkFyZ3M6IDEsIG1heEFyZ3M6IDEgfSxcbiAgICAgICAgc2V0OiB7IG1pbkFyZ3M6IDEsIG1heEFyZ3M6IDEgfVxuICAgICAgfTtcbiAgICAgIGFwaU1ldGFkYXRhLnByaXZhY3kgPSB7XG4gICAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgICBuZXR3b3JrUHJlZGljdGlvbkVuYWJsZWQ6IHNldHRpbmdNZXRhZGF0YSxcbiAgICAgICAgICB3ZWJSVENJUEhhbmRsaW5nUG9saWN5OiBzZXR0aW5nTWV0YWRhdGFcbiAgICAgICAgfSxcbiAgICAgICAgc2VydmljZXM6IHtcbiAgICAgICAgICBwYXNzd29yZFNhdmluZ0VuYWJsZWQ6IHNldHRpbmdNZXRhZGF0YVxuICAgICAgICB9LFxuICAgICAgICB3ZWJzaXRlczoge1xuICAgICAgICAgIGh5cGVybGlua0F1ZGl0aW5nRW5hYmxlZDogc2V0dGluZ01ldGFkYXRhLFxuICAgICAgICAgIHJlZmVycmVyc0VuYWJsZWQ6IHNldHRpbmdNZXRhZGF0YVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gd3JhcE9iamVjdChleHRlbnNpb25BUElzLCBzdGF0aWNXcmFwcGVycywgYXBpTWV0YWRhdGEpO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIGNocm9tZSAhPSBcIm9iamVjdFwiIHx8ICFjaHJvbWUgfHwgIWNocm9tZS5ydW50aW1lIHx8ICFjaHJvbWUucnVudGltZS5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBzY3JpcHQgc2hvdWxkIG9ubHkgYmUgbG9hZGVkIGluIGEgYnJvd3NlciBleHRlbnNpb24uXCIpO1xuICAgIH1cblxuICAgIC8vIFRoZSBidWlsZCBwcm9jZXNzIGFkZHMgYSBVTUQgd3JhcHBlciBhcm91bmQgdGhpcyBmaWxlLCB3aGljaCBtYWtlcyB0aGVcbiAgICAvLyBgbW9kdWxlYCB2YXJpYWJsZSBhdmFpbGFibGUuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSB3cmFwQVBJcyhjaHJvbWUpO1xuICB9IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0gYnJvd3NlcjtcbiAgfVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyLXBvbHlmaWxsLmpzLm1hcFxuIiwiaW1wb3J0IHtnZXRBdXRoLCBsb29rdXBJdGVtc0J5SUR9IGZyb20gJy4vcmVxdWVzdHMuanMnXG5pbXBvcnQge2dldEZ1bGxJRHNGcm9tUGF0aH0gZnJvbSAnLi9jb21tb24uanMnXG5pbXBvcnQge3NldFRleHRBbmRGdW5jdGlvbl9zdWJzY3JpYmUsc2V0VGV4dEFuZEZ1bmN0aW9uX3Vuc3Vic2NyaWJlfSBmcm9tICcuL2NvbnRlbnQtY29tbW9uLmpzJ1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnd2ViZXh0ZW5zaW9uLXBvbHlmaWxsJ1xuXG5jb25zdCBVU0VSX0RFTEVURUQgPSAncmV2LXVzZXItZGVsZXRlZCdcbmNvbnN0IE1PRF9SRU1PVkVEID0gJ3Jldi1tb2QtcmVtb3ZlZCdcbmNvbnN0IGlkX21hdGNoX2NvbW1lbnQgPSAvXnQxXy4rL1xuY29uc3QgaWRfbWF0Y2hfcG9zdCA9IC9edDNfLisvXG5cbmV4cG9ydCBjb25zdCByZWRkaXRNb2RpZmljYXRpb25zID0gKG90aGVyX3N1YnNjcmlwdGlvbnMsIGhpZGVfc3Vic2NyaWJlLCBtb25pdG9yX3F1YXJhbnRpbmVkKSA9PiB7XG4gICAgY29uc3QgaXNOZXdSZWRkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU0hPUlRDVVRfRk9DVVNBQkxFX0RJVicpICE9PSBudWxsXG4gICAgaWZUaHJlYWRQYWdlX3Nob3dSZW1vdmFsU3RhdHVzKGlzTmV3UmVkZGl0LCBtb25pdG9yX3F1YXJhbnRpbmVkKVxuICAgIGlmICggISBpc05ld1JlZGRpdCApIHtcbiAgICAgICAgaWYgKCEgaGlkZV9zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yID0gJy50aGluZy5saW5rLCAudGhpbmcuY29tbWVudCdcbiAgICAgICAgICAgIGFkZFN1YnNjcmliZUxpbmtzX29sZFJlZGRpdCgkKHNlbGVjdG9yKSwgb3RoZXJfc3Vic2NyaXB0aW9ucylcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLmFycml2ZShzZWxlY3RvciwgKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBhZGRTdWJzY3JpYmVMaW5rc19vbGRSZWRkaXQoW2VsZW1lbnRdLCBvdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghIGhpZGVfc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICBsZXQgc2VsZWN0b3JfY29tbWVudHMgPSAnLkNvbW1lbnQnXG4gICAgICAgICAgICBhZGRTdWJzY3JpYmVMaW5rc19uZXdSZWRkaXRfY29tbWVudHMoJChzZWxlY3Rvcl9jb21tZW50cyksIG90aGVyX3N1YnNjcmlwdGlvbnMpXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5hcnJpdmUoc2VsZWN0b3JfY29tbWVudHMsIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgYWRkU3Vic2NyaWJlTGlua3NfbmV3UmVkZGl0X2NvbW1lbnRzKFtlbGVtZW50XSwgb3RoZXJfc3Vic2NyaXB0aW9ucylcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjb25zdCBzZWxlY3Rvcl9wb3N0cyA9ICcuUG9zdCdcbiAgICAgICAgICAgIGFkZFN1YnNjcmliZUxpbmtzX25ld1JlZGRpdF9wb3N0cygkKHNlbGVjdG9yX3Bvc3RzKSwgb3RoZXJfc3Vic2NyaXB0aW9ucylcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLmFycml2ZShzZWxlY3Rvcl9wb3N0cywgKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBhZGRTdWJzY3JpYmVMaW5rc19uZXdSZWRkaXRfcG9zdHMoW2VsZW1lbnRdLCBvdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBhZGREaXJlY3RMaW5rc19uZXdSZWRkaXRfY29tbWVudHMoKVxuICAgICAgICBjb25zdCBzZWxlY3Rvcl9uZXdQb3N0ID0gJy5Qb3N0IGRpdltkYXRhLXRlc3QtaWQ9XCJwb3N0LWNvbnRlbnRcIl0nXG4gICAgICAgICQoZG9jdW1lbnQpLmFycml2ZShzZWxlY3Rvcl9uZXdQb3N0LCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgc2hvd1JlbW92YWxTdGF0dXNGb3JUaHJlYWRPdmVybGF5KGVsZW1lbnQsIG1vbml0b3JfcXVhcmFudGluZWQpXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5jb25zdCByZW1vdmVkQnlNb2RlcmF0b3JUZXh0ID0gJ0NvbW1lbnQgcmVtb3ZlZCBieSBtb2RlcmF0b3InLnRvTG93ZXJDYXNlKCkudHJpbSgpXG5jb25zdCBkaXJlY3RMaW5rX2NsYXNzID0gJ1JldmVkZGl0TGluaydcbmNvbnN0IGFkZERpcmVjdExpbmtzX25ld1JlZGRpdF9jb21tZW50cyA9ICgpID0+IHtcbiAgICBjb25zdCBwcm9jZXNzTGlzdCA9IChlbGVtZW50cykgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBjbG9zZXN0X2Rpdl9hbmNlc3RvciA9ICQoZWwpLmNsb3Nlc3QoJ2RpdicpLmZpcnN0KClcbiAgICAgICAgICAgIGNvbnN0IHJldmVkZGl0TGluayA9ICQoY2xvc2VzdF9kaXZfYW5jZXN0b3IpLnBhcmVudCgpLmZpbmQoYC4ke2RpcmVjdExpbmtfY2xhc3N9YCkubGVuZ3RoXG4gICAgICAgICAgICBpZiAoISByZXZlZGRpdExpbmspIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWRkaXRMaW5rID0gJChjbG9zZXN0X2Rpdl9hbmNlc3RvcikuZmluZCgnYVtocmVmXj1cImh0dHBzOi8vd3d3LnJlZGRpdC5jb21cIl0nKS5maXJzdCgpLmF0dHIoJ2hyZWYnKVxuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocmVkZGl0TGluaylcbiAgICAgICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgndXRtX3NvdXJjZScsICdyZXZlZGRpdC1ydCcpXG4gICAgICAgICAgICAgICAgdXJsLmhvc3QgPSAnd3d3LnJldmVkZGl0LmNvbSdcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdFbCA9ICQoZWwpLmNsb25lKClcbiAgICAgICAgICAgICAgICAkKG5ld0VsKS5odG1sKGA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBzdHlsZT1cInRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1wiIGhyZWY9XCIke3VybC50b1N0cmluZygpfVwiPnZpZXcgb24gUmV2ZWRkaXQ8L2E+YClcbiAgICAgICAgICAgICAgICBjb25zdCB3cmFwID0gJChgPGRpdiBjbGFzcz1cIiR7ZGlyZWN0TGlua19jbGFzc31cIj4keyQobmV3RWwpWzBdLm91dGVySFRNTH08L2Rpdj5gKVxuICAgICAgICAgICAgICAgIHdyYXAuaW5zZXJ0QWZ0ZXIoY2xvc2VzdF9kaXZfYW5jZXN0b3IpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgJChkb2N1bWVudCkuYXJyaXZlKCdzcGFuJywgKGVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKGVsZW1lbnQudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKS50cmltKCkgPT09IHJlbW92ZWRCeU1vZGVyYXRvclRleHQpIHtcbiAgICAgICAgICAgIHByb2Nlc3NMaXN0KFtlbGVtZW50XSlcbiAgICAgICAgfVxuICAgIH0pXG4gICAgY29uc3QgcHJvY2Vzc0NvbW1lbnRzT25QYWdlTG9hZCA9ICgpID0+IHtcbiAgICAgICAgLy8gdGhpcyBzZWxlY3RvciBpcyBub3QgYWNjZXNzaWJsZSB0byBhcnJpdmUuanNcbiAgICAgICAgcHJvY2Vzc0xpc3QoJChgc3BhbjplcXVhbHNpKFwiJHtyZW1vdmVkQnlNb2RlcmF0b3JUZXh0fVwiKWApKVxuICAgIH1cbiAgICBwcm9jZXNzQ29tbWVudHNPblBhZ2VMb2FkKClcbiAgICBzZXRUaW1lb3V0KHByb2Nlc3NDb21tZW50c09uUGFnZUxvYWQsIDEwMDApXG4gICAgc2V0VGltZW91dChwcm9jZXNzQ29tbWVudHNPblBhZ2VMb2FkLCA1MDAwKVxuICAgIHNldFRpbWVvdXQocHJvY2Vzc0NvbW1lbnRzT25QYWdlTG9hZCwgMTAwMDApXG59XG5cbmNvbnN0IGlmVGhyZWFkUGFnZV9zaG93UmVtb3ZhbFN0YXR1cyA9IChpc05ld1JlZGRpdCwgbW9uaXRvcl9xdWFyYW50aW5lZCwgbmV3UmVkZGl0VGFyZ2V0ID0gJy5Qb3N0JywgcG9zdERhdGEgPSB7fSkgPT4ge1xuICAgIGNvbnN0IFtwb3N0SUQsIGNvbW1lbnRJRCwgdXNlciwgc3VicmVkZGl0XSA9IGdldEZ1bGxJRHNGcm9tUGF0aCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpXG4gICAgLy8gbGlua3MgdG8gY29tbWVudHMgb24gbmV3IHJlZGRpdCBkbyBub3QgaGF2ZSByb2JvdHMgbm9pbmRleCxub2ZvbGxvdywgc28gbmVlZCB0byBsb29rdXAgZGF0YSBpZiBoYXZlbid0IGFscmVhZHlcbiAgICAvLyBhcyBvZiAyMDIyLzIwMjM6IG9sZGVyIHBvc3RzIGUuZy4gdDNfOWVtemhwIG5vIGxvbmdlciBoYXZlIG5vaW5kZXgsbm9mb2xsb3csIHNvIGFsd2F5cyBuZWVkIHRvIGxvb2sgdXAgZGF0YSBmb3IgbmV3IHJlZGRpdFxuICAgIGlmIChpc05ld1JlZGRpdCAmJiBPYmplY3Qua2V5cyhwb3N0RGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7YWN0aW9uOiAnZ2V0LXJlZGRpdC1pdGVtcy1ieS1pZCcsIGlkczogW3Bvc3RJRF0sIG1vbml0b3JfcXVhcmFudGluZWR9KVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAoISByZXNwb25zZSB8fCAhIHJlc3BvbnNlLml0ZW1zIHx8ICEgcmVzcG9uc2UuaXRlbXMubGVuZ3RoKSByZXR1cm5cbiAgICAgICAgICAgIHBvc3REYXRhID0gcmVzcG9uc2UuaXRlbXNbMF0uZGF0YVxuICAgICAgICAgICAgc2hvd1JlbW92YWxTdGF0dXMoe2lzTmV3UmVkZGl0LCBuZXdSZWRkaXRUYXJnZXQsIHBvc3REYXRhfSlcbiAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgICBzaG93UmVtb3ZhbFN0YXR1cyh7aXNOZXdSZWRkaXQsIG5ld1JlZGRpdFRhcmdldCwgcG9zdERhdGF9KVxuICAgIH1cblxufVxuXG5jb25zdCBzaG93UmVtb3ZhbFN0YXR1cyA9ICh7aXNOZXdSZWRkaXQsIG5ld1JlZGRpdFRhcmdldCA9ICcuUG9zdCcsIHBvc3REYXRhID0ge319KSA9PiB7XG4gICAgY29uc3QgW3Bvc3RJRCwgY29tbWVudElELCB1c2VyLCBzdWJyZWRkaXRdID0gZ2V0RnVsbElEc0Zyb21QYXRoKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSlcbiAgICBsZXQgY2xhc3NOYW1lID0gdW5kZWZpbmVkLCBtZXNzYWdlXzEgPSB1bmRlZmluZWRcbiAgICBpZiAocG9zdElEKSB7XG4gICAgICAgIC8vIE5vdGU6IERvIE5PVCBhZGQgdGhpcyBoZXJlOiBtZXRhW25hbWU9XCJyb2JvdHNcIl1bY29udGVudD1cIm5vaW5kZXhcIl1cbiAgICAgICAgLy8gVGhhdCBzaG93cyB1cCBvbiBhbGwgcGFnZXMgdGhhdCBhcmUgcGVybWFsaW5rcyB0byBjb21tZW50c1xuICAgICAgICBpZiAoJCgnbWV0YVtuYW1lPVwicm9ib3RzXCJdW2NvbnRlbnQ9XCJub2luZGV4LG5vZm9sbG93XCJdJykubGVuZ3RoIHx8XG4gICAgICAgICAgICAoJ2lzX3JvYm90X2luZGV4YWJsZScgaW4gcG9zdERhdGEgJiYgISBwb3N0RGF0YS5pc19yb2JvdF9pbmRleGFibGUpICkge1xuICAgICAgICAgICAgY29uc3QgYXV0aG9yID0gcG9zdERhdGEuYXV0aG9yIHx8ICQoJy5saW5rIC50b3AtbWF0dGVyIC5hdXRob3InKS5maXJzdCgpLnRleHQoKSB8fCAkKCcubGluayAudG9wLW1hdHRlciAudGFnbGluZSBzcGFuOmNvbnRhaW5zKFwiW2RlbGV0ZWRdXCIpJykudGV4dCgpIHx8ICQoJy5Qb3N0IHNwYW46Y29udGFpbnMoXCJ1L1tkZWxldGVkXVwiKScpLmZpcnN0KCkudGV4dCgpXG4gICAgICAgICAgICBpZiAoKGF1dGhvciA9PT0gJ1tkZWxldGVkXScgfHwgYXV0aG9yID09PSAndS9bZGVsZXRlZF0nKSAmJiBwb3N0RGF0YS5yZW1vdmVkX2J5X2NhdGVnb3J5ICE9PSAnbW9kZXJhdG9yJykge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IFVTRVJfREVMRVRFRFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfMSA9IGBUaGlzIHBvc3Qgd2FzIGVpdGhlciBkZWxldGVkIGJ5IHRoZSBwZXJzb24gd2hvIHBvc3RlZCBpdCwgb3IgcmVtb3ZlZCBieSBhIG1vZGVyYXRvciBhbmQgdGhlbiBkZWxldGVkIGJ5IHRoZSBwZXJzb24gd2hvIHBvc3RlZCBpdC5gXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IE1PRF9SRU1PVkVEXG4gICAgICAgICAgICAgICAgbWVzc2FnZV8xID0gYFRoaXMgcG9zdCBpcyB1bmFwcHJvdmVkLiBJdCBpcyBlaXRoZXIgd2FpdGluZyB0byBiZSBhcHByb3ZlZCwgb3IgaXQgd2FzIHJlbW92ZWQgYnkgc29tZW9uZSBvciBzb21lIHJvYm90LmBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtZXNzYWdlXzEpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uc0lEID0gJ2dvdG8tb3B0aW9ucy1mcm9tLWNvbnRlbnQnXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VfMiA9IGAgSXQgaXMgbm90IGN1cnJlbnRseSB2aXNpYmxlIGluIHIvJHtzdWJyZWRkaXR9IGFuZCBtYXkgbm90IGFwcGVhciBpbiB3ZWIgc2VhcmNoIHJlc3VsdHMuYFxuICAgICAgICBjb25zdCBmcm9tID0gYDxkaXYgY2xhc3M9XCJyZXYtZnJvbVwiPjxhIGlkPVwiJHtvcHRpb25zSUR9XCIgaHJlZj1cIiNcIj5SZXZlZGRpdCBSZWFsLVRpbWU8L2E+IG5vdGU8L2Rpdj5gXG4gICAgICAgIGNvbnN0IHBvc3RfcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgnLycsNikuam9pbignLycpXG4gICAgICAgIGNvbnN0IHJldmVkZGl0X2xpbmsgPSBgPHA+PGEgaHJlZj1cImh0dHBzOi8vd3d3LnJldmVkZGl0LmNvbSR7cG9zdF9wYXRofS9cIj5WaWV3IHRoZSBwb3N0IG9uIFJldmVkZGl0LmNvbTwvYT48L3A+YFxuICAgICAgICBpZiAoISBpc05ld1JlZGRpdCkge1xuICAgICAgICAgICAgbWVzc2FnZV8xICs9IGAgVmlldyB0aGUgcG9zdCA8YSBocmVmPVwiaHR0cHM6Ly9uZXcucmVkZGl0LmNvbSR7cG9zdF9wYXRofS9cIj5vbiBuZXcgcmVkZGl0PC9hPiBmb3IgbW9yZSBkZXRhaWxzLmBcbiAgICAgICAgICAgIGNvbnN0ICRodG1sX21lc3NhZ2UgPSAkKGA8ZGl2IGNsYXNzPVwicmVkZGl0LWluZm9iYXIgbWQtY29udGFpbmVyLXNtYWxsICR7Y2xhc3NOYW1lfVwiPmApXG4gICAgICAgICAgICAgICAgLmFwcGVuZChmcm9tKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoYDxkaXYgY2xhc3M9XCJtZFwiPjxwPiR7bWVzc2FnZV8xfSR7bWVzc2FnZV8yfTwvcD4ke3JldmVkZGl0X2xpbmt9PC9kaXY+YClcbiAgICAgICAgICAgICRodG1sX21lc3NhZ2UucHJlcGVuZFRvKCdkaXYuY29udGVudFtyb2xlPVwibWFpblwiXScpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXNzYWdlXzEgKz0gYCBNb3JlIGRldGFpbHMgbWF5IGFwcGVhciBpbiBhIG1lc3NhZ2UgYWJvdmUgZnJvbSByZWRkaXQuYFxuICAgICAgICAgICAgY29uc3QgJGh0bWxfd3JhcCA9ICQoYDxkaXYgY2xhc3M9XCJyZXYtbmV3LXJlZGRpdC1tZXNzYWdlLXdyYXAgJHtjbGFzc05hbWV9XCI+JHtmcm9tfTwvZGl2PmApXG4gICAgICAgICAgICBjb25zdCAkaHRtbF9jb250ZW50ID0gJChgPGRpdiBjbGFzcz1cInJldi1uZXctcmVkZGl0LW1lc3NhZ2UtY29udGVudFwiPjwvZGl2PmApXG4gICAgICAgICAgICBjb25zdCAkaHRtbF9kZXNjcmlwdGlvbiA9ICQoYDxkaXYgY2xhc3M9XCJyZXYtbmV3LXJlZGRpdC1tZXNzYWdlLWNvbnRlbnQtZGVzY3JpcHRpb25cIj4ke21lc3NhZ2VfMX0ke21lc3NhZ2VfMn08L2Rpdj5gKVxuICAgICAgICAgICAgJGh0bWxfY29udGVudC5hcHBlbmQoJGh0bWxfZGVzY3JpcHRpb24pXG4gICAgICAgICAgICAkaHRtbF9jb250ZW50LmFwcGVuZChyZXZlZGRpdF9saW5rKVxuICAgICAgICAgICAgJGh0bWxfd3JhcC5hcHBlbmQoJGh0bWxfY29udGVudClcbiAgICAgICAgICAgICQobmV3UmVkZGl0VGFyZ2V0KS5maXJzdCgpLmFmdGVyKCRodG1sX3dyYXApXG4gICAgICAgIH1cbiAgICAgICAgJChgIyR7b3B0aW9uc0lEfWApLmNsaWNrKCgpID0+IGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZSh7YWN0aW9uOiAnb3Blbi1vcHRpb25zJ30pKVxuICAgIH1cbn1cblxuY29uc3Qgc2hvd1JlbW92YWxTdGF0dXNGb3JUaHJlYWRPdmVybGF5ID0gKGVsZW1lbnQsIG1vbml0b3JfcXVhcmFudGluZWQpID0+IHtcbiAgICBjb25zdCBbcG9zdElELCBjb21tZW50SUQsIHVzZXIsIHN1YnJlZGRpdF0gPSBnZXRGdWxsSURzRnJvbVBhdGgod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKVxuICAgIC8vIGJ1aWx0IGZvciBDaHJvbWUsIGkuZS4sIGluY29nbml0byBtb2RlIGlzICdzcGxpdCcgYW5kIENPUkIgYXBwbGllc1xuICAgIGlmIChfX0JVSUxUX0ZPUl9fID09PSAnY2hyb21lJykge1xuICAgICAgICBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe2FjdGlvbjogJ2dldC1yZWRkaXQtaXRlbXMtYnktaWQnLCBpZHM6IFtwb3N0SURdLCBtb25pdG9yX3F1YXJhbnRpbmVkfSlcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgaWYgKCEgcmVzcG9uc2UgfHwgISByZXNwb25zZS5pdGVtcyB8fCAhIHJlc3BvbnNlLml0ZW1zLmxlbmd0aCkgcmV0dXJuXG4gICAgICAgICAgICBjb25zdCBwb3N0RGF0YSA9IHJlc3BvbnNlLml0ZW1zWzBdLmRhdGFcbiAgICAgICAgICAgIGlmVGhyZWFkUGFnZV9zaG93UmVtb3ZhbFN0YXR1cyh0cnVlLCBtb25pdG9yX3F1YXJhbnRpbmVkLCBlbGVtZW50LnBhcmVudE5vZGUsIHBvc3REYXRhKVxuICAgICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGJ1aWx0IGZvciBGaXJlZm94LCBpLmUuLCBpbmNvZ25pdG8gbW9kZSBpcyAnc3Bhbm5pbmcnIGFuZCBjb250ZW50IHNjcmlwdHNcbiAgICAgICAgLy8gYXJlIGFsbG93ZWQgdG8gc2VuZCBjcm9zcy1vcmlnaW4gcmVxdWVzdHNcbiAgICAgICAgZ2V0QXV0aCgpXG4gICAgICAgIC50aGVuKGF1dGggPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGxvb2t1cEl0ZW1zQnlJRChbcG9zdElEXSwgYXV0aCwgbW9uaXRvcl9xdWFyYW50aW5lZClcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oaXRlbXMgPT4ge1xuICAgICAgICAgICAgLy8gaWYgcmVxdWVzdCBmYWlscywgaXRlbXMgaXMgbnVsbFxuICAgICAgICAgICAgaWYgKCEgaXRlbXMpIHJldHVyblxuICAgICAgICAgICAgY29uc3QgcG9zdERhdGEgPSBpdGVtc1swXS5kYXRhXG4gICAgICAgICAgICBpZlRocmVhZFBhZ2Vfc2hvd1JlbW92YWxTdGF0dXModHJ1ZSwgbW9uaXRvcl9xdWFyYW50aW5lZCwgZWxlbWVudC5wYXJlbnROb2RlLCBwb3N0RGF0YSlcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmNvbnN0IGdldElEX25ld1JlZGRpdCA9IChlbGVtZW50LCBpZF9tYXRjaCkgPT4ge1xuICAgIGxldCBpZCA9IGVsZW1lbnQuaWRcbiAgICBpZiAoaWQgJiYgaWQubWF0Y2goaWRfbWF0Y2gpKSByZXR1cm4gaWRcbiAgICBpZCA9ICQoZWxlbWVudCkuYXR0cignY2xhc3MnKS5zcGxpdCgvXFxzKy8pLmZpbHRlcihjID0+IGMubWF0Y2goaWRfbWF0Y2gpKVswXVxuICAgIGlmIChpZCAmJiBpZC5tYXRjaChpZF9tYXRjaCkpIHJldHVybiBpZFxuICAgIGlkID0gZWxlbWVudC5wYXJlbnROb2RlLmlkXG4gICAgaWYgKGlkICYmIGlkLm1hdGNoKGlkX21hdGNoKSkgcmV0dXJuIGlkXG4gICAgaWQgPSAkKGVsZW1lbnQpLmNsb3Nlc3QoJ2Rpdlt0YWJpbmRleD0tMV0nKS5hdHRyKCdpZCcpXG4gICAgcmV0dXJuIGlkXG59XG5cbmNvbnN0IGFkZFN1YnNjcmliZUxpbmtzX25ld1JlZGRpdF9jb21tZW50cyA9IChlbGVtZW50cywgc3Vic2NyaXB0aW9ucykgPT4ge1xuICAgICQoZWxlbWVudHMpLmVhY2goKGlkeCwgdGFyZ2V0ZWRFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSAkKHRhcmdldGVkRWxlbWVudCkuY2xvc2VzdCgnLkNvbW1lbnQnKVswXVxuICAgICAgICBjb25zdCBpZCA9IGdldElEX25ld1JlZGRpdChlbGVtZW50LCBpZF9tYXRjaF9jb21tZW50KVxuICAgICAgICBpZiAoISBpZCB8fCAhIGlkLm1hdGNoKGlkX21hdGNoX2NvbW1lbnQpKSByZXR1cm5cbiAgICAgICAgbGV0ICRidXR0b24gPSBnZXRCdXR0b24oZWxlbWVudCwgJ3NhdmUnKVxuICAgICAgICBsZXQgYXBwZW5kQnV0dG9uVG8gPSAkYnV0dG9uLnBhcmVudCgpXG4gICAgICAgIGlmICghICRidXR0b24ubGVuZ3RoKSB7XG4gICAgICAgICAgICAkYnV0dG9uID0gZ2V0QnV0dG9uKGVsZW1lbnQsICdzaGFyZScpXG4gICAgICAgICAgICBhcHBlbmRCdXR0b25UbyA9ICRidXR0b24ucGFyZW50KClcbiAgICAgICAgICAgIC8vIGlmICghICRidXR0b24ubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyAgICAgJGJ1dHRvbiA9ICQoJzxidXR0b24+Li4uPC9idXR0b24+JylcbiAgICAgICAgICAgIC8vICAgICBhcHBlbmRCdXR0b25UbyA9IGVsZW1lbnRcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCAkYnV0dG9uX2Nsb25lID0gJGJ1dHRvbi5jbG9uZSgpXG4gICAgICAgIGxldCBjb21tZW50Qm9keSA9ICcnXG4gICAgICAgIGNvbnN0IGJvZHlFbGVtZW50ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuUmljaFRleHRKU09OLXJvb3QnKVxuICAgICAgICBpZiAoYm9keUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbW1lbnRCb2R5ID0gYm9keUVsZW1lbnQudGV4dENvbnRlbnRcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQgaW4gc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgc2V0VGV4dEFuZEZ1bmN0aW9uX3Vuc3Vic2NyaWJlKGlkLCAkYnV0dG9uX2Nsb25lLCBjb21tZW50Qm9keSkuYXBwZW5kVG8oYXBwZW5kQnV0dG9uVG8pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUZXh0QW5kRnVuY3Rpb25fc3Vic2NyaWJlKGlkLCAkYnV0dG9uX2Nsb25lLCBjb21tZW50Qm9keSkuYXBwZW5kVG8oYXBwZW5kQnV0dG9uVG8pXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5jb25zdCBnZXRCdXR0b24gPSAoZWxlbWVudCwgYnV0dG9uX3NlYXJjaF90ZXh0KSA9PiB7XG4gICAgcmV0dXJuICQoZWxlbWVudCkuZmluZChgYnV0dG9uOmVxdWFsc2koXCIke2J1dHRvbl9zZWFyY2hfdGV4dH1cIilgKS5maXJzdCgpXG59XG5cbmNvbnN0IGFkZFN1YnNjcmliZUxpbmtzX25ld1JlZGRpdF9wb3N0cyA9IChlbGVtZW50cywgc3Vic2NyaXB0aW9ucykgPT4ge1xuICAgICQoZWxlbWVudHMpLmVhY2goKGlkeCwgZWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IGdldElEX25ld1JlZGRpdChlbGVtZW50LCBpZF9tYXRjaF9wb3N0KVxuICAgICAgICBpZiAoISBpZCB8fCAhIGlkLm1hdGNoKGlkX21hdGNoX3Bvc3QpKSByZXR1cm5cbiAgICAgICAgY29uc3QgJGJ1dHRvbiA9ICQoZWxlbWVudCkuZmluZCgnYnV0dG9uIDplcXVhbHNpKFwic2F2ZVwiKScpLmZpcnN0KCkucGFyZW50KClcbiAgICAgICAgY29uc3QgJGJ1dHRvbl9jbG9uZSA9ICRidXR0b24uY2xvbmUoKVxuICAgICAgICAkYnV0dG9uX2Nsb25lLmZpbmQoJ2kuaWNvbicpLmZpcnN0KCkucGFyZW50KCkucmVtb3ZlKClcbiAgICAgICAgY29uc3QgJGxhc3RfYnV0dG9uID0gJGJ1dHRvbi5wYXJlbnQoKS5jaGlsZHJlbignYnV0dG9uJykubGFzdCgpXG4gICAgICAgIGlmIChpZCBpbiBzdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICBzZXRUZXh0QW5kRnVuY3Rpb25fdW5zdWJzY3JpYmUoaWQsICRidXR0b25fY2xvbmUpLmluc2VydEFmdGVyKCRsYXN0X2J1dHRvbilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRleHRBbmRGdW5jdGlvbl9zdWJzY3JpYmUoaWQsICRidXR0b25fY2xvbmUpLmluc2VydEFmdGVyKCRsYXN0X2J1dHRvbilcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmNvbnN0IGFkZFN1YnNjcmliZUxpbmtzX29sZFJlZGRpdCA9IChlbGVtZW50cywgc3Vic2NyaXB0aW9ucykgPT4ge1xuICAgICQoZWxlbWVudHMpLmVhY2goKGlkeCwgZWxlbWVudCkgPT4ge1xuICAgICAgICBsZXQgaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1mdWxsbmFtZScpXG4gICAgICAgIGlmICghIGlkKSB7XG4gICAgICAgICAgICBjb25zdCBbcG9zdElELCBjb21tZW50SUQsIHVzZXIsIHN1YnJlZGRpdF0gPSBnZXRGdWxsSURzRnJvbVBhdGgoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGVybWFsaW5rJykgfHwgJycpXG4gICAgICAgICAgICBpZiAoY29tbWVudElEKSB7XG4gICAgICAgICAgICAgICAgaWQgPSBjb21tZW50SURcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zdElEKSB7XG4gICAgICAgICAgICAgICAgaWQgPSBwb3N0SURcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoISBpZCkgcmV0dXJuXG4gICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3VsLmJ1dHRvbnMnKVxuICAgICAgICBpZiAoISBidXR0b25zKSByZXR1cm5cbiAgICAgICAgbGV0IGNvbW1lbnRCb2R5ID0gJydcbiAgICAgICAgY29uc3QgYm9keUVsZW1lbnQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VydGV4dC1ib2R5JylcbiAgICAgICAgaWYgKGJvZHlFbGVtZW50ICYmIGlkLm1hdGNoKC9edDFfLykpIHtcbiAgICAgICAgICAgIGNvbW1lbnRCb2R5ID0gYm9keUVsZW1lbnQudGV4dENvbnRlbnRcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCAkbmV3QnV0dG9uID0gc2V0VGV4dEFuZEZ1bmN0aW9uX3N1YnNjcmliZShpZCwgJChgPGEgaHJlZj1cIlwiPmApWzBdLCBjb21tZW50Qm9keSlcbiAgICAgICAgaWYgKGlkIGluIHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgICRuZXdCdXR0b24gPSBzZXRUZXh0QW5kRnVuY3Rpb25fdW5zdWJzY3JpYmUoaWQsICQoYDxhIGhyZWY9XCJcIj5gKVswXSwgY29tbWVudEJvZHkpXG4gICAgICAgIH1cbiAgICAgICAgJChidXR0b25zKS5hcHBlbmQoJG5ld0J1dHRvbi53cmFwKCc8bGk+JykucGFyZW50KCkpXG4gICAgfSlcbn1cbiIsImltcG9ydCB7c3Vic2NyaWJlSWQsIHVuc3Vic2NyaWJlSWQsIGdldExvY2FsU3RvcmFnZUl0ZW1zLCBzYXZlTG9jYWxTdG9yYWdlSXRlbXN9IGZyb20gJy4vc3RvcmFnZS5qcydcbmltcG9ydCB7TG9jYWxTdG9yYWdlSXRlbX0gZnJvbSAnLi9jb21tb24uanMnXG5pbXBvcnQge3NldEN1cnJlbnRTdGF0ZUZvcklkfSBmcm9tICcuL21vbml0b3JpbmcuanMnXG5pbXBvcnQgYnJvd3NlciBmcm9tICd3ZWJleHRlbnNpb24tcG9seWZpbGwnXG5cbmxldCBVTlNVQlNDUklCRV9URVhUID0gJ3Vuc3Vic2NyaWJlLXJldidcbmxldCBTVUJTQ1JJQkVfVEVYVCA9ICdzdWJzY3JpYmUtcmV2J1xuXG5pZiAobG9jYXRpb24uaG9zdG5hbWUubWF0Y2goL3JldmVkZGl0XFwuY29tJC8pKSB7XG4gICAgVU5TVUJTQ1JJQkVfVEVYVCA9ICd1bnN1YnNjcmliZSdcbiAgICBTVUJTQ1JJQkVfVEVYVCA9ICdzdWJzY3JpYmUnXG59XG5cbmV4cG9ydCBjb25zdCBzZXRUZXh0QW5kRnVuY3Rpb25fc3Vic2NyaWJlID0gKGlkLCBlbGVtZW50LCBjb21tZW50Qm9keSkgPT4ge1xuICAgIHJldHVybiAkKGVsZW1lbnQpLnRleHQoU1VCU0NSSUJFX1RFWFQpLm9mZignY2xpY2snKS5jbGljaygoZXZlbnRPYmopID0+IHN1YnNjcmliZUlkX2NoYW5nZVRleHQoaWQsIGV2ZW50T2JqLnRhcmdldCwgY29tbWVudEJvZHkpKVxufVxuXG5leHBvcnQgY29uc3Qgc2V0VGV4dEFuZEZ1bmN0aW9uX3Vuc3Vic2NyaWJlID0gKGlkLCBlbGVtZW50LCBjb21tZW50Qm9keSkgPT4ge1xuICAgIHJldHVybiAkKGVsZW1lbnQpLnRleHQoVU5TVUJTQ1JJQkVfVEVYVCkub2ZmKCdjbGljaycpLmNsaWNrKChldmVudE9iaikgPT4gdW5zdWJzY3JpYmVJZF9jaGFuZ2VUZXh0KGlkLCBldmVudE9iai50YXJnZXQsIGNvbW1lbnRCb2R5KSlcbn1cblxuY29uc3Qgc3Vic2NyaWJlSWRfY2hhbmdlVGV4dCA9IChpZCwgZWxlbWVudCwgY29tbWVudEJvZHkgPSAnJykgPT4ge1xuICAgIHN1YnNjcmliZUlkKGlkLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIHNldFRleHRBbmRGdW5jdGlvbl91bnN1YnNjcmliZShpZCwgZWxlbWVudCwgY29tbWVudEJvZHkpXG4gICAgICAgIGF3YWl0IHNldEN1cnJlbnRTdGF0ZUZvcklkKGlkLCB3aW5kb3cubG9jYXRpb24uaHJlZilcbiAgICAgICAgaWYgKGNvbW1lbnRCb2R5KSB7XG4gICAgICAgICAgICBnZXRMb2NhbFN0b3JhZ2VJdGVtcygnb3RoZXInLCBmYWxzZSlcbiAgICAgICAgICAgIC50aGVuKHN0b3JlZEl0ZW1zID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gc3RvcmVkSXRlbXNbaWRdXG4gICAgICAgICAgICAgICAgLy8gY29udGVudCBmcm9tIHByaXZhdGUgc3VicyB3b24ndCBiZSBzYXZlZCBiL2NcbiAgICAgICAgICAgICAgICAvLyBubyBpdGVtIGlzIGNyZWF0ZWQgZm9yIHRoYXQgKHJlZGRpdCByZXR1cm5zIG5vIGRhdGEgZm9yXG4gICAgICAgICAgICAgICAgLy8gbm9uLWxvZ2dlZC1pbiBhdXRoZW50aWNhdGVkIGFwcHMpXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbU9iaiA9IG5ldyBMb2NhbFN0b3JhZ2VJdGVtKHtvYmplY3Q6IGl0ZW19KVxuICAgICAgICAgICAgICAgICAgICBpdGVtT2JqLnNldFRleHQoY29tbWVudEJvZHkpXG4gICAgICAgICAgICAgICAgICAgIHN0b3JlZEl0ZW1zW2lkXSA9IGl0ZW1PYmpcbiAgICAgICAgICAgICAgICAgICAgc2F2ZUxvY2FsU3RvcmFnZUl0ZW1zKCdvdGhlcicsIGZhbHNlLCBzdG9yZWRJdGVtcylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gZmFsc2Vcbn1cblxuY29uc3QgdW5zdWJzY3JpYmVJZF9jaGFuZ2VUZXh0ID0gKGlkLCBlbGVtZW50LCBjb21tZW50Qm9keSkgPT4ge1xuICAgIHVuc3Vic2NyaWJlSWQoaWQsICgpID0+IHtcbiAgICAgICAgc2V0VGV4dEFuZEZ1bmN0aW9uX3N1YnNjcmliZShpZCwgZWxlbWVudCwgY29tbWVudEJvZHkpXG4gICAgfSlcbiAgICByZXR1cm4gZmFsc2Vcbn1cbiIsImltcG9ydCB7bG9va3VwSXRlbXNCeUlELCBsb29rdXBJdGVtc0J5VXNlciwgZ2V0QXV0aH0gZnJvbSAnLi9yZXF1ZXN0cy5qcydcbmltcG9ydCB7UkVNT1ZFRCwgREVMRVRFRCwgQVBQUk9WRUQsIExPQ0tFRCwgVU5MT0NLRUQsIEVESVRFRCxcbiAgICAgICAgYWRkTG9jYWxTdG9yYWdlSXRlbXMsIGdldExvY2FsU3RvcmFnZUl0ZW1zLFxuICAgICAgICBNQVhfU1lOQ19TVE9SQUdFX0lURU1TX1BFUl9PQkpFQ1QsIE1BWF9TWU5DX1NUT1JBR0VfQ0hBTkdFUywgU0VFTl9DT1VOVF9ERUZBVUxULFxuICAgICAgICBnZXRPYmplY3ROYW1lc0ZvclRoaW5nIH0gZnJvbSAnLi9zdG9yYWdlLmpzJ1xuaW1wb3J0IHtjcmVhdGVOb3RpZmljYXRpb24sIHVwZGF0ZUJhZGdlVW5zZWVuQ291bnQsIHRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZSxcbiAgICAgICAgaXNVc2VyRGVsZXRlZEl0ZW0sIGlzUmVtb3ZlZEl0ZW0sXG4gICAgICAgIEl0ZW1Gb3JTdG9yYWdlLCBMb2NhbFN0b3JhZ2VJdGVtLCBDaGFuZ2VGb3JTdG9yYWdlfSBmcm9tICcuL2NvbW1vbi5qcydcbmltcG9ydCBicm93c2VyIGZyb20gJ3dlYmV4dGVuc2lvbi1wb2x5ZmlsbCdcblxuXG5jb25zdCBTVUJTQ1JJQkVEX0ZST01fUkVERElUID0gMFxuY29uc3QgU1VCU0NSSUJFRF9GUk9NX1JFVkVERElUID0gMVxuY29uc3QgU1VCU0NSSUJFRF9GUk9NX05BID0gMlxuXG5jb25zdCBUQVJHRVRfU0VFTl9DT1VOVF9GT1JfUFJFVklPVVNMWV9SRUNPUkRFRF9DSEFOR0UgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA2MCkrNjBcblxuZXhwb3J0IGNvbnN0IHNldEN1cnJlbnRTdGF0ZUZvcklkID0gKGlkLCBzdWJzY3JpYmVkRnJvbVVSTCkgPT4ge1xuICAgIGxldCBzdWJzY3JpYmVkRnJvbSA9IFNVQlNDUklCRURfRlJPTV9SRURESVRcbiAgICBpZiAoc3Vic2NyaWJlZEZyb21VUkwubWF0Y2goL15odHRwczpcXC9cXC93d3cucmV2ZWRkaXQuY29tLykpIHtcbiAgICAgICAgc3Vic2NyaWJlZEZyb20gPSBTVUJTQ1JJQkVEX0ZST01fUkVWRURESVRcbiAgICB9XG4gICAgcmV0dXJuIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KG51bGwsIGZ1bmN0aW9uIChzdG9yYWdlKSB7XG4gICAgICAgIGdldEF1dGgoKVxuICAgICAgICAudGhlbigoYXV0aCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrRm9yQ2hhbmdlc190aGluZ19ieUlkKFtpZF0sICdvdGhlcicsIGZhbHNlLCBhdXRoLCBzdG9yYWdlLCBzdWJzY3JpYmVkRnJvbSwge30pXG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuY29uc3QgTUlOX1FVQVJBTlRJTkVEX0NIRUNLX0lOVEVSVkFMX0lOX1NFQ09ORFMgPSA1Kig2MCo2MCoyNClcblxuZXhwb3J0IGNvbnN0IGNoZWNrRm9yQ2hhbmdlcyA9ICgpID0+IHtcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChudWxsLCBmdW5jdGlvbiAoc3RvcmFnZSkge1xuICAgICAgICB2YXIgdXNlcnMgPSBPYmplY3Qua2V5cyhzdG9yYWdlLnVzZXJfc3Vic2NyaXB0aW9ucylcbiAgICAgICAgdmFyIG90aGVyID0gT2JqZWN0LmtleXMoc3RvcmFnZS5vdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgICAgICBpZiAodXNlcnMubGVuZ3RoIHx8IG90aGVyLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLzEwMDApXG4gICAgICAgICAgICAvLyBjaGVjayBmb3IgcXVhcmFudGluZWQgY29udGVudCBvbmNlIGluIGF3aGlsZSBhbmQgZW5hYmxlIG1vbml0b3JfcXVhcmFudGluZWQgaWYgc29tZSBpcyBmb3VuZFxuICAgICAgICAgICAgLy8gYmVjYXVzZSB1c2VycyBtYXkgbm90IGtub3cgdG8gZW5hYmxlIHRoaXMgb3B0aW9uXG4gICAgICAgICAgICAvLyB0aGUgb3B0aW9uIGlzIG9mZiBieSBkZWZhdWx0IGJlY2F1c2UgaXQgY2FuIGFwcGVhciB0byBjYXVzZSBhbiBvY2Nhc2lvbmFsIGxvZ291dFxuICAgICAgICAgICAgaWYgKCEgc3RvcmFnZS5sYXN0X2NoZWNrX3F1YXJhbnRpbmVkXG4gICAgICAgICAgICAgICAgfHwgKG5vdyAtIHN0b3JhZ2UubGFzdF9jaGVja19xdWFyYW50aW5lZCkgPiBNSU5fUVVBUkFOVElORURfQ0hFQ0tfSU5URVJWQUxfSU5fU0VDT05EUyApIHtcbiAgICAgICAgICAgICAgICBzdG9yYWdlLnRlbXBWYXJfbW9uaXRvcl9xdWFyYW50aW5lZCA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldEF1dGgoKVxuICAgICAgICAgICAgLnRoZW4oKGF1dGgpID0+IHtcbiAgICAgICAgICAgICAgICBjaGVja0ZvckNoYW5nZXNfb3RoZXIoYXV0aCwgc3RvcmFnZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hlY2tGb3JDaGFuZ2VzX3VzZXJzKHVzZXJzLCBhdXRoLCBzdG9yYWdlKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTdG9yYWdlID0ge2xhc3RfY2hlY2s6IG5vd31cbiAgICAgICAgICAgICAgICBpZiAoc3RvcmFnZS50ZW1wVmFyX21vbml0b3JfcXVhcmFudGluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RvcmFnZS5sYXN0X2NoZWNrX3F1YXJhbnRpbmVkID0gbm93XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdG9yYWdlLnRlbXBWYXJfcXVhcmFudGluZWRfY29udGVudF9mb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdTdG9yYWdlLm9wdGlvbnMgPSBzdG9yYWdlLm9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RvcmFnZS5vcHRpb25zLm1vbml0b3JfcXVhcmFudGluZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KG5ld1N0b3JhZ2UpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuY29uc3QgY2hlY2tGb3JDaGFuZ2VzX3VzZXJzID0gYXN5bmMgKHVzZXJzLCBhdXRoLCBzdG9yYWdlKSA9PiB7XG4gICAgaWYgKHVzZXJzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCB1c2VyID0gdXNlcnNbMF1cbiAgICAgICAgcmV0dXJuIGxvb2t1cEl0ZW1zQnlVc2VyKHVzZXIsICcnLCAnbmV3JywgJycsIHN0b3JhZ2Uub3B0aW9ucy5tb25pdG9yX3F1YXJhbnRpbmVkLCBzdG9yYWdlLnRlbXBWYXJfbW9uaXRvcl9xdWFyYW50aW5lZCwgYXV0aClcbiAgICAgICAgLnRoZW4oaXRlbXMgPT4ge1xuICAgICAgICAgICAgaWYgKCEgaXRlbXMpIHJldHVybiAvLyBoYW5kbGUgZXhwZWN0ZWQgZXJyb3JzXG4gICAgICAgICAgICB2YXIgaWRzID0gW11cbiAgICAgICAgICAgIGxldCBxdWFyYW50aW5lZF9zdWJyZWRkaXRzID0gbmV3IFNldCgpXG4gICAgICAgICAgICBjb25zdCBpdGVtTG9va3VwID0ge31cbiAgICAgICAgICAgIGlmIChpdGVtcy51c2VyICYmIGl0ZW1zLnVzZXIuaXRlbXMpIHsgLy8gZm9ybWF0IGZyb20gY3JlZDIucmV2ZWRkaXQuY29tXG4gICAgICAgICAgICAgICAgaXRlbXMgPSBpdGVtcy51c2VyLml0ZW1zXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmRhdGEgJiYgaXRlbS5kYXRhLm5hbWUpIHsgLy8gZm9ybWF0IGZyb20gcmVkZGl0XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLmRhdGFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWRzLnB1c2goaXRlbS5uYW1lKVxuICAgICAgICAgICAgICAgIGl0ZW1Mb29rdXBbaXRlbS5uYW1lXSA9IGl0ZW1cbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5xdWFyYW50aW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1YXJhbnRpbmVkX3N1YnJlZGRpdHMuYWRkKGl0ZW0uc3VicmVkZGl0KVxuICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLnRlbXBWYXJfcXVhcmFudGluZWRfY29udGVudF9mb3VuZCA9IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcmV0dXJuIGNoZWNrRm9yQ2hhbmdlc190aGluZ19ieUlkKGlkcywgdXNlciwgdHJ1ZSwgYXV0aCwgc3RvcmFnZSwgU1VCU0NSSUJFRF9GUk9NX05BLCBpdGVtTG9va3VwLCBBcnJheS5mcm9tKHF1YXJhbnRpbmVkX3N1YnJlZGRpdHMpKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gY2hlY2tGb3JDaGFuZ2VzX3VzZXJzKHVzZXJzLnNsaWNlKDEpLCBhdXRoLCBzdG9yYWdlKSlcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrRm9yQ2hhbmdlc19vdGhlcihhdXRoLCBzdG9yYWdlKSB7XG4gICAgY29uc3QgaWRzID0gT2JqZWN0LmtleXMoc3RvcmFnZS5vdGhlcl9zdWJzY3JpcHRpb25zKVxuICAgIGlmIChpZHMubGVuZ3RoKSB7XG4gICAgICAgIGNoZWNrRm9yQ2hhbmdlc190aGluZ19ieUlkKGlkcywgJ290aGVyJywgZmFsc2UsIGF1dGgsIHN0b3JhZ2UsIFNVQlNDUklCRURfRlJPTV9OQSlcbiAgICB9XG59XG5cbmNvbnN0IGNoZWNrRm9yQ2hhbmdlc190aGluZ19ieUlkID0gYXN5bmMgKGlkcywgdGhpbmcsIGlzVXNlciwgYXV0aCwgc3RvcmFnZSwgc3Vic2NyaWJlZEZyb20sIGl0ZW1Mb29rdXAgPSB7fSwgcXVhcmFudGluZWRfc3VicmVkZGl0cyA9IFtdKSA9PiB7XG4gICAgbGV0IHByb21pc2VcbiAgICBjb25zdCBtb25pdG9yX3F1YXJhbnRpbmVkID0gc3RvcmFnZS5vcHRpb25zLm1vbml0b3JfcXVhcmFudGluZWRcbiAgICBpZiAobG9jYXRpb24ucHJvdG9jb2wubWF0Y2goL15odHRwLykpIHtcbiAgICAgICAgLy8gdGhpcyBjb25kaXRpb24gaXMgZm9yIHdoZW4gdGhlIGNvZGUgaXMgYWN0aXZhdGVkIHZpYSBhIGNvbnRlbnQgc2NyaXB0IChlLmcuIHRoZSBzdWJzY3JpYmUgYnV0dG9uKSBhbmQgYnJvd3Nlci5jb29raWVzIGlzIHVuYXZhaWxhYmxlXG4gICAgICAgIHByb21pc2UgPSBicm93c2VyLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe2FjdGlvbjogJ2dldC1yZWRkaXQtaXRlbXMtYnktaWQnLCBpZHMsIG1vbml0b3JfcXVhcmFudGluZWR9KVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHByb21pc2UgPSBsb29rdXBJdGVtc0J5SUQoaWRzLCBhdXRoLCBtb25pdG9yX3F1YXJhbnRpbmVkLCBzdG9yYWdlLnRlbXBWYXJfbW9uaXRvcl9xdWFyYW50aW5lZCwgcXVhcmFudGluZWRfc3VicmVkZGl0cylcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2VcbiAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICBpZiAoISByZXN1bHQpIHJldHVybiAvLyBoYW5kbGUgZXhwZWN0ZWQgZXJyb3JzXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gQXJyYXkuaXNBcnJheShyZXN1bHQpID8gcmVzdWx0IDogcmVzdWx0Lml0ZW1zXG4gICAgICAgIGlmICghIGl0ZW1zKSByZXR1cm4gLy8gaGFuZGxlIGV4cGVjdGVkIGVycm9ycyBmcm9tIG9ialxuICAgICAgICBjb25zdCByZW1vdmFsX3N0YXR1cyA9IHN0b3JhZ2Uub3B0aW9ucy5yZW1vdmFsX3N0YXR1c1xuICAgICAgICBjb25zdCBsb2NrX3N0YXR1cyA9IHN0b3JhZ2Uub3B0aW9ucy5sb2NrX3N0YXR1c1xuICAgICAgICBjb25zdCB0YXJnZXRfc2Vlbl9jb3VudCA9IHN0b3JhZ2Uub3B0aW9ucy5zZWVuX2NvdW50IHx8IFNFRU5fQ09VTlRfREVGQVVMVFxuICAgICAgICBjb25zdCBrZXlzID0gZ2V0T2JqZWN0TmFtZXNGb3JUaGluZyh0aGluZywgaXNVc2VyKVxuXG4gICAgICAgIGNvbnN0IGtub3duX3JlbW92ZWQgPSBzdG9yYWdlW2tleXNbJ3JlbW92ZWQnXV0gfHwge31cbiAgICAgICAgY29uc3Qga25vd25fYXBwcm92ZWQgPSBzdG9yYWdlW2tleXNbJ2FwcHJvdmVkJ11dIHx8IHt9XG4gICAgICAgIGNvbnN0IGtub3duX2xvY2tlZCA9IHN0b3JhZ2Vba2V5c1snbG9ja2VkJ11dIHx8IHt9XG4gICAgICAgIGNvbnN0IGtub3duX3VubG9ja2VkID0gc3RvcmFnZVtrZXlzWyd1bmxvY2tlZCddXSB8fCB7fVxuICAgICAgICBjb25zdCBjaGFuZ2VzID0gc3RvcmFnZVtrZXlzWydjaGFuZ2VzJ11dIHx8IFtdXG4gICAgICAgIGlmICghIGlzVXNlcikge1xuICAgICAgICAgICAgaXRlbUxvb2t1cCA9IHt9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVtb3ZlZCA9IFtdLCBhcHByb3ZlZCA9IFtdLCBsb2NrZWQgPSBbXSwgdW5sb2NrZWQgPSBbXVxuICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW1XcmFwID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtV3JhcC5kYXRhXG4gICAgICAgICAgICBpZiAoISBpc1VzZXIpIHtcbiAgICAgICAgICAgICAgICBpdGVtTG9va3VwW2l0ZW0ubmFtZV0gPSBpdGVtXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNSZW1vdmVkSXRlbShpdGVtKSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZWQucHVzaChpdGVtLm5hbWUpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFwcHJvdmVkLnB1c2goaXRlbS5uYW1lKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW0ubG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgbG9ja2VkLnB1c2goaXRlbS5uYW1lKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1bmxvY2tlZC5wdXNoKGl0ZW0ubmFtZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLy8gbWFyayBpdGVtcyB0aGF0IGRvIG5vdCBleGlzdCBpbiBhcnJheXNcbiAgICAgICAgLy8gY2hhbmdlIGhhcHBlbnMgaWY6XG4gICAgICAgIC8vICAgICAgdHJhY2tpbmcgcmVtb3ZhbHMgJiYgaXRlbSBpcyByZW1vdmVkXG4gICAgICAgIC8vICAgICAgdHJhY2tpbmcgcmVtb3ZhbHMgJiYgaXRlbSB3YXMgaW4gcmVtb3ZlZCwgbm93IGluIGFwcHJvdmVkXG4gICAgICAgIGNvbnN0IG5ld0xvY2FsU3RvcmFnZUl0ZW1zID0ge31cblxuICAgICAgICBjb25zdCBjaGFuZ2VUeXBlcyA9IFtdXG4gICAgICAgIGxldCBudW1fY2hhbmdlcyA9IDBcbiAgICAgICAgcmV0dXJuIGdldExvY2FsU3RvcmFnZUl0ZW1zKHRoaW5nLCBpc1VzZXIpXG4gICAgICAgIC50aGVuKGV4aXN0aW5nTG9jYWxTdG9yYWdlSXRlbXMgPT4ge1xuICAgICAgICAgICAgaWYgKHJlbW92YWxfc3RhdHVzLnRyYWNrKSB7XG4gICAgICAgICAgICAgICAgbnVtX2NoYW5nZXMgKz0gbWFya0NoYW5nZXMocmVtb3ZlZCwgUkVNT1ZFRCwgJ21vZCByZW1vdmVkJywga25vd25fcmVtb3ZlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHByb3ZlZCwgQVBQUk9WRUQsICdhcHByb3ZlZCcsIGtub3duX2FwcHJvdmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXMsIGl0ZW1Mb29rdXAsIHJlbW92YWxfc3RhdHVzLm5vdGlmeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdMb2NhbFN0b3JhZ2VJdGVtcywgY2hhbmdlVHlwZXMsIGlzVXNlciwgc3Vic2NyaWJlZEZyb20sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdMb2NhbFN0b3JhZ2VJdGVtcywgdGFyZ2V0X3NlZW5fY291bnQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobG9ja19zdGF0dXMudHJhY2spIHtcbiAgICAgICAgICAgICAgICBudW1fY2hhbmdlcyArPSBtYXJrQ2hhbmdlcyhsb2NrZWQsIExPQ0tFRCwgJ2xvY2tlZCcsIGtub3duX2xvY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmxvY2tlZCwgVU5MT0NLRUQsICd1bmxvY2tlZCcsIGtub3duX3VubG9ja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXMsIGl0ZW1Mb29rdXAsIGxvY2tfc3RhdHVzLm5vdGlmeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdMb2NhbFN0b3JhZ2VJdGVtcywgY2hhbmdlVHlwZXMsIGlzVXNlciwgc3Vic2NyaWJlZEZyb20sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdMb2NhbFN0b3JhZ2VJdGVtcywgdGFyZ2V0X3NlZW5fY291bnQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobnVtX2NoYW5nZXMgJiYgY2hhbmdlVHlwZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICAgICAgICB7bm90aWZpY2F0aW9uSWQ6IHRoaW5nLFxuICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaW5nLFxuICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYCR7bnVtX2NoYW5nZXN9IG5ldyBbJHtjaGFuZ2VUeXBlcy5qb2luKCcsICcpfV0gYWN0aW9ucywgY2xpY2sgdG8gdmlld2B9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBba2V5c1sncmVtb3ZlZCddXTogdHJpbURpY3RfYnlfbnVtYmVyVmFsdWVkQXR0cmlidXRlKGtub3duX3JlbW92ZWQsIE1BWF9TWU5DX1NUT1JBR0VfSVRFTVNfUEVSX09CSkVDVCwgJ2MnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBba2V5c1snYXBwcm92ZWQnXV06IHRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZShrbm93bl9hcHByb3ZlZCwgTUFYX1NZTkNfU1RPUkFHRV9JVEVNU19QRVJfT0JKRUNULCAnYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtrZXlzWydsb2NrZWQnXV06IHRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZShrbm93bl9sb2NrZWQsIE1BWF9TWU5DX1NUT1JBR0VfSVRFTVNfUEVSX09CSkVDVCwgJ2MnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBba2V5c1sndW5sb2NrZWQnXV06IHRyaW1EaWN0X2J5X251bWJlclZhbHVlZEF0dHJpYnV0ZShrbm93bl91bmxvY2tlZCwgTUFYX1NZTkNfU1RPUkFHRV9JVEVNU19QRVJfT0JKRUNULCAnYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtrZXlzWydjaGFuZ2VzJ11dOiBjaGFuZ2VzLnNsaWNlKC1NQVhfU1lOQ19TVE9SQUdFX0NIQU5HRVMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdXBkYXRlQmFkZ2VVbnNlZW5Db3VudCgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZExvY2FsU3RvcmFnZUl0ZW1zKG5ld0xvY2FsU3RvcmFnZUl0ZW1zLCB0aGluZywgaXNVc2VyKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5jb25zdCBjaGFuZ2VJc1ByZXZpb3VzbHlSZWNvcmRlZCA9IChuYW1lLCBjaGFuZ2VfdHlwZSwgY2hhbmdlcykgPT4ge1xuICAgIGZvciAoY29uc3QgY2hhbmdlIG9mIGNoYW5nZXMpIHtcbiAgICAgICAgbGV0IGNoYW5nZV9vYmogPSBjaGFuZ2VcbiAgICAgICAgaWYgKCEgKGNoYW5nZV9vYmogaW5zdGFuY2VvZiBDaGFuZ2VGb3JTdG9yYWdlKSkge1xuICAgICAgICAgICAgY2hhbmdlX29iaiA9IG5ldyBDaGFuZ2VGb3JTdG9yYWdlKHtvYmplY3Q6IGNoYW5nZX0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZV9vYmouZ2V0SUQoKSA9PT0gbmFtZSAmJiBjaGFuZ2VfdHlwZSA9PT0gY2hhbmdlX29iai5nZXRDaGFuZ2VUeXBlSW50ZXJuYWwoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2Vcbn1cblxuXG4vLyBuZXdMb2NhbFN0b3JhZ2VJdGVtcyBvcGVyYXRlcyBhcyBhIHJldHVybiB2YWx1ZVxuZnVuY3Rpb24gbWFya0NoYW5nZXMgKGFsZXJ0X2N1cnJlbnRfbGlzdCwgYWxlcnRfdHlwZSwgYWxlcnRfdGV4dCwgYWxlcnRfa25vd25faGFzaCxcbiAgICAgICAgICAgICAgICAgICAgICBub3JtYWxfY3VycmVudF9saXN0LCBub3JtYWxfdHlwZSwgbm9ybWFsX3RleHQsIG5vcm1hbF9rbm93bl9oYXNoLFxuICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXMsIGl0ZW1Mb29rdXAsIG5vdGlmeSwgbmV3TG9jYWxTdG9yYWdlSXRlbXMsIGNoYW5nZVR5cGVzLFxuICAgICAgICAgICAgICAgICAgICAgIGlzVXNlciwgc3Vic2NyaWJlZEZyb20sIGV4aXN0aW5nTG9jYWxTdG9yYWdlSXRlbXMsIHRhcmdldF9zZWVuX2NvdW50KSB7XG4gICAgY29uc3QgYWxlcnRfdW5zZWVuX2lkcyA9IFtdLFxuICAgICAgICAgIG5vcm1hbF91bnNlZW5faWRzID0gW10sXG4gICAgICAgICAgYWxlcnRfdXNlckRlbGV0ZWRfdW5zZWVuX2lkcyA9IFtdLFxuICAgICAgICAgIG5vdyA9IE1hdGguZmxvb3IobmV3IERhdGUoKS8xMDAwKVxuXG4gICAgYWxlcnRfY3VycmVudF9saXN0LmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtTG9va3VwW25hbWVdXG4gICAgICAgIC8vIDEuIGluIHRoZSBjYXNlIG9mIGEgbm9uLXVzZXJwYWdlLXRyYWNrZWQgKGlzVXNlcj1mYWxzZSkgcmVtb3ZlZCBjb21tZW50LCBkb24ndCBvdmVyd3JpdGUgbG9jYWwgc3RvcmFnZSBiL2NcbiAgICAgICAgLy8gaWYgaXQgd2VyZSBvdmVyd3JpdHRlbiwgYm9keSB3b3VsZCBhcHBlYXIgb24gaGlzdG9yeSBwYWdlIGFzIFtyZW1vdmVkXVxuICAgICAgICAvLyAyLiBpbiB0aGUgY2FzZSBvZiB1c2VycGFnZSB0cmFja2luZyAoaXNVc2VyPXRydWUpLCBvbmx5IG5lZWQgdG8gc2F2ZSB0aGUgdGV4dCBpbiBsb2NhbCBzdG9yYWdlXG4gICAgICAgIC8vIHdoZW4gdGhlcmUgaXMgYSBjaGFuZ2UuIHVzZXIgcGFnZSBsb29rdXAgKGl0ZW1Mb29rdXApIHdpbGwgaGF2ZSBvcmlnaW5hbCB0ZXh0XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nTG9jYWxTdG9yYWdlSXRlbSA9IGV4aXN0aW5nTG9jYWxTdG9yYWdlSXRlbXNbbmFtZV1cbiAgICAgICAgaWYgKCEgaXNVc2VyICYmICEgZXhpc3RpbmdMb2NhbFN0b3JhZ2VJdGVtKSB7XG4gICAgICAgICAgICBuZXdMb2NhbFN0b3JhZ2VJdGVtc1tuYW1lXSA9IG5ldyBMb2NhbFN0b3JhZ2VJdGVtKHtpdGVtOiBpdGVtLCBvYnNlcnZlZF91dGM6IG5vd30pXG4gICAgICAgIH0gZWxzZSBpZiAoZXhpc3RpbmdMb2NhbFN0b3JhZ2VJdGVtKSB7XG4gICAgICAgICAgICAvLyByZXNldCBzZWVuX2NvdW50IHNvIHRoYXQgaXRlbXMgb2JzZXJ2ZWQgYXMgYXBwcm92ZWQvbm9ybWFsIG11c3QgYmUgY29uc2VjdXRpdmVseSBzZWVuIHcvdGhhdCBzdGF0ZVxuICAgICAgICAgICAgLy8gTm90ZTogVGhlIHZhciBzZWVuX2NvdW50IGlzIHJlYWxseSBhICdzZWVuIGFzIG5vcm1hbCcgY291bnQsIGJ1dCB3ZSBkb24ndCBuZWVkIGFuIGFsZXJ0X3NlZW5fY291bnRcbiAgICAgICAgICAgIGNvbnN0IG5ld0xvY2FsU3RvcmFnZUl0ZW0gPSBuZXcgTG9jYWxTdG9yYWdlSXRlbSh7b2JqZWN0OiBleGlzdGluZ0xvY2FsU3RvcmFnZUl0ZW19KVxuICAgICAgICAgICAgbmV3TG9jYWxTdG9yYWdlSXRlbS5yZXNldFNlZW5Db3VudCgpXG4gICAgICAgICAgICBuZXdMb2NhbFN0b3JhZ2VJdGVtc1tuYW1lXSA9IG5ld0xvY2FsU3RvcmFnZUl0ZW1cbiAgICAgICAgfVxuICAgICAgICBpZiAoISAobmFtZSBpbiBhbGVydF9rbm93bl9oYXNoKSkge1xuICAgICAgICAgICAgLy8gbWFya1Vuc2VlbiBpcyBhbHdheXMgdHJ1ZSBleGNlcHQgd2hlbiBzdWJzY3JpYmluZyB2aWEgYSByZWRkaXQgKG5vdCByZXZlZGRpdCkgcGFnZSB0byBhIG5ldyBJRCBmb3IgJ290aGVyJ1xuICAgICAgICAgICAgLy8gc3Vic2NyaXB0aW9ucy4gQXMgbG9uZyBhcyB0aGUgaXRlbSBpcyBub3QgJ3JlbW92ZWQnLCB0aGUgY3VycmVudCBzdGF0ZSBpcyBzdG9yZWQgYXMgJ3NlZW4nICh1bnNlZW49ZmFsc2UpLlxuICAgICAgICAgICAgLy8gSXQgaXMgYXNzdW1lZCB0aGF0IHVzZXJzIHN1YnNjcmliaW5nIGZyb20gcmV2ZWRkaXQgcGFnZXMgd2lsbCBhbHJlYWR5IGhhdmUgc2VlbiBhbGwgdGhlIGN1cnJlbnQgbW9kIGFjdGlvbnMsXG4gICAgICAgICAgICAvLyBhbmQgdXNlcnMgc3Vic2NyaWJpbmcgZnJvbSBhIHJlZGRpdCBwYWdlIHdpbGwgYWxyZWFkeSBrbm93IGFib3V0IGxvY2tlZCBpdGVtc1xuICAgICAgICAgICAgbGV0IG1hcmtVbnNlZW4gPSB0cnVlXG4gICAgICAgICAgICBpZiAoKHN1YnNjcmliZWRGcm9tID09PSBTVUJTQ1JJQkVEX0ZST01fUkVERElUICYmIGFsZXJ0X3R5cGUgIT09IFJFTU9WRUQpIHx8XG4gICAgICAgICAgICAgICAgIHN1YnNjcmliZWRGcm9tID09PSBTVUJTQ1JJQkVEX0ZST01fUkVWRURESVQpIHtcbiAgICAgICAgICAgICAgICBtYXJrVW5zZWVuID0gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFsZXJ0X2tub3duX2hhc2hbbmFtZV0gPSBuZXcgSXRlbUZvclN0b3JhZ2UoaXRlbS5jcmVhdGVkX3V0YywgbWFya1Vuc2VlbilcbiAgICAgICAgICAgIGRlbGV0ZSBub3JtYWxfa25vd25faGFzaFtuYW1lXVxuICAgICAgICAgICAgaWYgKG1hcmtVbnNlZW4pIHtcbiAgICAgICAgICAgICAgICBsZXQgYWxlcnRfdHlwZV92YXIgPSBhbGVydF90eXBlXG4gICAgICAgICAgICAgICAgaWYgKGlzVXNlckRlbGV0ZWRJdGVtKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0X3R5cGVfdmFyID0gREVMRVRFRFxuICAgICAgICAgICAgICAgICAgICBhbGVydF91c2VyRGVsZXRlZF91bnNlZW5faWRzLnB1c2gobmFtZSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbGVydF91bnNlZW5faWRzLnB1c2gobmFtZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2hhbmdlcy5wdXNoKG5ldyBDaGFuZ2VGb3JTdG9yYWdlKHtpZDogbmFtZSwgb2JzZXJ2ZWRfdXRjOiBub3csIGNoYW5nZV90eXBlOiBhbGVydF90eXBlX3Zhcn0pKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzVXNlcikge1xuICAgICAgICAgICAgICAgIG5ld0xvY2FsU3RvcmFnZUl0ZW1zW25hbWVdID0gbmV3IExvY2FsU3RvcmFnZUl0ZW0oe2l0ZW06IGl0ZW0sIG9ic2VydmVkX3V0Yzogbm93fSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pXG4gICAgbm9ybWFsX2N1cnJlbnRfbGlzdC5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICBjb25zdCBpdGVtID0gaXRlbUxvb2t1cFtuYW1lXVxuICAgICAgICAvLyBzYXZlIG9yaWdpbmFsIHRleHQgZm9yIGFsbCBub24tdXNlcnBhZ2UtdHJhY2tlZCBpdGVtcyBzaW5jZSBjb21tZW50IHRleHQgY2FuIGRpc2FwcGVhclxuICAgICAgICBpZiAoISBpc1VzZXIgJiYgISBleGlzdGluZ0xvY2FsU3RvcmFnZUl0ZW1zW25hbWVdKSB7XG4gICAgICAgICAgICBuZXdMb2NhbFN0b3JhZ2VJdGVtc1tuYW1lXSA9IG5ldyBMb2NhbFN0b3JhZ2VJdGVtKHtpdGVtOiBpdGVtLCBvYnNlcnZlZF91dGM6IG5vd30pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgaW4gYWxlcnRfa25vd25faGFzaCkge1xuICAgICAgICAgICAgY29uc3QgdGhpc19sb2NhbFN0b3JhZ2VJdGVtID0gbmV3IExvY2FsU3RvcmFnZUl0ZW0oe29iamVjdDogZXhpc3RpbmdMb2NhbFN0b3JhZ2VJdGVtc1tuYW1lXX0pXG4gICAgICAgICAgICAvLyBUcmFjayB0aGUgc2VlbiBjb3VudCwgYWthICdvYnNlcnZlZCBzYW1lIHN0YXR1cycgY291bnRcbiAgICAgICAgICAgIC8vIERvaW5nIHNvIGFsbG93cyBzZW5kaW5nIGFuIGFsZXJ0IG9ubHkgYWZ0ZXIgTiB0aW1lcyBhIG5ldyBzdGF0dXMgaGFzIGJlZW4gb2JzZXJ2ZWQuXG4gICAgICAgICAgICAvLyBTZWU6IGh0dHBzOi8vd3d3LnJlZGRpdC5jb20vci9yZXZlZGRpdC9jb21tZW50cy96Yzd0Y20vcmV2ZWRkaXRfc2VuZGluZ19yZXBldGl0aXZlX25vdGlmaWNhdGlvbnMvXG4gICAgICAgICAgICBjb25zdCBzZWVuX2NvdW50ID0gdGhpc19sb2NhbFN0b3JhZ2VJdGVtLmluY3JlbWVudFNlZW5Db3VudCgpXG4gICAgICAgICAgICBpZiAoc2Vlbl9jb3VudCA+PSB0YXJnZXRfc2Vlbl9jb3VudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZV9pc19wcmV2aW91c2x5X3JlY29yZGVkID0gY2hhbmdlSXNQcmV2aW91c2x5UmVjb3JkZWQobmFtZSwgbm9ybWFsX3R5cGUsIGNoYW5nZXMpXG4gICAgICAgICAgICAgICAgLy8gVG8gcHJldmVudCByZXBlYXQgbm90aWZpY2F0aW9ucywgd2hvc2Ugbm9uLWRldGVybWluaXN0aWMgY2F1c2UgSSBoYXZlbid0IHlldCBmaWd1cmVkIG91dCxcbiAgICAgICAgICAgICAgICAvLyBvbmx5IG5vdGlmeSBhYm91dCB0aGUgc2Vjb25kIG9ic2VydmVkIGNoYW5nZSBpbiBzdGF0dXMgYmFjayB0byAnbm9ybWFsJyAoYXBwcm92ZWQvdW5sb2NrZWQpXG4gICAgICAgICAgICAgICAgLy8gaWYgYSBoaWdoZXIgdGhyZXNob2xkIG9mIGNvbnNlY3V0aXZlIG5vcm1hbCBzdGF0dXNlcyBoYXMgYmVlbiBvYnNlcnZlZFxuICAgICAgICAgICAgICAgIGlmICghIGNoYW5nZV9pc19wcmV2aW91c2x5X3JlY29yZGVkIHx8IHNlZW5fY291bnQgPj0gVEFSR0VUX1NFRU5fQ09VTlRfRk9SX1BSRVZJT1VTTFlfUkVDT1JERURfQ0hBTkdFKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbF9rbm93bl9oYXNoW25hbWVdID0gbmV3IEl0ZW1Gb3JTdG9yYWdlKGl0ZW0uY3JlYXRlZF91dGMsIHRydWUpXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhbGVydF9rbm93bl9oYXNoW25hbWVdXG5cbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlcy5wdXNoKG5ldyBDaGFuZ2VGb3JTdG9yYWdlKHtpZDogbmFtZSwgb2JzZXJ2ZWRfdXRjOiBub3csIGNoYW5nZV90eXBlOiBub3JtYWxfdHlwZSwgc2Vlbl9jb3VudH0pKVxuICAgICAgICAgICAgICAgICAgICBub3JtYWxfdW5zZWVuX2lkcy5wdXNoKG5hbWUpXG5cbiAgICAgICAgICAgICAgICAgICAgbmV3TG9jYWxTdG9yYWdlSXRlbXNbbmFtZV0gPSBuZXcgTG9jYWxTdG9yYWdlSXRlbSh7aXRlbTogaXRlbSwgb2JzZXJ2ZWRfdXRjOiBub3d9KVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0xvY2FsU3RvcmFnZUl0ZW1zW25hbWVdID0gdGhpc19sb2NhbFN0b3JhZ2VJdGVtXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdMb2NhbFN0b3JhZ2VJdGVtc1tuYW1lXSA9IHRoaXNfbG9jYWxTdG9yYWdlSXRlbVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9ybWFsX2tub3duX2hhc2hbbmFtZV0gPSBuZXcgSXRlbUZvclN0b3JhZ2UoaXRlbS5jcmVhdGVkX3V0YywgZmFsc2UpXG4gICAgICAgIH1cbiAgICB9KVxuICAgIGNvbnN0IG51bV9jaGFuZ2VzID0gYWxlcnRfdW5zZWVuX2lkcy5sZW5ndGggKyBub3JtYWxfdW5zZWVuX2lkcy5sZW5ndGggKyBhbGVydF91c2VyRGVsZXRlZF91bnNlZW5faWRzLmxlbmd0aFxuICAgIGlmIChub3RpZnkgJiYgbnVtX2NoYW5nZXMpIHtcbiAgICAgICAgaWYgKGFsZXJ0X3Vuc2Vlbl9pZHMubGVuZ3RoKSBjaGFuZ2VUeXBlcy5wdXNoKGFsZXJ0X3RleHQpXG4gICAgICAgIGlmIChhbGVydF91c2VyRGVsZXRlZF91bnNlZW5faWRzLmxlbmd0aCkgY2hhbmdlVHlwZXMucHVzaCgndXNlciBkZWxldGVkJylcbiAgICAgICAgaWYgKG5vcm1hbF91bnNlZW5faWRzLmxlbmd0aCkgY2hhbmdlVHlwZXMucHVzaChub3JtYWxfdGV4dClcbiAgICB9XG4gICAgcmV0dXJuIG51bV9jaGFuZ2VzXG59XG4iXSwic291cmNlUm9vdCI6IiJ9